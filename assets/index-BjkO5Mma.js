function gP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function eC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yy={exports:{}},Rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function pP(){if(cS)return Rc;cS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Rc.Fragment=e,Rc.jsx=t,Rc.jsxs=t,Rc}var hS;function mP(){return hS||(hS=1,yy.exports=pP()),yy.exports}var ce=mP(),vy={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function yP(){if(fS)return Fe;fS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function z(L,ne,fe){this.props=L,this.context=ne,this.refs=O,this.updater=fe||I}z.prototype.isReactComponent={},z.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=z.prototype;function te(L,ne,fe){this.props=L,this.context=ne,this.refs=O,this.updater=fe||I}var he=te.prototype=new j;he.constructor=te,N(he,z.prototype),he.isPureReactComponent=!0;var Ee=Array.isArray;function _e(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(L,ne,fe){var ve=fe.ref;return{$$typeof:n,type:L,key:ne,ref:ve!==void 0?ve:null,props:fe}}function V(L,ne){return D(L.type,ne,L.props)}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function B(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return ne[fe]})}var M=/\/+/g;function He(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ne.toString(36)}function ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(_e,_e):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function W(L,ne,fe,ve,Ce){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var Xe=!1;if(L===null)Xe=!0;else switch(Oe){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(L.$$typeof){case n:case e:Xe=!0;break;case y:return Xe=L._init,W(Xe(L._payload),ne,fe,ve,Ce)}}if(Xe)return Ce=Ce(L),Xe=ve===""?"."+He(L,0):ve,Ee(Ce)?(fe="",Xe!=null&&(fe=Xe.replace(M,"$&/")+"/"),W(Ce,ne,fe,"",function(Yi){return Yi})):Ce!=null&&(k(Ce)&&(Ce=V(Ce,fe+(Ce.key==null||L&&L.key===Ce.key?"":(""+Ce.key).replace(M,"$&/")+"/")+Xe)),ne.push(Ce)),1;Xe=0;var Nt=ve===""?".":ve+":";if(Ee(L))for(var Pt=0;Pt<L.length;Pt++)ve=L[Pt],Oe=Nt+He(ve,Pt),Xe+=W(ve,ne,fe,Oe,Ce);else if(Pt=A(L),typeof Pt=="function")for(L=Pt.call(L),Pt=0;!(ve=L.next()).done;)ve=ve.value,Oe=Nt+He(ve,Pt++),Xe+=W(ve,ne,fe,Oe,Ce);else if(Oe==="object"){if(typeof L.then=="function")return W(ft(L),ne,fe,ve,Ce);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function ue(L,ne,fe){if(L==null)return L;var ve=[],Ce=0;return W(L,ve,"","",function(Oe){return ne.call(fe,Oe,Ce++)}),ve}function ye(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var ke=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ve={map:ue,forEach:function(L,ne,fe){ue(L,function(){ne.apply(this,arguments)},fe)},count:function(L){var ne=0;return ue(L,function(){ne++}),ne},toArray:function(L){return ue(L,function(ne){return ne})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Fe.Activity=v,Fe.Children=Ve,Fe.Component=z,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=te,Fe.StrictMode=r,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return S.H.useMemoCache(L)}},Fe.cache=function(L){return function(){return L.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(L,ne,fe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ve=N({},L.props),Ce=L.key;if(ne!=null)for(Oe in ne.key!==void 0&&(Ce=""+ne.key),ne)!R.call(ne,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ne.ref===void 0||(ve[Oe]=ne[Oe]);var Oe=arguments.length-2;if(Oe===1)ve.children=fe;else if(1<Oe){for(var Xe=Array(Oe),Nt=0;Nt<Oe;Nt++)Xe[Nt]=arguments[Nt+2];ve.children=Xe}return D(L.type,Ce,ve)},Fe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Fe.createElement=function(L,ne,fe){var ve,Ce={},Oe=null;if(ne!=null)for(ve in ne.key!==void 0&&(Oe=""+ne.key),ne)R.call(ne,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ce[ve]=ne[ve]);var Xe=arguments.length-2;if(Xe===1)Ce.children=fe;else if(1<Xe){for(var Nt=Array(Xe),Pt=0;Pt<Xe;Pt++)Nt[Pt]=arguments[Pt+2];Ce.children=Nt}if(L&&L.defaultProps)for(ve in Xe=L.defaultProps,Xe)Ce[ve]===void 0&&(Ce[ve]=Xe[ve]);return D(L,Oe,Ce)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(L){return{$$typeof:h,render:L}},Fe.isValidElement=k,Fe.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ye}},Fe.memo=function(L,ne){return{$$typeof:g,type:L,compare:ne===void 0?null:ne}},Fe.startTransition=function(L){var ne=S.T,fe={};S.T=fe;try{var ve=L(),Ce=S.S;Ce!==null&&Ce(fe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(_e,ke)}catch(Oe){ke(Oe)}finally{ne!==null&&fe.types!==null&&(ne.types=fe.types),S.T=ne}},Fe.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Fe.use=function(L){return S.H.use(L)},Fe.useActionState=function(L,ne,fe){return S.H.useActionState(L,ne,fe)},Fe.useCallback=function(L,ne){return S.H.useCallback(L,ne)},Fe.useContext=function(L){return S.H.useContext(L)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(L,ne){return S.H.useDeferredValue(L,ne)},Fe.useEffect=function(L,ne){return S.H.useEffect(L,ne)},Fe.useEffectEvent=function(L){return S.H.useEffectEvent(L)},Fe.useId=function(){return S.H.useId()},Fe.useImperativeHandle=function(L,ne,fe){return S.H.useImperativeHandle(L,ne,fe)},Fe.useInsertionEffect=function(L,ne){return S.H.useInsertionEffect(L,ne)},Fe.useLayoutEffect=function(L,ne){return S.H.useLayoutEffect(L,ne)},Fe.useMemo=function(L,ne){return S.H.useMemo(L,ne)},Fe.useOptimistic=function(L,ne){return S.H.useOptimistic(L,ne)},Fe.useReducer=function(L,ne,fe){return S.H.useReducer(L,ne,fe)},Fe.useRef=function(L){return S.H.useRef(L)},Fe.useState=function(L){return S.H.useState(L)},Fe.useSyncExternalStore=function(L,ne,fe){return S.H.useSyncExternalStore(L,ne,fe)},Fe.useTransition=function(){return S.H.useTransition()},Fe.version="19.2.3",Fe}var dS;function l_(){return dS||(dS=1,vy.exports=yP()),vy.exports}var q=l_();const Yr=eC(q),vP=gP({__proto__:null,default:Yr},[q]);var _y={exports:{}},Cc={},Ey={exports:{}},by={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function _P(){return gS||(gS=1,(function(n){function e(W,ue){var ye=W.length;W.push(ue);e:for(;0<ye;){var ke=ye-1>>>1,Ve=W[ke];if(0<s(Ve,ue))W[ke]=ue,W[ye]=Ve,ye=ke;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ue=W[0],ye=W.pop();if(ye!==ue){W[0]=ye;e:for(var ke=0,Ve=W.length,L=Ve>>>1;ke<L;){var ne=2*(ke+1)-1,fe=W[ne],ve=ne+1,Ce=W[ve];if(0>s(fe,ye))ve<Ve&&0>s(Ce,fe)?(W[ke]=Ce,W[ve]=ye,ke=ve):(W[ke]=fe,W[ne]=ye,ke=ne);else if(ve<Ve&&0>s(Ce,ye))W[ke]=Ce,W[ve]=ye,ke=ve;else break e}}return ue}function s(W,ue){var ye=W.sortIndex-ue.sortIndex;return ye!==0?ye:W.id-ue.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,v=null,E=3,A=!1,I=!1,N=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(W){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=W)r(g),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=t(g)}}function Ee(W){if(N=!1,he(W),!I)if(t(f)!==null)I=!0,_e||(_e=!0,B());else{var ue=t(g);ue!==null&&ft(Ee,ue.startTime-W)}}var _e=!1,S=-1,R=5,D=-1;function V(){return O?!0:!(n.unstable_now()-D<R)}function k(){if(O=!1,_e){var W=n.unstable_now();D=W;var ue=!0;try{e:{I=!1,N&&(N=!1,j(S),S=-1),A=!0;var ye=E;try{t:{for(he(W),v=t(f);v!==null&&!(v.expirationTime>W&&V());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,E=v.priorityLevel;var Ve=ke(v.expirationTime<=W);if(W=n.unstable_now(),typeof Ve=="function"){v.callback=Ve,he(W),ue=!0;break t}v===t(f)&&r(f),he(W)}else r(f);v=t(f)}if(v!==null)ue=!0;else{var L=t(g);L!==null&&ft(Ee,L.startTime-W),ue=!1}}break e}finally{v=null,E=ye,A=!1}ue=void 0}}finally{ue?B():_e=!1}}}var B;if(typeof te=="function")B=function(){te(k)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,He=M.port2;M.port1.onmessage=k,B=function(){He.postMessage(null)}}else B=function(){z(k,0)};function ft(W,ue){S=z(function(){W(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var ye=E;E=ue;try{return W()}finally{E=ye}},n.unstable_requestPaint=function(){O=!0},n.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=E;E=W;try{return ue()}finally{E=ye}},n.unstable_scheduleCallback=function(W,ue,ye){var ke=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ke+ye:ke):ye=ke,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ye+Ve,W={id:y++,callback:ue,priorityLevel:W,startTime:ye,expirationTime:Ve,sortIndex:-1},ye>ke?(W.sortIndex=ye,e(g,W),t(f)===null&&W===t(g)&&(N?(j(S),S=-1):N=!0,ft(Ee,ye-ke))):(W.sortIndex=Ve,e(f,W),I||A||(I=!0,_e||(_e=!0,B()))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var ue=E;return function(){var ye=E;E=ue;try{return W.apply(this,arguments)}finally{E=ye}}}})(by)),by}var pS;function EP(){return pS||(pS=1,Ey.exports=_P()),Ey.exports}var Ay={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function bP(){if(mS)return Un;mS=1;var n=l_();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,y)},Un.flushSync=function(f){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=g,r.p=y,r.d.f()}},Un.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(f,g))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&r.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Un.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(f)},Un.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);r.d.L(f,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Un.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);r.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,g){return f(g)},Un.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},Un.useFormStatus=function(){return u.H.useHostTransitionStatus()},Un.version="19.2.3",Un}var yS;function tC(){if(yS)return Ay.exports;yS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ay.exports=bP(),Ay.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function AP(){if(vS)return Cc;vS=1;var n=EP(),e=l_(),t=tC();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function g(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return f(p),i;if(m===c)return f(p),a;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=m;else{for(var b=!1,w=p.child;w;){if(w===l){b=!0,l=p,c=m;break}if(w===c){b=!0,c=p,l=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===l){b=!0,l=m,c=p;break}if(w===c){b=!0,c=m,l=p;break}w=w.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function y(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=y(i),a!==null)return a;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function He(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case z:return"Profiler";case O:return"StrictMode";case Ee:return"Suspense";case _e:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case te:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case he:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return a=i.displayName||null,a!==null?a:He(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return He(i(a))}catch{}}return null}var ft=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ke=[],Ve=-1;function L(i){return{current:i}}function ne(i){0>Ve||(i.current=ke[Ve],ke[Ve]=null,Ve--)}function fe(i,a){Ve++,ke[Ve]=i.current,i.current=a}var ve=L(null),Ce=L(null),Oe=L(null),Xe=L(null);function Nt(i,a){switch(fe(Oe,a),fe(Ce,i),fe(ve,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?PT(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=PT(a),i=xT(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(ve),fe(ve,i)}function Pt(){ne(ve),ne(Ce),ne(Oe)}function Yi(i){i.memoizedState!==null&&fe(Xe,i);var a=ve.current,l=xT(a,i.type);a!==l&&(fe(Ce,i),fe(ve,l))}function Ns(i){Ce.current===i&&(ne(ve),ne(Ce)),Xe.current===i&&(ne(Xe),Ac._currentValue=ye)}var Yt,hr;function fr(i){if(Yt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Yt=a&&a[1]||"",hr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+i+hr}var $a=!1;function $n(i,a){if(!i||$a)return"";$a=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var K=J}Reflect.construct(i,[],se)}else{try{se.call()}catch(J){K=J}i.call(se.prototype)}}else{try{throw Error()}catch(J){K=J}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var x=b.split(`
`),Y=w.split(`
`);for(p=c=0;c<x.length&&!x[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(c===x.length||p===Y.length)for(c=x.length-1,p=Y.length-1;1<=c&&0<=p&&x[c]!==Y[p];)p--;for(;1<=c&&0<=p;c--,p--)if(x[c]!==Y[p]){if(c!==1||p!==1)do if(c--,p--,0>p||x[c]!==Y[p]){var re=`
`+x[c].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=c&&0<=p);break}}}finally{$a=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fr(l):""}function Ya(i,a){switch(i.tag){case 26:case 27:case 5:return fr(i.type);case 16:return fr("Lazy");case 13:return i.child!==a&&a!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return $n(i.type,!1);case 11:return $n(i.type.render,!1);case 1:return $n(i.type,!0);case 31:return fr("Activity");default:return""}}function Qa(i){try{var a="",l=null;do a+=Ya(i,l),l=i,i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Qt=Object.prototype.hasOwnProperty,sn=n.unstable_scheduleCallback,pi=n.unstable_cancelCallback,Pu=n.unstable_shouldYield,il=n.unstable_requestPaint,Wt=n.unstable_now,dr=n.unstable_getCurrentPriorityLevel,Os=n.unstable_ImmediatePriority,Qi=n.unstable_UserBlockingPriority,An=n.unstable_NormalPriority,gr=n.unstable_LowPriority,Wa=n.unstable_IdlePriority,sl=n.log,Ms=n.unstable_setDisableYieldValue,pr=null,Ot=null;function Yn(i){if(typeof sl=="function"&&Ms(i),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(pr,i)}catch{}}var jt=Math.clz32?Math.clz32:Xa,Ka=Math.log,Ps=Math.LN2;function Xa(i){return i>>>=0,i===0?32:31-(Ka(i)/Ps|0)|0}var Qn=256,mi=262144,Ht=4194304;function Nr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mr(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~m,c!==0?p=Nr(c):(b&=w,b!==0?p=Nr(b):l||(l=w&~i,l!==0&&(p=Nr(l))))):(w=c&~m,w!==0?p=Nr(w):b!==0?p=Nr(b):l||(l=c&~i,l!==0&&(p=Nr(l)))),p===0?0:a!==0&&a!==p&&(a&m)===0&&(m=p&-p,l=a&-a,m>=l||m===32&&(l&4194048)!==0)?a:p}function yr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function al(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wi(){var i=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),i}function Wn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function yi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xu(i,a,l,c,p,m){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,x=i.expirationTimes,Y=i.hiddenUpdates;for(l=b&~l;0<l;){var re=31-jt(l),se=1<<re;w[re]=0,x[re]=-1;var K=Y[re];if(K!==null)for(Y[re]=null,re=0;re<K.length;re++){var J=K[re];J!==null&&(J.lane&=-536870913)}l&=~se}c!==0&&Ki(i,c,0),m!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~a))}function Ki(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-jt(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function P(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-jt(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function H(i,a){var l=a&-a;return l=(l&42)!==0?1:Q(l),(l&(i.suspendedLanes|a))!==0?0:l}function Q(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function le(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function de(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:rS(i.type))}function Ae(i,a){var l=ue.p;try{return ue.p=i,a()}finally{ue.p=l}}var we=Math.random().toString(36).slice(2),ge="__reactFiber$"+we,me="__reactProps$"+we,Se="__reactContainer$"+we,Le="__reactEvents$"+we,De="__reactListeners$"+we,Be="__reactHandles$"+we,Ze="__reactResources$"+we,St="__reactMarker$"+we;function Lt(i){delete i[ge],delete i[me],delete i[Le],delete i[De],delete i[Be]}function xt(i){var a=i[ge];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Se]||l[ge]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=jT(i);i!==null;){if(l=i[ge])return l;i=jT(i)}return a}i=l,l=i.parentNode}return null}function Ye(i){if(i=i[ge]||i[Se]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function kt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Tn(i){var a=i[Ze];return a||(a=i[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Vt(i){i[St]=!0}var Jn=new Set,Vn={};function er(i,a){Ln(i,a),Ln(i+"Capture",a)}function Ln(i,a){for(Vn[i]=a,i=0;i<a.length;i++)Jn.add(a[i])}var vr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vi={},_i={};function Je(i){return Qt.call(_i,i)?!0:Qt.call(vi,i)?!1:vr.test(i)?_i[i]=!0:(vi[i]=!0,!1)}function Kt(i,a,l){if(Je(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function hn(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function wt(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}function Qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _r(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xs(i,a,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function mt(i){if(!i._valueTracker){var a=_r(i)?"checked":"value";i._valueTracker=xs(i,a,""+i[a])}}function Za(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=_r(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ja=/[\n"\\]/g;function tr(i){return i.replace(Ja,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ol(i,a,l,c,p,m,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Qe(a)):i.value!==""+Qe(a)&&(i.value=""+Qe(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?ku(i,b,Qe(a)):l!=null?ku(i,b,Qe(l)):c!=null&&i.removeAttribute("value"),p==null&&m!=null&&(i.defaultChecked=!!m),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Qe(w):i.removeAttribute("name")}function Gh(i,a,l,c,p,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){mt(i);return}l=l!=null?""+Qe(l):"",a=a!=null?""+Qe(a):l,w||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),mt(i)}function ku(i,a,l){a==="number"&&Ei(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ks(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Qe(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function $h(i,a,l){if(a!=null&&(a=""+Qe(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Qe(l):""}function Vs(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ft(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Qe(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),mt(i)}function nr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Yh.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Lu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Vu(i,p,c)}else for(var m in a)a.hasOwnProperty(m)&&Vu(i,m,a[m])}function ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ul(i){return Ls.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Jr(){}var Uu=null;function Or(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Us=null,bi=null;function eo(i){var a=Ye(i);if(a&&(i=a.stateNode)){var l=i[me]||null;e:switch(i=a.stateNode,a.type){case"input":if(ol(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[me]||null;if(!p)throw Error(r(90));ol(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Za(c)}break e;case"textarea":$h(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ks(i,!!l.multiple,a,!1)}}}var cl=!1;function zs(i,a,l){if(cl)return i(a,l);cl=!0;try{var c=i(a);return c}finally{if(cl=!1,(Us!==null||bi!==null)&&(Hf(),Us&&(a=Us,i=bi,bi=Us=null,eo(a),i)))for(a=0;a<i.length;a++)eo(i[a])}}function ei(i,a){var l=i.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(Mr)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){to=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{to=!1}var Ai=null,zu=null,no=null;function Bu(){if(no)return no;var i,a=zu,l=a.length,c,p="value"in Ai?Ai.value:Ai.textContent,m=p.length;for(i=0;i<l&&a[i]===p[i];i++);var b=l-i;for(c=1;c<=b&&a[l-c]===p[m-c];c++);return no=p.slice(i,1<c?1-c:void 0)}function ro(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ti(){return!1}function Nn(i){function a(l,c,p,m,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:ti,this.isPropagationStopped=ti,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),a}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Nn(Zi),Bs=v({},Zi,{view:0,detail:0}),ju=Nn(Bs),js,hl,Si,fl=v({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(js=i.screenX-Si.screenX,hl=i.screenY-Si.screenY):hl=js=0,Si=i),js)},movementY:function(i){return"movementY"in i?i.movementY:hl}}),Hu=Nn(fl),io=v({},fl,{dataTransfer:0}),Wh=Nn(io),Kh=v({},Bs,{relatedTarget:0}),so=Nn(Kh),Fu=v({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=Nn(Fu),dl=v({},Zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zh=Nn(dl),Jh=v({},Zi,{data:0}),wi=Nn(Jh),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=nf[i])?!!a[i]:!1}function Hs(){return rf}var Kn=v({},Bs,{key:function(i){if(i.key){var a=ef[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(i){return i.type==="keypress"?ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sf=Nn(Kn),af=v({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Nn(af),d=v({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),_=Nn(d),T=v({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Nn(T),G=v({},fl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Nn(G),pe=v({},Zi,{newState:0,oldState:0}),Ge=Nn(pe),an=[9,13,27,32],yt=Mr&&"CompositionEvent"in window,Ft=null;Mr&&"documentMode"in document&&(Ft=document.documentMode);var Pr=Mr&&"TextEvent"in window&&!Ft,Ri=Mr&&(!yt||Ft&&8<Ft&&11>=Ft),ni=" ",ri=!1;function ao(i,a){switch(i){case"keyup":return an.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pl=!1;function UO(i,a){switch(i){case"compositionend":return gl(a);case"keypress":return a.which!==32?null:(ri=!0,ni);case"textInput":return i=a.data,i===ni&&ri?null:i;default:return null}}function zO(i,a){if(pl)return i==="compositionend"||!yt&&ao(i,a)?(i=Bu(),no=zu=Ai=null,pl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ri&&a.locale!=="ko"?null:a.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qE(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!BO[i.type]:a==="textarea"}function GE(i,a,l,c){Us?bi?bi.push(c):bi=[c]:Us=c,a=Wf(a,"onChange"),0<a.length&&(l=new Ti("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var qu=null,Gu=null;function jO(i){CT(i,0)}function of(i){var a=kt(i);if(Za(a))return i}function $E(i,a){if(i==="change")return a}var YE=!1;if(Mr){var Sp;if(Mr){var wp="oninput"in document;if(!wp){var QE=document.createElement("div");QE.setAttribute("oninput","return;"),wp=typeof QE.oninput=="function"}Sp=wp}else Sp=!1;YE=Sp&&(!document.documentMode||9<document.documentMode)}function WE(){qu&&(qu.detachEvent("onpropertychange",KE),Gu=qu=null)}function KE(i){if(i.propertyName==="value"&&of(Gu)){var a=[];GE(a,Gu,i,Or(i)),zs(jO,a)}}function HO(i,a,l){i==="focusin"?(WE(),qu=a,Gu=l,qu.attachEvent("onpropertychange",KE)):i==="focusout"&&WE()}function FO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return of(Gu)}function qO(i,a){if(i==="click")return of(a)}function GO(i,a){if(i==="input"||i==="change")return of(a)}function $O(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Er=typeof Object.is=="function"?Object.is:$O;function $u(i,a){if(Er(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Qt.call(a,p)||!Er(i[p],a[p]))return!1}return!0}function XE(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ZE(i,a){var l=XE(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=XE(l)}}function JE(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?JE(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function eb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ei(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ei(i.document)}return a}function Rp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var YO=Mr&&"documentMode"in document&&11>=document.documentMode,ml=null,Cp=null,Yu=null,Ip=!1;function tb(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ip||ml==null||ml!==Ei(c)||(c=ml,"selectionStart"in c&&Rp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Yu&&$u(Yu,c)||(Yu=c,c=Wf(Cp,"onSelect"),0<c.length&&(a=new Ti("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=ml)))}function oo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var yl={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionrun:oo("Transition","TransitionRun"),transitionstart:oo("Transition","TransitionStart"),transitioncancel:oo("Transition","TransitionCancel"),transitionend:oo("Transition","TransitionEnd")},Dp={},nb={};Mr&&(nb=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function lo(i){if(Dp[i])return Dp[i];if(!yl[i])return i;var a=yl[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in nb)return Dp[i]=a[l];return i}var rb=lo("animationend"),ib=lo("animationiteration"),sb=lo("animationstart"),QO=lo("transitionrun"),WO=lo("transitionstart"),KO=lo("transitioncancel"),ab=lo("transitionend"),ob=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function ii(i,a){ob.set(i,a),er(a,[i])}var lf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xr=[],vl=0,Op=0;function uf(){for(var i=vl,a=Op=vl=0;a<i;){var l=xr[a];xr[a++]=null;var c=xr[a];xr[a++]=null;var p=xr[a];xr[a++]=null;var m=xr[a];if(xr[a++]=null,c!==null&&p!==null){var b=c.pending;b===null?p.next=p:(p.next=b.next,b.next=p),c.pending=p}m!==0&&lb(l,p,m)}}function cf(i,a,l,c){xr[vl++]=i,xr[vl++]=a,xr[vl++]=l,xr[vl++]=c,Op|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Mp(i,a,l,c){return cf(i,a,l,c),hf(i)}function uo(i,a){return cf(i,null,null,a),hf(i)}function lb(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,m=i.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(p=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,p&&a!==null&&(p=31-jt(l),i=m.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),m):null}function hf(i){if(50<pc)throw pc=0,jm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var _l={};function XO(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(i,a,l,c){return new XO(i,a,l,c)}function Pp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function es(i,a){var l=i.alternate;return l===null?(l=br(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ub(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ff(i,a,l,c,p,m){var b=0;if(c=i,typeof i=="function")Pp(i)&&(b=1);else if(typeof i=="string")b=nP(i,l,ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=br(31,l,a,p),i.elementType=D,i.lanes=m,i;case N:return co(l.children,p,m,a);case O:b=8,p|=24;break;case z:return i=br(12,l,a,p|2),i.elementType=z,i.lanes=m,i;case Ee:return i=br(13,l,a,p),i.elementType=Ee,i.lanes=m,i;case _e:return i=br(19,l,a,p),i.elementType=_e,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case te:b=10;break e;case j:b=9;break e;case he:b=11;break e;case S:b=14;break e;case R:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=br(b,l,a,p),a.elementType=i,a.type=c,a.lanes=m,a}function co(i,a,l,c){return i=br(7,i,c,a),i.lanes=l,i}function xp(i,a,l){return i=br(6,i,null,a),i.lanes=l,i}function cb(i){var a=br(18,null,null,0);return a.stateNode=i,a}function kp(i,a,l){return a=br(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var hb=new WeakMap;function kr(i,a){if(typeof i=="object"&&i!==null){var l=hb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Qa(a)},hb.set(i,a),a)}return{value:i,source:a,stack:Qa(a)}}var El=[],bl=0,df=null,Qu=0,Vr=[],Lr=0,Fs=null,Ci=1,Ii="";function ts(i,a){El[bl++]=Qu,El[bl++]=df,df=i,Qu=a}function fb(i,a,l){Vr[Lr++]=Ci,Vr[Lr++]=Ii,Vr[Lr++]=Fs,Fs=i;var c=Ci;i=Ii;var p=32-jt(c)-1;c&=~(1<<p),l+=1;var m=32-jt(a)+p;if(30<m){var b=p-p%5;m=(c&(1<<b)-1).toString(32),c>>=b,p-=b,Ci=1<<32-jt(a)+p|l<<p|c,Ii=m+i}else Ci=1<<m|l<<p|c,Ii=i}function Vp(i){i.return!==null&&(ts(i,1),fb(i,1,0))}function Lp(i){for(;i===df;)df=El[--bl],El[bl]=null,Qu=El[--bl],El[bl]=null;for(;i===Fs;)Fs=Vr[--Lr],Vr[Lr]=null,Ii=Vr[--Lr],Vr[Lr]=null,Ci=Vr[--Lr],Vr[Lr]=null}function db(i,a){Vr[Lr++]=Ci,Vr[Lr++]=Ii,Vr[Lr++]=Fs,Ci=a.id,Ii=a.overflow,Fs=i}var On=null,Ut=null,ot=!1,qs=null,Ur=!1,Up=Error(r(519));function Gs(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wu(kr(a,i)),Up}function gb(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[ge]=i,a[me]=c,l){case"dialog":nt("cancel",a),nt("close",a);break;case"iframe":case"object":case"embed":nt("load",a);break;case"video":case"audio":for(l=0;l<yc.length;l++)nt(yc[l],a);break;case"source":nt("error",a);break;case"img":case"image":case"link":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"input":nt("invalid",a),Gh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":nt("invalid",a);break;case"textarea":nt("invalid",a),Vs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||OT(a.textContent,l)?(c.popover!=null&&(nt("beforetoggle",a),nt("toggle",a)),c.onScroll!=null&&nt("scroll",a),c.onScrollEnd!=null&&nt("scrollend",a),c.onClick!=null&&(a.onclick=Jr),a=!0):a=!1,a||Gs(i,!0)}function pb(i){for(On=i.return;On;)switch(On.tag){case 5:case 31:case 13:Ur=!1;return;case 27:case 3:Ur=!0;return;default:On=On.return}}function Al(i){if(i!==On)return!1;if(!ot)return pb(i),ot=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ny(i.type,i.memoizedProps)),l=!l),l&&Ut&&Gs(i),pb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=BT(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ut=BT(i)}else a===27?(a=Ut,sa(i.type)?(i=oy,oy=null,Ut=i):Ut=a):Ut=On?Br(i.stateNode.nextSibling):null;return!0}function ho(){Ut=On=null,ot=!1}function zp(){var i=qs;return i!==null&&(ar===null?ar=i:ar.push.apply(ar,i),qs=null),i}function Wu(i){qs===null?qs=[i]:qs.push(i)}var Bp=L(null),fo=null,ns=null;function $s(i,a,l){fe(Bp,a._currentValue),a._currentValue=l}function rs(i){i._currentValue=Bp.current,ne(Bp)}function jp(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Hp(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var m=p.dependencies;if(m!==null){var b=p.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=p;for(var x=0;x<a.length;x++)if(w.context===a[x]){m.lanes|=l,w=m.alternate,w!==null&&(w.lanes|=l),jp(m.return,l,i),c||(b=null);break e}m=w.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(r(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),jp(b,l,i),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===i){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function Tl(i,a,l,c){i=null;for(var p=a,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=p.type;Er(p.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(p===Xe.current){if(b=p.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Ac):i=[Ac])}p=p.return}i!==null&&Hp(a,i,l,c),a.flags|=262144}function gf(i){for(i=i.firstContext;i!==null;){if(!Er(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function go(i){fo=i,ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mn(i){return mb(fo,i)}function pf(i,a){return fo===null&&go(i),mb(i,a)}function mb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ns===null){if(i===null)throw Error(r(308));ns=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ns=ns.next=a;return l}var ZO=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},JO=n.unstable_scheduleCallback,eM=n.unstable_NormalPriority,fn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fp(){return{controller:new ZO,data:new Map,refCount:0}}function Ku(i){i.refCount--,i.refCount===0&&JO(eM,function(){i.controller.abort()})}var Xu=null,qp=0,Sl=0,wl=null;function tM(i,a){if(Xu===null){var l=Xu=[];qp=0,Sl=Ym(),wl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return qp++,a.then(yb,yb),a}function yb(){if(--qp===0&&Xu!==null){wl!==null&&(wl.status="fulfilled");var i=Xu;Xu=null,Sl=0,wl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function nM(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var vb=W.S;W.S=function(i,a){tT=Wt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&tM(i,a),vb!==null&&vb(i,a)};var po=L(null);function Gp(){var i=po.current;return i!==null?i:Mt.pooledCache}function mf(i,a){a===null?fe(po,po.current):fe(po,a.pool)}function _b(){var i=Gp();return i===null?null:{parent:fn._currentValue,pool:i}}var Rl=Error(r(460)),$p=Error(r(474)),yf=Error(r(542)),vf={then:function(){}};function Eb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Jr,Jr),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Tb(i),i;default:if(typeof a.status=="string")a.then(Jr,Jr);else{if(i=Mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Tb(i),i}throw yo=a,Rl}}function mo(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(yo=l,Rl):l}}var yo=null;function Ab(){if(yo===null)throw Error(r(459));var i=yo;return yo=null,i}function Tb(i){if(i===Rl||i===yf)throw Error(r(483))}var Cl=null,Zu=0;function _f(i){var a=Zu;return Zu+=1,Cl===null&&(Cl=[]),bb(Cl,i,a)}function Ju(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Ef(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Sb(i){function a(F,U){if(i){var $=F.deletions;$===null?(F.deletions=[U],F.flags|=16):$.push(U)}}function l(F,U){if(!i)return null;for(;U!==null;)a(F,U),U=U.sibling;return null}function c(F){for(var U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function p(F,U){return F=es(F,U),F.index=0,F.sibling=null,F}function m(F,U,$){return F.index=$,i?($=F.alternate,$!==null?($=$.index,$<U?(F.flags|=67108866,U):$):(F.flags|=67108866,U)):(F.flags|=1048576,U)}function b(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function w(F,U,$,ie){return U===null||U.tag!==6?(U=xp($,F.mode,ie),U.return=F,U):(U=p(U,$),U.return=F,U)}function x(F,U,$,ie){var Ne=$.type;return Ne===N?re(F,U,$.props.children,ie,$.key):U!==null&&(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&mo(Ne)===U.type)?(U=p(U,$.props),Ju(U,$),U.return=F,U):(U=ff($.type,$.key,$.props,null,F.mode,ie),Ju(U,$),U.return=F,U)}function Y(F,U,$,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=kp($,F.mode,ie),U.return=F,U):(U=p(U,$.children||[]),U.return=F,U)}function re(F,U,$,ie,Ne){return U===null||U.tag!==7?(U=co($,F.mode,ie,Ne),U.return=F,U):(U=p(U,$),U.return=F,U)}function se(F,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=xp(""+U,F.mode,$),U.return=F,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case A:return $=ff(U.type,U.key,U.props,null,F.mode,$),Ju($,U),$.return=F,$;case I:return U=kp(U,F.mode,$),U.return=F,U;case R:return U=mo(U),se(F,U,$)}if(ft(U)||B(U))return U=co(U,F.mode,$,null),U.return=F,U;if(typeof U.then=="function")return se(F,_f(U),$);if(U.$$typeof===te)return se(F,pf(F,U),$);Ef(F,U)}return null}function K(F,U,$,ie){var Ne=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ne!==null?null:w(F,U,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===Ne?x(F,U,$,ie):null;case I:return $.key===Ne?Y(F,U,$,ie):null;case R:return $=mo($),K(F,U,$,ie)}if(ft($)||B($))return Ne!==null?null:re(F,U,$,ie,null);if(typeof $.then=="function")return K(F,U,_f($),ie);if($.$$typeof===te)return K(F,U,pf(F,$),ie);Ef(F,$)}return null}function J(F,U,$,ie,Ne){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return F=F.get($)||null,w(U,F,""+ie,Ne);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return F=F.get(ie.key===null?$:ie.key)||null,x(U,F,ie,Ne);case I:return F=F.get(ie.key===null?$:ie.key)||null,Y(U,F,ie,Ne);case R:return ie=mo(ie),J(F,U,$,ie,Ne)}if(ft(ie)||B(ie))return F=F.get($)||null,re(U,F,ie,Ne,null);if(typeof ie.then=="function")return J(F,U,$,_f(ie),Ne);if(ie.$$typeof===te)return J(F,U,$,pf(U,ie),Ne);Ef(U,ie)}return null}function Re(F,U,$,ie){for(var Ne=null,dt=null,Ie=U,We=U=0,it=null;Ie!==null&&We<$.length;We++){Ie.index>We?(it=Ie,Ie=null):it=Ie.sibling;var gt=K(F,Ie,$[We],ie);if(gt===null){Ie===null&&(Ie=it);break}i&&Ie&&gt.alternate===null&&a(F,Ie),U=m(gt,U,We),dt===null?Ne=gt:dt.sibling=gt,dt=gt,Ie=it}if(We===$.length)return l(F,Ie),ot&&ts(F,We),Ne;if(Ie===null){for(;We<$.length;We++)Ie=se(F,$[We],ie),Ie!==null&&(U=m(Ie,U,We),dt===null?Ne=Ie:dt.sibling=Ie,dt=Ie);return ot&&ts(F,We),Ne}for(Ie=c(Ie);We<$.length;We++)it=J(Ie,F,We,$[We],ie),it!==null&&(i&&it.alternate!==null&&Ie.delete(it.key===null?We:it.key),U=m(it,U,We),dt===null?Ne=it:dt.sibling=it,dt=it);return i&&Ie.forEach(function(ca){return a(F,ca)}),ot&&ts(F,We),Ne}function Pe(F,U,$,ie){if($==null)throw Error(r(151));for(var Ne=null,dt=null,Ie=U,We=U=0,it=null,gt=$.next();Ie!==null&&!gt.done;We++,gt=$.next()){Ie.index>We?(it=Ie,Ie=null):it=Ie.sibling;var ca=K(F,Ie,gt.value,ie);if(ca===null){Ie===null&&(Ie=it);break}i&&Ie&&ca.alternate===null&&a(F,Ie),U=m(ca,U,We),dt===null?Ne=ca:dt.sibling=ca,dt=ca,Ie=it}if(gt.done)return l(F,Ie),ot&&ts(F,We),Ne;if(Ie===null){for(;!gt.done;We++,gt=$.next())gt=se(F,gt.value,ie),gt!==null&&(U=m(gt,U,We),dt===null?Ne=gt:dt.sibling=gt,dt=gt);return ot&&ts(F,We),Ne}for(Ie=c(Ie);!gt.done;We++,gt=$.next())gt=J(Ie,F,We,gt.value,ie),gt!==null&&(i&&gt.alternate!==null&&Ie.delete(gt.key===null?We:gt.key),U=m(gt,U,We),dt===null?Ne=gt:dt.sibling=gt,dt=gt);return i&&Ie.forEach(function(dP){return a(F,dP)}),ot&&ts(F,We),Ne}function Dt(F,U,$,ie){if(typeof $=="object"&&$!==null&&$.type===N&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var Ne=$.key;U!==null;){if(U.key===Ne){if(Ne=$.type,Ne===N){if(U.tag===7){l(F,U.sibling),ie=p(U,$.props.children),ie.return=F,F=ie;break e}}else if(U.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===R&&mo(Ne)===U.type){l(F,U.sibling),ie=p(U,$.props),Ju(ie,$),ie.return=F,F=ie;break e}l(F,U);break}else a(F,U);U=U.sibling}$.type===N?(ie=co($.props.children,F.mode,ie,$.key),ie.return=F,F=ie):(ie=ff($.type,$.key,$.props,null,F.mode,ie),Ju(ie,$),ie.return=F,F=ie)}return b(F);case I:e:{for(Ne=$.key;U!==null;){if(U.key===Ne)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){l(F,U.sibling),ie=p(U,$.children||[]),ie.return=F,F=ie;break e}else{l(F,U);break}else a(F,U);U=U.sibling}ie=kp($,F.mode,ie),ie.return=F,F=ie}return b(F);case R:return $=mo($),Dt(F,U,$,ie)}if(ft($))return Re(F,U,$,ie);if(B($)){if(Ne=B($),typeof Ne!="function")throw Error(r(150));return $=Ne.call($),Pe(F,U,$,ie)}if(typeof $.then=="function")return Dt(F,U,_f($),ie);if($.$$typeof===te)return Dt(F,U,pf(F,$),ie);Ef(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(l(F,U.sibling),ie=p(U,$),ie.return=F,F=ie):(l(F,U),ie=xp($,F.mode,ie),ie.return=F,F=ie),b(F)):l(F,U)}return function(F,U,$,ie){try{Zu=0;var Ne=Dt(F,U,$,ie);return Cl=null,Ne}catch(Ie){if(Ie===Rl||Ie===yf)throw Ie;var dt=br(29,Ie,null,F.mode);return dt.lanes=ie,dt.return=F,dt}finally{}}}var vo=Sb(!0),wb=Sb(!1),Ys=!1;function Yp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ws(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(vt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=hf(i),lb(i,null,l),a}return cf(i,c,a,l),hf(i)}function ec(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,P(i,l)}}function Wp(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?p=m=a:m=m.next=a}else p=m=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Kp=!1;function tc(){if(Kp){var i=wl;if(i!==null)throw i}}function nc(i,a,l,c){Kp=!1;var p=i.updateQueue;Ys=!1;var m=p.firstBaseUpdate,b=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var x=w,Y=x.next;x.next=null,b===null?m=Y:b.next=Y,b=x;var re=i.alternate;re!==null&&(re=re.updateQueue,w=re.lastBaseUpdate,w!==b&&(w===null?re.firstBaseUpdate=Y:w.next=Y,re.lastBaseUpdate=x))}if(m!==null){var se=p.baseState;b=0,re=Y=x=null,w=m;do{var K=w.lane&-536870913,J=K!==w.lane;if(J?(rt&K)===K:(c&K)===K){K!==0&&K===Sl&&(Kp=!0),re!==null&&(re=re.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Re=i,Pe=w;K=a;var Dt=l;switch(Pe.tag){case 1:if(Re=Pe.payload,typeof Re=="function"){se=Re.call(Dt,se,K);break e}se=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Pe.payload,K=typeof Re=="function"?Re.call(Dt,se,K):Re,K==null)break e;se=v({},se,K);break e;case 2:Ys=!0}}K=w.callback,K!==null&&(i.flags|=64,J&&(i.flags|=8192),J=p.callbacks,J===null?p.callbacks=[K]:J.push(K))}else J={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},re===null?(Y=re=J,x=se):re=re.next=J,b|=K;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;J=w,w=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);re===null&&(x=se),p.baseState=x,p.firstBaseUpdate=Y,p.lastBaseUpdate=re,m===null&&(p.shared.lanes=0),ea|=b,i.lanes=b,i.memoizedState=se}}function Rb(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Cb(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Rb(l[i],a)}var Il=L(null),bf=L(0);function Ib(i,a){i=fs,fe(bf,i),fe(Il,a),fs=i|a.baseLanes}function Xp(){fe(bf,fs),fe(Il,Il.current)}function Zp(){fs=bf.current,ne(Il),ne(bf)}var Ar=L(null),zr=null;function Ks(i){var a=i.alternate;fe(on,on.current&1),fe(Ar,i),zr===null&&(a===null||Il.current!==null||a.memoizedState!==null)&&(zr=i)}function Jp(i){fe(on,on.current),fe(Ar,i),zr===null&&(zr=i)}function Db(i){i.tag===22?(fe(on,on.current),fe(Ar,i),zr===null&&(zr=i)):Xs()}function Xs(){fe(on,on.current),fe(Ar,Ar.current)}function Tr(i){ne(Ar),zr===i&&(zr=null),ne(on)}var on=L(0);function Af(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||sy(l)||ay(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var is=0,$e=null,Ct=null,dn=null,Tf=!1,Dl=!1,_o=!1,Sf=0,rc=0,Nl=null,rM=0;function en(){throw Error(r(321))}function em(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Er(i[l],a[l]))return!1;return!0}function tm(i,a,l,c,p,m){return is=m,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?fA:mm,_o=!1,m=l(c,p),_o=!1,Dl&&(m=Ob(a,l,c,p)),Nb(i),m}function Nb(i){W.H=ac;var a=Ct!==null&&Ct.next!==null;if(is=0,dn=Ct=$e=null,Tf=!1,rc=0,Nl=null,a)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&gf(i)&&(gn=!0))}function Ob(i,a,l,c){$e=i;var p=0;do{if(Dl&&(Nl=null),rc=0,Dl=!1,25<=p)throw Error(r(301));if(p+=1,dn=Ct=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=dA,m=a(l,c)}while(Dl);return m}function iM(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?ic(a):a,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&($e.flags|=1024),a}function nm(){var i=Sf!==0;return Sf=0,i}function rm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function im(i){if(Tf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Tf=!1}is=0,dn=Ct=$e=null,Dl=!1,rc=Sf=0,Nl=null}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?$e.memoizedState=dn=i:dn=dn.next=i,dn}function ln(){if(Ct===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var a=dn===null?$e.memoizedState:dn.next;if(a!==null)dn=a,Ct=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},dn===null?$e.memoizedState=dn=i:dn=dn.next=i}return dn}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(i){var a=rc;return rc+=1,Nl===null&&(Nl=[]),i=bb(Nl,i,a),a=$e,(dn===null?a.memoizedState:dn.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?fA:mm),i}function Rf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ic(i);if(i.$$typeof===te)return Mn(i)}throw Error(r(438,String(i)))}function sm(i){var a=null,l=$e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=wf(),$e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=V;return a.index++,l}function ss(i,a){return typeof a=="function"?a(i):a}function Cf(i){var a=ln();return am(a,Ct,i)}function am(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,m=c.pending;if(m!==null){if(p!==null){var b=p.next;p.next=m.next,m.next=b}a.baseQueue=p=m,c.pending=null}if(m=i.baseState,p===null)i.memoizedState=m;else{a=p.next;var w=b=null,x=null,Y=a,re=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(rt&se)===se:(is&se)===se){var K=Y.revertLane;if(K===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Sl&&(re=!0);else if((is&K)===K){Y=Y.next,K===Sl&&(re=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(w=x=se,b=m):x=x.next=se,$e.lanes|=K,ea|=K;se=Y.action,_o&&l(m,se),m=Y.hasEagerState?Y.eagerState:l(m,se)}else K={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(w=x=K,b=m):x=x.next=K,$e.lanes|=se,ea|=se;Y=Y.next}while(Y!==null&&Y!==a);if(x===null?b=m:x.next=w,!Er(m,i.memoizedState)&&(gn=!0,re&&(l=wl,l!==null)))throw l;i.memoizedState=m,i.baseState=b,i.baseQueue=x,c.lastRenderedState=m}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function om(i){var a=ln(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,m=a.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do m=i(m,b.action),b=b.next;while(b!==p);Er(m,a.memoizedState)||(gn=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,c]}function Mb(i,a,l){var c=$e,p=ln(),m=ot;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=a();var b=!Er((Ct||p).memoizedState,l);if(b&&(p.memoizedState=l,gn=!0),p=p.queue,cm(kb.bind(null,c,p,i),[i]),p.getSnapshot!==a||b||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,Ol(9,{destroy:void 0},xb.bind(null,c,p,l,a),null),Mt===null)throw Error(r(349));m||(is&127)!==0||Pb(c,a,l)}return l}function Pb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=$e.updateQueue,a===null?(a=wf(),$e.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function xb(i,a,l,c){a.value=l,a.getSnapshot=c,Vb(a)&&Lb(i)}function kb(i,a,l){return l(function(){Vb(a)&&Lb(i)})}function Vb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Er(i,l)}catch{return!0}}function Lb(i){var a=uo(i,2);a!==null&&or(a,i,2)}function lm(i){var a=Xn();if(typeof i=="function"){var l=i;if(i=l(),_o){Yn(!0);try{l()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:i},a}function Ub(i,a,l,c){return i.baseState=l,am(i,Ct,typeof c=="function"?c:ss)}function sM(i,a,l,c,p){if(Nf(i))throw Error(r(485));if(i=a.action,i!==null){var m={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?l(!0):m.isTransition=!1,c(m),l=a.pending,l===null?(m.next=a.pending=m,zb(a,m)):(m.next=l.next,a.pending=l.next=m)}}function zb(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var m=W.T,b={};W.T=b;try{var w=l(p,c),x=W.S;x!==null&&x(b,w),Bb(i,a,w)}catch(Y){um(i,a,Y)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=l(p,c),Bb(i,a,m)}catch(Y){um(i,a,Y)}}function Bb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){jb(i,a,c)},function(c){return um(i,a,c)}):jb(i,a,l)}function jb(i,a,l){a.status="fulfilled",a.value=l,Hb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,zb(i,l)))}function um(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Hb(a),a=a.next;while(a!==c)}i.action=null}function Hb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Fb(i,a){return a}function qb(i,a){if(ot){var l=Mt.formState;if(l!==null){e:{var c=$e;if(ot){if(Ut){t:{for(var p=Ut,m=Ur;p.nodeType!==8;){if(!m){p=null;break t}if(p=Br(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){Ut=Br(p.nextSibling),c=p.data==="F!";break e}}Gs(c)}c=!1}c&&(a=l[0])}}return l=Xn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fb,lastRenderedState:a},l.queue=c,l=uA.bind(null,$e,c),c.dispatch=l,c=lm(!1),m=pm.bind(null,$e,!1,c.queue),c=Xn(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=sM.bind(null,$e,p,m,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function Gb(i){var a=ln();return $b(a,Ct,i)}function $b(i,a,l){if(a=am(i,a,Fb)[0],i=Cf(ss)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=ic(a)}catch(b){throw b===Rl?yf:b}else c=a;a=ln();var p=a.queue,m=p.dispatch;return l!==a.memoizedState&&($e.flags|=2048,Ol(9,{destroy:void 0},aM.bind(null,p,l),null)),[c,m,i]}function aM(i,a){i.action=a}function Yb(i){var a=ln(),l=Ct;if(l!==null)return $b(a,l,i);ln(),a=a.memoizedState,l=ln();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Ol(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=$e.updateQueue,a===null&&(a=wf(),$e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Qb(){return ln().memoizedState}function If(i,a,l,c){var p=Xn();$e.flags|=i,p.memoizedState=Ol(1|a,{destroy:void 0},l,c===void 0?null:c)}function Df(i,a,l,c){var p=ln();c=c===void 0?null:c;var m=p.memoizedState.inst;Ct!==null&&c!==null&&em(c,Ct.memoizedState.deps)?p.memoizedState=Ol(a,m,l,c):($e.flags|=i,p.memoizedState=Ol(1|a,m,l,c))}function Wb(i,a){If(8390656,8,i,a)}function cm(i,a){Df(2048,8,i,a)}function oM(i){$e.flags|=4;var a=$e.updateQueue;if(a===null)a=wf(),$e.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Kb(i){var a=ln().memoizedState;return oM({ref:a,nextImpl:i}),function(){if((vt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Xb(i,a){return Df(4,2,i,a)}function Zb(i,a){return Df(4,4,i,a)}function Jb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function eA(i,a,l){l=l!=null?l.concat([i]):null,Df(4,4,Jb.bind(null,a,i),l)}function hm(){}function tA(i,a){var l=ln();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&em(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function nA(i,a){var l=ln();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&em(a,c[1]))return c[0];if(c=i(),_o){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c}function fm(i,a,l){return l===void 0||(is&1073741824)!==0&&(rt&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=rT(),$e.lanes|=i,ea|=i,l)}function rA(i,a,l,c){return Er(l,a)?l:Il.current!==null?(i=fm(i,l,c),Er(i,a)||(gn=!0),i):(is&42)===0||(is&1073741824)!==0&&(rt&261930)===0?(gn=!0,i.memoizedState=l):(i=rT(),$e.lanes|=i,ea|=i,a)}function iA(i,a,l,c,p){var m=ue.p;ue.p=m!==0&&8>m?m:8;var b=W.T,w={};W.T=w,pm(i,!1,a,l);try{var x=p(),Y=W.S;if(Y!==null&&Y(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var re=nM(x,c);sc(i,a,re,Rr(i))}else sc(i,a,c,Rr(i))}catch(se){sc(i,a,{then:function(){},status:"rejected",reason:se},Rr())}finally{ue.p=m,b!==null&&w.types!==null&&(b.types=w.types),W.T=b}}function lM(){}function dm(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=sA(i).queue;iA(i,p,a,ye,l===null?lM:function(){return aA(i),l(c)})}function sA(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:ye},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function aA(i){var a=sA(i);a.next===null&&(a=i.alternate.memoizedState),sc(i,a.next.queue,{},Rr())}function gm(){return Mn(Ac)}function oA(){return ln().memoizedState}function lA(){return ln().memoizedState}function uM(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Rr();i=Qs(l);var c=Ws(a,i,l);c!==null&&(or(c,a,l),ec(c,a,l)),a={cache:Fp()},i.payload=a;return}a=a.return}}function cM(i,a,l){var c=Rr();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nf(i)?cA(a,l):(l=Mp(i,a,l,c),l!==null&&(or(l,i,c),hA(l,a,c)))}function uA(i,a,l){var c=Rr();sc(i,a,l,c)}function sc(i,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nf(i))cA(a,p);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var b=a.lastRenderedState,w=m(b,l);if(p.hasEagerState=!0,p.eagerState=w,Er(w,b))return cf(i,a,p,0),Mt===null&&uf(),!1}catch{}finally{}if(l=Mp(i,a,p,c),l!==null)return or(l,i,c),hA(l,a,c),!0}return!1}function pm(i,a,l,c){if(c={lane:2,revertLane:Ym(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nf(i)){if(a)throw Error(r(479))}else a=Mp(i,l,c,2),a!==null&&or(a,i,2)}function Nf(i){var a=i.alternate;return i===$e||a!==null&&a===$e}function cA(i,a){Dl=Tf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function hA(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,P(i,l)}}var ac={readContext:Mn,use:Rf,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};ac.useEffectEvent=en;var fA={readContext:Mn,use:Rf,useCallback:function(i,a){return Xn().memoizedState=[i,a===void 0?null:a],i},useContext:Mn,useEffect:Wb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,If(4194308,4,Jb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return If(4194308,4,i,a)},useInsertionEffect:function(i,a){If(4,2,i,a)},useMemo:function(i,a){var l=Xn();a=a===void 0?null:a;var c=i();if(_o){Yn(!0);try{i()}finally{Yn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Xn();if(l!==void 0){var p=l(a);if(_o){Yn(!0);try{l(a)}finally{Yn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=cM.bind(null,$e,i),[c.memoizedState,i]},useRef:function(i){var a=Xn();return i={current:i},a.memoizedState=i},useState:function(i){i=lm(i);var a=i.queue,l=uA.bind(null,$e,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:hm,useDeferredValue:function(i,a){var l=Xn();return fm(l,i,a)},useTransition:function(){var i=lm(!1);return i=iA.bind(null,$e,i.queue,!0,!1),Xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=$e,p=Xn();if(ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Mt===null)throw Error(r(349));(rt&127)!==0||Pb(c,a,l)}p.memoizedState=l;var m={value:l,getSnapshot:a};return p.queue=m,Wb(kb.bind(null,c,m,i),[i]),c.flags|=2048,Ol(9,{destroy:void 0},xb.bind(null,c,m,l,a),null),l},useId:function(){var i=Xn(),a=Mt.identifierPrefix;if(ot){var l=Ii,c=Ci;l=(c&~(1<<32-jt(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Sf++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=rM++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:gm,useFormState:qb,useActionState:qb,useOptimistic:function(i){var a=Xn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=pm.bind(null,$e,!0,l),l.dispatch=a,[i,a]},useMemoCache:sm,useCacheRefresh:function(){return Xn().memoizedState=uM.bind(null,$e)},useEffectEvent:function(i){var a=Xn(),l={impl:i};return a.memoizedState=l,function(){if((vt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},mm={readContext:Mn,use:Rf,useCallback:tA,useContext:Mn,useEffect:cm,useImperativeHandle:eA,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:nA,useReducer:Cf,useRef:Qb,useState:function(){return Cf(ss)},useDebugValue:hm,useDeferredValue:function(i,a){var l=ln();return rA(l,Ct.memoizedState,i,a)},useTransition:function(){var i=Cf(ss)[0],a=ln().memoizedState;return[typeof i=="boolean"?i:ic(i),a]},useSyncExternalStore:Mb,useId:oA,useHostTransitionStatus:gm,useFormState:Gb,useActionState:Gb,useOptimistic:function(i,a){var l=ln();return Ub(l,Ct,i,a)},useMemoCache:sm,useCacheRefresh:lA};mm.useEffectEvent=Kb;var dA={readContext:Mn,use:Rf,useCallback:tA,useContext:Mn,useEffect:cm,useImperativeHandle:eA,useInsertionEffect:Xb,useLayoutEffect:Zb,useMemo:nA,useReducer:om,useRef:Qb,useState:function(){return om(ss)},useDebugValue:hm,useDeferredValue:function(i,a){var l=ln();return Ct===null?fm(l,i,a):rA(l,Ct.memoizedState,i,a)},useTransition:function(){var i=om(ss)[0],a=ln().memoizedState;return[typeof i=="boolean"?i:ic(i),a]},useSyncExternalStore:Mb,useId:oA,useHostTransitionStatus:gm,useFormState:Yb,useActionState:Yb,useOptimistic:function(i,a){var l=ln();return Ct!==null?Ub(l,Ct,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:sm,useCacheRefresh:lA};dA.useEffectEvent=Kb;function ym(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:v({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vm={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Rr(),p=Qs(c);p.payload=a,l!=null&&(p.callback=l),a=Ws(i,p,c),a!==null&&(or(a,i,c),ec(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Rr(),p=Qs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ws(i,p,c),a!==null&&(or(a,i,c),ec(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Rr(),c=Qs(l);c.tag=2,a!=null&&(c.callback=a),a=Ws(i,c,l),a!==null&&(or(a,i,l),ec(a,i,l))}};function gA(i,a,l,c,p,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,b):a.prototype&&a.prototype.isPureReactComponent?!$u(l,c)||!$u(p,m):!0}function pA(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&vm.enqueueReplaceState(a,a.state,null)}function Eo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=v({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function mA(i){lf(i)}function yA(i){console.error(i)}function vA(i){lf(i)}function Of(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function _A(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function _m(i,a,l){return l=Qs(l),l.tag=3,l.payload={element:null},l.callback=function(){Of(i,a)},l}function EA(i){return i=Qs(i),i.tag=3,i}function bA(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;i.payload=function(){return p(m)},i.callback=function(){_A(a,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){_A(a,l,c),typeof p!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function hM(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Tl(a,l,p,!0),l=Ar.current,l!==null){switch(l.tag){case 31:case 13:return zr===null?Ff():l.alternate===null&&tn===0&&(tn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===vf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),qm(i,c,p)),!1;case 22:return l.flags|=65536,c===vf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),qm(i,c,p)),!1}throw Error(r(435,l.tag))}return qm(i,c,p),Ff(),!1}if(ot)return a=Ar.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Up&&(i=Error(r(422),{cause:c}),Wu(kr(i,l)))):(c!==Up&&(a=Error(r(423),{cause:c}),Wu(kr(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=kr(c,l),p=_m(i.stateNode,c,p),Wp(i,p),tn!==4&&(tn=2)),!1;var m=Error(r(520),{cause:c});if(m=kr(m,l),gc===null?gc=[m]:gc.push(m),tn!==4&&(tn=2),a===null)return!0;c=kr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=_m(l.stateNode,c,i),Wp(l,i),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ta===null||!ta.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=EA(p),bA(p,i,l,c),Wp(l,p),!1}l=l.return}while(l!==null);return!1}var Em=Error(r(461)),gn=!1;function Pn(i,a,l,c){a.child=i===null?wb(a,null,l,c):vo(a,i.child,l,c)}function AA(i,a,l,c,p){l=l.render;var m=a.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return go(a),c=tm(i,a,l,b,m,p),w=nm(),i!==null&&!gn?(rm(i,a,p),as(i,a,p)):(ot&&w&&Vp(a),a.flags|=1,Pn(i,a,c,p),a.child)}function TA(i,a,l,c,p){if(i===null){var m=l.type;return typeof m=="function"&&!Pp(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,SA(i,a,m,c,p)):(i=ff(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(m=i.child,!Im(i,p)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:$u,l(b,c)&&i.ref===a.ref)return as(i,a,p)}return a.flags|=1,i=es(m,c),i.ref=a.ref,i.return=a,a.child=i}function SA(i,a,l,c,p){if(i!==null){var m=i.memoizedProps;if($u(m,c)&&i.ref===a.ref)if(gn=!1,a.pendingProps=c=m,Im(i,p))(i.flags&131072)!==0&&(gn=!0);else return a.lanes=i.lanes,as(i,a,p)}return bm(i,a,l,c,p)}function wA(i,a,l,c){var p=c.children,m=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,i!==null){for(c=a.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~m}else c=0,a.child=null;return RA(i,a,m,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&mf(a,m!==null?m.cachePool:null),m!==null?Ib(a,m):Xp(),Db(a);else return c=a.lanes=536870912,RA(i,a,m!==null?m.baseLanes|l:l,l,c)}else m!==null?(mf(a,m.cachePool),Ib(a,m),Xs(),a.memoizedState=null):(i!==null&&mf(a,null),Xp(),Xs());return Pn(i,a,p,l),a.child}function oc(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function RA(i,a,l,c,p){var m=Gp();return m=m===null?null:{parent:fn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},i!==null&&mf(a,null),Xp(),Db(a),i!==null&&Tl(i,a,c,!0),a.childLanes=p,null}function Mf(i,a){return a=xf({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function CA(i,a,l){return vo(a,i.child,null,l),i=Mf(a,a.pendingProps),i.flags|=2,Tr(a),a.memoizedState=null,i}function fM(i,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(ot){if(c.mode==="hidden")return i=Mf(a,c),a.lanes=536870912,oc(null,i);if(Jp(a),(i=Ut)?(i=zT(i,Ur),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Fs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},l=cb(i),l.return=a,a.child=l,On=a,Ut=null)):i=null,i===null)throw Gs(a);return a.lanes=536870912,null}return Mf(a,c)}var m=i.memoizedState;if(m!==null){var b=m.dehydrated;if(Jp(a),p)if(a.flags&256)a.flags&=-257,a=CA(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(gn||Tl(i,a,l,!1),p=(l&i.childLanes)!==0,gn||p){if(c=Mt,c!==null&&(b=H(c,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,uo(i,b),or(c,i,b),Em;Ff(),a=CA(i,a,l)}else i=m.treeContext,Ut=Br(b.nextSibling),On=a,ot=!0,qs=null,Ur=!1,i!==null&&db(a,i),a=Mf(a,c),a.flags|=4096;return a}return i=es(i.child,{mode:c.mode,children:c.children}),i.ref=a.ref,a.child=i,i.return=a,i}function Pf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function bm(i,a,l,c,p){return go(a),l=tm(i,a,l,c,void 0,p),c=nm(),i!==null&&!gn?(rm(i,a,p),as(i,a,p)):(ot&&c&&Vp(a),a.flags|=1,Pn(i,a,l,p),a.child)}function IA(i,a,l,c,p,m){return go(a),a.updateQueue=null,l=Ob(a,c,l,p),Nb(i),c=nm(),i!==null&&!gn?(rm(i,a,m),as(i,a,m)):(ot&&c&&Vp(a),a.flags|=1,Pn(i,a,l,m),a.child)}function DA(i,a,l,c,p){if(go(a),a.stateNode===null){var m=_l,b=l.contextType;typeof b=="object"&&b!==null&&(m=Mn(b)),m=new l(c,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=vm,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=c,m.state=a.memoizedState,m.refs={},Yp(a),b=l.contextType,m.context=typeof b=="object"&&b!==null?Mn(b):_l,m.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(ym(a,l,b,c),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&vm.enqueueReplaceState(m,m.state,null),nc(a,c,m,p),tc(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){m=a.stateNode;var w=a.memoizedProps,x=Eo(l,w);m.props=x;var Y=m.context,re=l.contextType;b=_l,typeof re=="object"&&re!==null&&(b=Mn(re));var se=l.getDerivedStateFromProps;re=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=a.pendingProps!==w,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Y!==b)&&pA(a,m,c,b),Ys=!1;var K=a.memoizedState;m.state=K,nc(a,c,m,p),tc(),Y=a.memoizedState,w||K!==Y||Ys?(typeof se=="function"&&(ym(a,l,se,c),Y=a.memoizedState),(x=Ys||gA(a,l,x,c,K,Y,b))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Y),m.props=c,m.state=Y,m.context=b,c=x):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{m=a.stateNode,Qp(i,a),b=a.memoizedProps,re=Eo(l,b),m.props=re,se=a.pendingProps,K=m.context,Y=l.contextType,x=_l,typeof Y=="object"&&Y!==null&&(x=Mn(Y)),w=l.getDerivedStateFromProps,(Y=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==se||K!==x)&&pA(a,m,c,x),Ys=!1,K=a.memoizedState,m.state=K,nc(a,c,m,p),tc();var J=a.memoizedState;b!==se||K!==J||Ys||i!==null&&i.dependencies!==null&&gf(i.dependencies)?(typeof w=="function"&&(ym(a,l,w,c),J=a.memoizedState),(re=Ys||gA(a,l,re,c,K,J,x)||i!==null&&i.dependencies!==null&&gf(i.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,J,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,J,x)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=J),m.props=c,m.state=J,m.context=x,c=re):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(a.flags|=1024),c=!1)}return m=c,Pf(i,a),c=(a.flags&128)!==0,m||c?(m=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,i!==null&&c?(a.child=vo(a,i.child,null,p),a.child=vo(a,null,l,p)):Pn(i,a,l,p),a.memoizedState=m.state,i=a.child):i=as(i,a,p),i}function NA(i,a,l,c){return ho(),a.flags|=256,Pn(i,a,l,c),a.child}var Am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(i){return{baseLanes:i,cachePool:_b()}}function Sm(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=wr),i}function OA(i,a,l){var c=a.pendingProps,p=!1,m=(a.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),b&&(p=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(ot){if(p?Ks(a):Xs(),(i=Ut)?(i=zT(i,Ur),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Fs!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},l=cb(i),l.return=a,a.child=l,On=a,Ut=null)):i=null,i===null)throw Gs(a);return ay(i)?a.lanes=32:a.lanes=536870912,null}var w=c.children;return c=c.fallback,p?(Xs(),p=a.mode,w=xf({mode:"hidden",children:w},p),c=co(c,p,l,null),w.return=a,c.return=a,w.sibling=c,a.child=w,c=a.child,c.memoizedState=Tm(l),c.childLanes=Sm(i,b,l),a.memoizedState=Am,oc(null,c)):(Ks(a),wm(a,w))}var x=i.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(m)a.flags&256?(Ks(a),a.flags&=-257,a=Rm(i,a,l)):a.memoizedState!==null?(Xs(),a.child=i.child,a.flags|=128,a=null):(Xs(),w=c.fallback,p=a.mode,c=xf({mode:"visible",children:c.children},p),w=co(w,p,l,null),w.flags|=2,c.return=a,w.return=a,c.sibling=w,a.child=c,vo(a,i.child,null,l),c=a.child,c.memoizedState=Tm(l),c.childLanes=Sm(i,b,l),a.memoizedState=Am,a=oc(null,c));else if(Ks(a),ay(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,c=Error(r(419)),c.stack="",c.digest=b,Wu({value:c,source:null,stack:null}),a=Rm(i,a,l)}else if(gn||Tl(i,a,l,!1),b=(l&i.childLanes)!==0,gn||b){if(b=Mt,b!==null&&(c=H(b,l),c!==0&&c!==x.retryLane))throw x.retryLane=c,uo(i,c),or(b,i,c),Em;sy(w)||Ff(),a=Rm(i,a,l)}else sy(w)?(a.flags|=192,a.child=i.child,a=null):(i=x.treeContext,Ut=Br(w.nextSibling),On=a,ot=!0,qs=null,Ur=!1,i!==null&&db(a,i),a=wm(a,c.children),a.flags|=4096);return a}return p?(Xs(),w=c.fallback,p=a.mode,x=i.child,Y=x.sibling,c=es(x,{mode:"hidden",children:c.children}),c.subtreeFlags=x.subtreeFlags&65011712,Y!==null?w=es(Y,w):(w=co(w,p,l,null),w.flags|=2),w.return=a,c.return=a,c.sibling=w,a.child=c,oc(null,c),c=a.child,w=i.child.memoizedState,w===null?w=Tm(l):(p=w.cachePool,p!==null?(x=fn._currentValue,p=p.parent!==x?{parent:x,pool:x}:p):p=_b(),w={baseLanes:w.baseLanes|l,cachePool:p}),c.memoizedState=w,c.childLanes=Sm(i,b,l),a.memoizedState=Am,oc(i.child,c)):(Ks(a),l=i.child,i=l.sibling,l=es(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=l,a.memoizedState=null,l)}function wm(i,a){return a=xf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xf(i,a){return i=br(22,i,null,a),i.lanes=0,i}function Rm(i,a,l){return vo(a,i.child,null,l),i=wm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function MA(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),jp(i.return,a,l)}function Cm(i,a,l,c,p,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:m}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=p,b.treeForkCount=m)}function PA(i,a,l){var c=a.pendingProps,p=c.revealOrder,m=c.tail;c=c.children;var b=on.current,w=(b&2)!==0;if(w?(b=b&1|2,a.flags|=128):b&=1,fe(on,b),Pn(i,a,c,l),c=ot?Qu:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&MA(i,l,a);else if(i.tag===19)MA(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&Af(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Cm(a,!1,p,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Af(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Cm(a,!0,l,null,m,c);break;case"together":Cm(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function as(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ea|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Tl(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=es(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=es(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Im(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&gf(i)))}function dM(i,a,l){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),$s(a,fn,i.memoizedState.cache),ho();break;case 27:case 5:Yi(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:$s(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Jp(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ks(a),a.flags|=128,null):(l&a.child.childLanes)!==0?OA(i,a,l):(Ks(a),i=as(i,a,l),i!==null?i.sibling:null);Ks(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Tl(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return PA(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),fe(on,on.current),c)break;return null;case 22:return a.lanes=0,wA(i,a,l,a.pendingProps);case 24:$s(a,fn,i.memoizedState.cache)}return as(i,a,l)}function xA(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)gn=!0;else{if(!Im(i,l)&&(a.flags&128)===0)return gn=!1,dM(i,a,l);gn=(i.flags&131072)!==0}else gn=!1,ot&&(a.flags&1048576)!==0&&fb(a,Qu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(i=mo(a.elementType),a.type=i,typeof i=="function")Pp(i)?(c=Eo(i,c),a.tag=1,a=DA(null,a,i,c,l)):(a.tag=0,a=bm(null,a,i,c,l));else{if(i!=null){var p=i.$$typeof;if(p===he){a.tag=11,a=AA(null,a,i,c,l);break e}else if(p===S){a.tag=14,a=TA(null,a,i,c,l);break e}}throw a=He(i)||i,Error(r(306,a,""))}}return a;case 0:return bm(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Eo(c,a.pendingProps),DA(i,a,c,p,l);case 3:e:{if(Nt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var m=a.memoizedState;p=m.element,Qp(i,a),nc(a,c,null,l);var b=a.memoizedState;if(c=b.cache,$s(a,fn,c),c!==m.cache&&Hp(a,[fn],l,!0),tc(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=NA(i,a,c,l);break e}else if(c!==p){p=kr(Error(r(424)),a),Wu(p),a=NA(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ut=Br(i.firstChild),On=a,ot=!0,qs=null,Ur=!0,l=wb(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ho(),c===p){a=as(i,a,l);break e}Pn(i,a,c,l)}a=a.child}return a;case 26:return Pf(i,a),i===null?(l=GT(a.type,null,a.pendingProps,null))?a.memoizedState=l:ot||(l=a.type,i=a.pendingProps,c=Kf(Oe.current).createElement(l),c[ge]=a,c[me]=i,xn(c,l,i),Vt(c),a.stateNode=c):a.memoizedState=GT(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Yi(a),i===null&&ot&&(c=a.stateNode=HT(a.type,a.pendingProps,Oe.current),On=a,Ur=!0,p=Ut,sa(a.type)?(oy=p,Ut=Br(c.firstChild)):Ut=p),Pn(i,a,a.pendingProps.children,l),Pf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ot&&((p=c=Ut)&&(c=FM(c,a.type,a.pendingProps,Ur),c!==null?(a.stateNode=c,On=a,Ut=Br(c.firstChild),Ur=!1,p=!0):p=!1),p||Gs(a)),Yi(a),p=a.type,m=a.pendingProps,b=i!==null?i.memoizedProps:null,c=m.children,ny(p,m)?c=null:b!==null&&ny(p,b)&&(a.flags|=32),a.memoizedState!==null&&(p=tm(i,a,iM,null,null,l),Ac._currentValue=p),Pf(i,a),Pn(i,a,c,l),a.child;case 6:return i===null&&ot&&((i=l=Ut)&&(l=qM(l,a.pendingProps,Ur),l!==null?(a.stateNode=l,On=a,Ut=null,i=!0):i=!1),i||Gs(a)),null;case 13:return OA(i,a,l);case 4:return Nt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=vo(a,null,c,l):Pn(i,a,c,l),a.child;case 11:return AA(i,a,a.type,a.pendingProps,l);case 7:return Pn(i,a,a.pendingProps,l),a.child;case 8:return Pn(i,a,a.pendingProps.children,l),a.child;case 12:return Pn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,$s(a,a.type,c.value),Pn(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,go(a),p=Mn(p),c=c(p),a.flags|=1,Pn(i,a,c,l),a.child;case 14:return TA(i,a,a.type,a.pendingProps,l);case 15:return SA(i,a,a.type,a.pendingProps,l);case 19:return PA(i,a,l);case 31:return fM(i,a,l);case 22:return wA(i,a,l,a.pendingProps);case 24:return go(a),c=Mn(fn),i===null?(p=Gp(),p===null&&(p=Mt,m=Fp(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),a.memoizedState={parent:c,cache:p},Yp(a),$s(a,fn,p)):((i.lanes&l)!==0&&(Qp(i,a),nc(a,null,null,l),tc()),p=i.memoizedState,m=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),$s(a,fn,c)):(c=m.cache,$s(a,fn,c),c!==p.cache&&Hp(a,[fn],l,!0))),Pn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function os(i){i.flags|=4}function Dm(i,a,l,c,p){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(oT())i.flags|=8192;else throw yo=vf,$p}else i.flags&=-16777217}function kA(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KT(a))if(oT())i.flags|=8192;else throw yo=vf,$p}function kf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Wi():536870912,i.lanes|=a,kl|=a)}function lc(i,a){if(!ot)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function zt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function gM(i,a,l){var c=a.pendingProps;switch(Lp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(a),null;case 1:return zt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),rs(fn),Pt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Al(a)?os(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zp())),zt(a),null;case 26:var p=a.type,m=a.memoizedState;return i===null?(os(a),m!==null?(zt(a),kA(a,m)):(zt(a),Dm(a,p,null,c,l))):m?m!==i.memoizedState?(os(a),zt(a),kA(a,m)):(zt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==c&&os(a),zt(a),Dm(a,p,i,c,l)),null;case 27:if(Ns(a),l=Oe.current,p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&os(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return zt(a),null}i=ve.current,Al(a)?gb(a):(i=HT(p,c,l),a.stateNode=i,os(a))}return zt(a),null;case 5:if(Ns(a),p=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&os(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return zt(a),null}if(m=ve.current,Al(a))gb(a);else{var b=Kf(Oe.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(p,{is:c.is}):b.createElement(p)}}m[ge]=a,m[me]=c;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=m;e:switch(xn(m,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&os(a)}}return zt(a),Dm(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&os(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Oe.current,Al(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=On,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[ge]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||OT(i.nodeValue,l)),i||Gs(a,!0)}else i=Kf(i).createTextNode(c),i[ge]=a,a.stateNode=i}return zt(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(c=Al(a),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[ge]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),i=!1}else l=zp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(Tr(a),a):(Tr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return zt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Al(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[ge]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;zt(a),p=!1}else p=zp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Tr(a),a):(Tr(a),null)}return Tr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),kf(a,a.updateQueue),zt(a),null);case 4:return Pt(),i===null&&Xm(a.stateNode.containerInfo),zt(a),null;case 10:return rs(a.type),zt(a),null;case 19:if(ne(on),c=a.memoizedState,c===null)return zt(a),null;if(p=(a.flags&128)!==0,m=c.rendering,m===null)if(p)lc(c,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(m=Af(i),m!==null){for(a.flags|=128,lc(c,!1),i=m.updateQueue,a.updateQueue=i,kf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)ub(l,i),l=l.sibling;return fe(on,on.current&1|2),ot&&ts(a,c.treeForkCount),a.child}i=i.sibling}c.tail!==null&&Wt()>Bf&&(a.flags|=128,p=!0,lc(c,!1),a.lanes=4194304)}else{if(!p)if(i=Af(m),i!==null){if(a.flags|=128,p=!0,i=i.updateQueue,a.updateQueue=i,kf(a,i),lc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!ot)return zt(a),null}else 2*Wt()-c.renderingStartTime>Bf&&l!==536870912&&(a.flags|=128,p=!0,lc(c,!1),a.lanes=4194304);c.isBackwards?(m.sibling=a.child,a.child=m):(i=c.last,i!==null?i.sibling=m:a.child=m,c.last=m)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Wt(),i.sibling=null,l=on.current,fe(on,p?l&1|2:l&1),ot&&ts(a,c.treeForkCount),i):(zt(a),null);case 22:case 23:return Tr(a),Zp(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(zt(a),a.subtreeFlags&6&&(a.flags|=8192)):zt(a),l=a.updateQueue,l!==null&&kf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&ne(po),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),rs(fn),zt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function pM(i,a){switch(Lp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return rs(fn),Pt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ns(a),null;case 31:if(a.memoizedState!==null){if(Tr(a),a.alternate===null)throw Error(r(340));ho()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Tr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ho()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ne(on),null;case 4:return Pt(),null;case 10:return rs(a.type),null;case 22:case 23:return Tr(a),Zp(),i!==null&&ne(po),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return rs(fn),null;case 25:return null;default:return null}}function VA(i,a){switch(Lp(a),a.tag){case 3:rs(fn),Pt();break;case 26:case 27:case 5:Ns(a);break;case 4:Pt();break;case 31:a.memoizedState!==null&&Tr(a);break;case 13:Tr(a);break;case 19:ne(on);break;case 10:rs(a.type);break;case 22:case 23:Tr(a),Zp(),i!==null&&ne(po);break;case 24:rs(fn)}}function uc(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var m=l.create,b=l.inst;c=m(),b.destroy=c}l=l.next}while(l!==p)}}catch(w){Tt(a,a.return,w)}}function Zs(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&i)===i){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,p=a;var x=l,Y=w;try{Y()}catch(re){Tt(p,x,re)}}}c=c.next}while(c!==m)}}catch(re){Tt(a,a.return,re)}}function LA(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Cb(a,l)}catch(c){Tt(i,i.return,c)}}}function UA(i,a,l){l.props=Eo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Tt(i,a,c)}}function cc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){Tt(i,a,p)}}function Di(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Tt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Tt(i,a,p)}else l.current=null}function zA(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Tt(i,i.return,p)}}function Nm(i,a,l){try{var c=i.stateNode;LM(c,i.type,l,a),c[me]=a}catch(p){Tt(i,i.return,p)}}function BA(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&sa(i.type)||i.tag===4}function Om(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||BA(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&sa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mm(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Jr));else if(c!==4&&(c===27&&sa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Mm(i,a,l),i=i.sibling;i!==null;)Mm(i,a,l),i=i.sibling}function Vf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&sa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Vf(i,a,l),i=i.sibling;i!==null;)Vf(i,a,l),i=i.sibling}function jA(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);xn(a,c,l),a[ge]=i,a[me]=l}catch(m){Tt(i,i.return,m)}}var ls=!1,pn=!1,Pm=!1,HA=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function mM(i,a){if(i=i.containerInfo,ey=rd,i=eb(i),Rp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,w=-1,x=-1,Y=0,re=0,se=i,K=null;t:for(;;){for(var J;se!==l||p!==0&&se.nodeType!==3||(w=b+p),se!==m||c!==0&&se.nodeType!==3||(x=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(J=se.firstChild)!==null;)K=se,se=J;for(;;){if(se===i)break t;if(K===l&&++Y===p&&(w=b),K===m&&++re===c&&(x=b),(J=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=J}l=w===-1||x===-1?null:{start:w,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(ty={focusedElem:i,selectionRange:l},rd=!1,Sn=a;Sn!==null;)if(a=Sn,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Sn=i;else for(;Sn!==null;){switch(a=Sn,m=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=a,p=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var Re=Eo(l.type,p);i=c.getSnapshotBeforeUpdate(Re,m),c.__reactInternalSnapshotBeforeUpdate=i}catch(Pe){Tt(l,l.return,Pe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)iy(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":iy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Sn=i;break}Sn=a.return}}function FA(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:cs(i,l),c&4&&uc(5,l);break;case 1:if(cs(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(b){Tt(l,l.return,b)}else{var p=Eo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Tt(l,l.return,b)}}c&64&&LA(l),c&512&&cc(l,l.return);break;case 3:if(cs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Cb(i,a)}catch(b){Tt(l,l.return,b)}}break;case 27:a===null&&c&4&&jA(l);case 26:case 5:cs(i,l),a===null&&c&4&&zA(l),c&512&&cc(l,l.return);break;case 12:cs(i,l);break;case 31:cs(i,l),c&4&&$A(i,l);break;case 13:cs(i,l),c&4&&YA(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=wM.bind(null,l),GM(i,l))));break;case 22:if(c=l.memoizedState!==null||ls,!c){a=a!==null&&a.memoizedState!==null||pn,p=ls;var m=pn;ls=c,(pn=a)&&!m?hs(i,l,(l.subtreeFlags&8772)!==0):cs(i,l),ls=p,pn=m}break;case 30:break;default:cs(i,l)}}function qA(i){var a=i.alternate;a!==null&&(i.alternate=null,qA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Lt(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,rr=!1;function us(i,a,l){for(l=l.child;l!==null;)GA(i,a,l),l=l.sibling}function GA(i,a,l){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(pr,l)}catch{}switch(l.tag){case 26:pn||Di(l,a),us(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pn||Di(l,a);var c=qt,p=rr;sa(l.type)&&(qt=l.stateNode,rr=!1),us(i,a,l),_c(l.stateNode),qt=c,rr=p;break;case 5:pn||Di(l,a);case 6:if(c=qt,p=rr,qt=null,us(i,a,l),qt=c,rr=p,qt!==null)if(rr)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(m){Tt(l,a,m)}else try{qt.removeChild(l.stateNode)}catch(m){Tt(l,a,m)}break;case 18:qt!==null&&(rr?(i=qt,LT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Fl(i)):LT(qt,l.stateNode));break;case 4:c=qt,p=rr,qt=l.stateNode.containerInfo,rr=!0,us(i,a,l),qt=c,rr=p;break;case 0:case 11:case 14:case 15:Zs(2,l,a),pn||Zs(4,l,a),us(i,a,l);break;case 1:pn||(Di(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&UA(l,a,c)),us(i,a,l);break;case 21:us(i,a,l);break;case 22:pn=(c=pn)||l.memoizedState!==null,us(i,a,l),pn=c;break;default:us(i,a,l)}}function $A(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fl(i)}catch(l){Tt(a,a.return,l)}}}function YA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fl(i)}catch(l){Tt(a,a.return,l)}}function yM(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new HA),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new HA),a;default:throw Error(r(435,i.tag))}}function Lf(i,a){var l=yM(i);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=RM.bind(null,i,c);c.then(p,p)}})}function ir(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],m=i,b=a,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(sa(w.type)){qt=w.stateNode,rr=!1;break e}break;case 5:qt=w.stateNode,rr=!1;break e;case 3:case 4:qt=w.stateNode.containerInfo,rr=!0;break e}w=w.return}if(qt===null)throw Error(r(160));GA(m,b,p),qt=null,rr=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)QA(a,i),a=a.sibling}var si=null;function QA(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ir(a,i),sr(i),c&4&&(Zs(3,i,i.return),uc(3,i),Zs(5,i,i.return));break;case 1:ir(a,i),sr(i),c&512&&(pn||l===null||Di(l,l.return)),c&64&&ls&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=si;if(ir(a,i),sr(i),c&512&&(pn||l===null||Di(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[St]||m[ge]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),xn(m,c,l),m[ge]=i,Vt(m),c=m;break e;case"link":var b=QT("link","href",p).get(c+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}m=p.createElement(c),xn(m,c,l),p.head.appendChild(m);break;case"meta":if(b=QT("meta","content",p).get(c+(l.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}m=p.createElement(c),xn(m,c,l),p.head.appendChild(m);break;default:throw Error(r(468,c))}m[ge]=i,Vt(m),c=m}i.stateNode=c}else WT(p,i.type,i.stateNode);else i.stateNode=YT(p,c,i.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?WT(p,i.type,i.stateNode):YT(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Nm(i,i.memoizedProps,l.memoizedProps)}break;case 27:ir(a,i),sr(i),c&512&&(pn||l===null||Di(l,l.return)),l!==null&&c&4&&Nm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ir(a,i),sr(i),c&512&&(pn||l===null||Di(l,l.return)),i.flags&32){p=i.stateNode;try{nr(p,"")}catch(Re){Tt(i,i.return,Re)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Nm(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Pm=!0);break;case 6:if(ir(a,i),sr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(Re){Tt(i,i.return,Re)}}break;case 3:if(Jf=null,p=si,si=Xf(a.containerInfo),ir(a,i),si=p,sr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Fl(a.containerInfo)}catch(Re){Tt(i,i.return,Re)}Pm&&(Pm=!1,WA(i));break;case 4:c=si,si=Xf(i.stateNode.containerInfo),ir(a,i),sr(i),si=c;break;case 12:ir(a,i),sr(i);break;case 31:ir(a,i),sr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Lf(i,c)));break;case 13:ir(a,i),sr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(zf=Wt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Lf(i,c)));break;case 22:p=i.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,Y=ls,re=pn;if(ls=Y||p,pn=re||x,ir(a,i),pn=re,ls=Y,sr(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||x||ls||pn||bo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){x=l=a;try{if(m=x.stateNode,p)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=x.stateNode;var se=x.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Re){Tt(x,x.return,Re)}}}else if(a.tag===6){if(l===null){x=a;try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(Re){Tt(x,x.return,Re)}}}else if(a.tag===18){if(l===null){x=a;try{var J=x.stateNode;p?UT(J,!0):UT(x.stateNode,!1)}catch(Re){Tt(x,x.return,Re)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Lf(i,l))));break;case 19:ir(a,i),sr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Lf(i,c)));break;case 30:break;case 21:break;default:ir(a,i),sr(i)}}function sr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(BA(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,m=Om(i);Vf(i,m,p);break;case 5:var b=l.stateNode;l.flags&32&&(nr(b,""),l.flags&=-33);var w=Om(i);Vf(i,w,b);break;case 3:case 4:var x=l.stateNode.containerInfo,Y=Om(i);Mm(i,Y,x);break;default:throw Error(r(161))}}catch(re){Tt(i,i.return,re)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function WA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;WA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function cs(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)FA(i,a.alternate,a),a=a.sibling}function bo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Zs(4,a,a.return),bo(a);break;case 1:Di(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&UA(a,a.return,l),bo(a);break;case 27:_c(a.stateNode);case 26:case 5:Di(a,a.return),bo(a);break;case 22:a.memoizedState===null&&bo(a);break;case 30:bo(a);break;default:bo(a)}i=i.sibling}}function hs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,m=a,b=m.flags;switch(m.tag){case 0:case 11:case 15:hs(p,m,l),uc(4,m);break;case 1:if(hs(p,m,l),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){Tt(c,c.return,Y)}if(c=m,p=c.updateQueue,p!==null){var w=c.stateNode;try{var x=p.shared.hiddenCallbacks;if(x!==null)for(p.shared.hiddenCallbacks=null,p=0;p<x.length;p++)Rb(x[p],w)}catch(Y){Tt(c,c.return,Y)}}l&&b&64&&LA(m),cc(m,m.return);break;case 27:jA(m);case 26:case 5:hs(p,m,l),l&&c===null&&b&4&&zA(m),cc(m,m.return);break;case 12:hs(p,m,l);break;case 31:hs(p,m,l),l&&b&4&&$A(p,m);break;case 13:hs(p,m,l),l&&b&4&&YA(p,m);break;case 22:m.memoizedState===null&&hs(p,m,l),cc(m,m.return);break;case 30:break;default:hs(p,m,l)}a=a.sibling}}function xm(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ku(l))}function km(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i))}function ai(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)KA(i,a,l,c),a=a.sibling}function KA(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:ai(i,a,l,c),p&2048&&uc(9,a);break;case 1:ai(i,a,l,c);break;case 3:ai(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ku(i)));break;case 12:if(p&2048){ai(i,a,l,c),i=a.stateNode;try{var m=a.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(x){Tt(a,a.return,x)}}else ai(i,a,l,c);break;case 31:ai(i,a,l,c);break;case 13:ai(i,a,l,c);break;case 23:break;case 22:m=a.stateNode,b=a.alternate,a.memoizedState!==null?m._visibility&2?ai(i,a,l,c):hc(i,a):m._visibility&2?ai(i,a,l,c):(m._visibility|=2,Ml(i,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&xm(b,a);break;case 24:ai(i,a,l,c),p&2048&&km(a.alternate,a);break;default:ai(i,a,l,c)}}function Ml(i,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=i,b=a,w=l,x=c,Y=b.flags;switch(b.tag){case 0:case 11:case 15:Ml(m,b,w,x,p),uc(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Ml(m,b,w,x,p):hc(m,b):(re._visibility|=2,Ml(m,b,w,x,p)),p&&Y&2048&&xm(b.alternate,b);break;case 24:Ml(m,b,w,x,p),p&&Y&2048&&km(b.alternate,b);break;default:Ml(m,b,w,x,p)}a=a.sibling}}function hc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:hc(l,c),p&2048&&xm(c.alternate,c);break;case 24:hc(l,c),p&2048&&km(c.alternate,c);break;default:hc(l,c)}a=a.sibling}}var fc=8192;function Pl(i,a,l){if(i.subtreeFlags&fc)for(i=i.child;i!==null;)XA(i,a,l),i=i.sibling}function XA(i,a,l){switch(i.tag){case 26:Pl(i,a,l),i.flags&fc&&i.memoizedState!==null&&rP(l,si,i.memoizedState,i.memoizedProps);break;case 5:Pl(i,a,l);break;case 3:case 4:var c=si;si=Xf(i.stateNode.containerInfo),Pl(i,a,l),si=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=fc,fc=16777216,Pl(i,a,l),fc=c):Pl(i,a,l));break;default:Pl(i,a,l)}}function ZA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function dc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,eT(c,i)}ZA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)JA(i),i=i.sibling}function JA(i){switch(i.tag){case 0:case 11:case 15:dc(i),i.flags&2048&&Zs(9,i,i.return);break;case 3:dc(i);break;case 12:dc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Uf(i)):dc(i);break;default:dc(i)}}function Uf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Sn=c,eT(c,i)}ZA(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Zs(8,a,a.return),Uf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Uf(a));break;default:Uf(a)}i=i.sibling}}function eT(i,a){for(;Sn!==null;){var l=Sn;switch(l.tag){case 0:case 11:case 15:Zs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ku(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Sn=c;else e:for(l=i;Sn!==null;){c=Sn;var p=c.sibling,m=c.return;if(qA(c),c===l){Sn=null;break e}if(p!==null){p.return=m,Sn=p;break e}Sn=m}}}var vM={getCacheForType:function(i){var a=Mn(fn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return Mn(fn).controller.signal}},_M=typeof WeakMap=="function"?WeakMap:Map,vt=0,Mt=null,tt=null,rt=0,At=0,Sr=null,Js=!1,xl=!1,Vm=!1,fs=0,tn=0,ea=0,Ao=0,Lm=0,wr=0,kl=0,gc=null,ar=null,Um=!1,zf=0,tT=0,Bf=1/0,jf=null,ta=null,_n=0,na=null,Vl=null,ds=0,zm=0,Bm=null,nT=null,pc=0,jm=null;function Rr(){return(vt&2)!==0&&rt!==0?rt&-rt:W.T!==null?Ym():de()}function rT(){if(wr===0)if((rt&536870912)===0||ot){var i=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),wr=i}else wr=536870912;return i=Ar.current,i!==null&&(i.flags|=32),wr}function or(i,a,l){(i===Mt&&(At===2||At===9)||i.cancelPendingCommit!==null)&&(Ll(i,0),ra(i,rt,wr,!1)),yi(i,l),((vt&2)===0||i!==Mt)&&(i===Mt&&((vt&2)===0&&(Ao|=l),tn===4&&ra(i,rt,wr,!1)),Ni(i))}function iT(i,a,l){if((vt&6)!==0)throw Error(r(327));var c=!l&&(a&127)===0&&(a&i.expiredLanes)===0||yr(i,a),p=c?AM(i,a):Fm(i,a,!0),m=c;do{if(p===0){xl&&!c&&ra(i,a,0,!1);break}else{if(l=i.current.alternate,m&&!EM(l)){p=Fm(i,a,!1),m=!1;continue}if(p===2){if(m=a,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var w=i;p=gc;var x=w.current.memoizedState.isDehydrated;if(x&&(Ll(w,b).flags|=256),b=Fm(w,b,!1),b!==2){if(Vm&&!x){w.errorRecoveryDisabledLanes|=m,Ao|=m,p=4;break e}m=ar,ar=p,m!==null&&(ar===null?ar=m:ar.push.apply(ar,m))}p=b}if(m=!1,p!==2)continue}}if(p===1){Ll(i,0),ra(i,a,0,!0);break}e:{switch(c=i,m=p,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ra(c,a,wr,!Js);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=zf+300-Wt(),10<p)){if(ra(c,a,wr,!Js),mr(c,0,!0)!==0)break e;ds=a,c.timeoutHandle=kT(sT.bind(null,c,l,ar,jf,Um,a,wr,Ao,kl,Js,m,"Throttled",-0,0),p);break e}sT(c,l,ar,jf,Um,a,wr,Ao,kl,Js,m,null,-0,0)}}break}while(!0);Ni(i)}function sT(i,a,l,c,p,m,b,w,x,Y,re,se,K,J){if(i.timeoutHandle=-1,se=a.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jr},XA(a,m,se);var Re=(m&62914560)===m?zf-Wt():(m&4194048)===m?tT-Wt():0;if(Re=iP(se,Re),Re!==null){ds=m,i.cancelPendingCommit=Re(dT.bind(null,i,a,m,l,c,p,b,w,x,re,se,null,K,J)),ra(i,m,b,!Y);return}}dT(i,a,m,l,c,p,b,w,x)}function EM(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],m=p.getSnapshot;p=p.value;try{if(!Er(m(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ra(i,a,l,c){a&=~Lm,a&=~Ao,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var m=31-jt(p),b=1<<m;c[m]=-1,p&=~b}l!==0&&Ki(i,l,a)}function Hf(){return(vt&6)===0?(mc(0),!1):!0}function Hm(){if(tt!==null){if(At===0)var i=tt.return;else i=tt,ns=fo=null,im(i),Cl=null,Zu=0,i=tt;for(;i!==null;)VA(i.alternate,i),i=i.return;tt=null}}function Ll(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,BM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ds=0,Hm(),Mt=i,tt=l=es(i.current,null),rt=a,At=0,Sr=null,Js=!1,xl=yr(i,a),Vm=!1,kl=wr=Lm=Ao=ea=tn=0,ar=gc=null,Um=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-jt(c),m=1<<p;a|=i[p],c&=~m}return fs=a,uf(),l}function aT(i,a){$e=null,W.H=ac,a===Rl||a===yf?(a=Ab(),At=3):a===$p?(a=Ab(),At=4):At=a===Em?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Sr=a,tt===null&&(tn=1,Of(i,kr(a,i.current)))}function oT(){var i=Ar.current;return i===null?!0:(rt&4194048)===rt?zr===null:(rt&62914560)===rt||(rt&536870912)!==0?i===zr:!1}function lT(){var i=W.H;return W.H=ac,i===null?ac:i}function uT(){var i=W.A;return W.A=vM,i}function Ff(){tn=4,Js||(rt&4194048)!==rt&&Ar.current!==null||(xl=!0),(ea&134217727)===0&&(Ao&134217727)===0||Mt===null||ra(Mt,rt,wr,!1)}function Fm(i,a,l){var c=vt;vt|=2;var p=lT(),m=uT();(Mt!==i||rt!==a)&&(jf=null,Ll(i,a)),a=!1;var b=tn;e:do try{if(At!==0&&tt!==null){var w=tt,x=Sr;switch(At){case 8:Hm(),b=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(a=!0);var Y=At;if(At=0,Sr=null,Ul(i,w,x,Y),l&&xl){b=0;break e}break;default:Y=At,At=0,Sr=null,Ul(i,w,x,Y)}}bM(),b=tn;break}catch(re){aT(i,re)}while(!0);return a&&i.shellSuspendCounter++,ns=fo=null,vt=c,W.H=p,W.A=m,tt===null&&(Mt=null,rt=0,uf()),b}function bM(){for(;tt!==null;)cT(tt)}function AM(i,a){var l=vt;vt|=2;var c=lT(),p=uT();Mt!==i||rt!==a?(jf=null,Bf=Wt()+500,Ll(i,a)):xl=yr(i,a);e:do try{if(At!==0&&tt!==null){a=tt;var m=Sr;t:switch(At){case 1:At=0,Sr=null,Ul(i,a,m,1);break;case 2:case 9:if(Eb(m)){At=0,Sr=null,hT(a);break}a=function(){At!==2&&At!==9||Mt!==i||(At=7),Ni(i)},m.then(a,a);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Eb(m)?(At=0,Sr=null,hT(a)):(At=0,Sr=null,Ul(i,a,m,7));break;case 5:var b=null;switch(tt.tag){case 26:b=tt.memoizedState;case 5:case 27:var w=tt;if(b?KT(b):w.stateNode.complete){At=0,Sr=null;var x=w.sibling;if(x!==null)tt=x;else{var Y=w.return;Y!==null?(tt=Y,qf(Y)):tt=null}break t}}At=0,Sr=null,Ul(i,a,m,5);break;case 6:At=0,Sr=null,Ul(i,a,m,6);break;case 8:Hm(),tn=6;break e;default:throw Error(r(462))}}TM();break}catch(re){aT(i,re)}while(!0);return ns=fo=null,W.H=c,W.A=p,vt=l,tt!==null?0:(Mt=null,rt=0,uf(),tn)}function TM(){for(;tt!==null&&!Pu();)cT(tt)}function cT(i){var a=xA(i.alternate,i,fs);i.memoizedProps=i.pendingProps,a===null?qf(i):tt=a}function hT(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=IA(l,a,a.pendingProps,a.type,void 0,rt);break;case 11:a=IA(l,a,a.pendingProps,a.type.render,a.ref,rt);break;case 5:im(a);default:VA(l,a),a=tt=ub(a,fs),a=xA(l,a,fs)}i.memoizedProps=i.pendingProps,a===null?qf(i):tt=a}function Ul(i,a,l,c){ns=fo=null,im(a),Cl=null,Zu=0;var p=a.return;try{if(hM(i,p,a,l,rt)){tn=1,Of(i,kr(l,i.current)),tt=null;return}}catch(m){if(p!==null)throw tt=p,m;tn=1,Of(i,kr(l,i.current)),tt=null;return}a.flags&32768?(ot||c===1?i=!0:xl||(rt&536870912)!==0?i=!1:(Js=i=!0,(c===2||c===9||c===3||c===6)&&(c=Ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),fT(a,i)):qf(a)}function qf(i){var a=i;do{if((a.flags&32768)!==0){fT(a,Js);return}i=a.return;var l=gM(a.alternate,a,fs);if(l!==null){tt=l;return}if(a=a.sibling,a!==null){tt=a;return}tt=a=i}while(a!==null);tn===0&&(tn=5)}function fT(i,a){do{var l=pM(i.alternate,i);if(l!==null){l.flags&=32767,tt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){tt=i;return}tt=i=l}while(i!==null);tn=6,tt=null}function dT(i,a,l,c,p,m,b,w,x){i.cancelPendingCommit=null;do Gf();while(_n!==0);if((vt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(m=a.lanes|a.childLanes,m|=Op,xu(i,l,m,b,w,x),i===Mt&&(tt=Mt=null,rt=0),Vl=a,na=i,ds=l,zm=m,Bm=p,nT=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,CM(An,function(){return vT(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,p=ue.p,ue.p=2,b=vt,vt|=4;try{mM(i,a,l)}finally{vt=b,ue.p=p,W.T=c}}_n=1,gT(),pT(),mT()}}function gT(){if(_n===1){_n=0;var i=na,a=Vl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=W.T,W.T=null;var c=ue.p;ue.p=2;var p=vt;vt|=4;try{QA(a,i);var m=ty,b=eb(i.containerInfo),w=m.focusedElem,x=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&JE(w.ownerDocument.documentElement,w)){if(x!==null&&Rp(w)){var Y=x.start,re=x.end;if(re===void 0&&(re=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(re,w.value.length);else{var se=w.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var J=K.getSelection(),Re=w.textContent.length,Pe=Math.min(x.start,Re),Dt=x.end===void 0?Pe:Math.min(x.end,Re);!J.extend&&Pe>Dt&&(b=Dt,Dt=Pe,Pe=b);var F=ZE(w,Pe),U=ZE(w,Dt);if(F&&U&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var $=se.createRange();$.setStart(F.node,F.offset),J.removeAllRanges(),Pe>Dt?(J.addRange($),J.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),J.addRange($))}}}}for(se=[],J=w;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var ie=se[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}rd=!!ey,ty=ey=null}finally{vt=p,ue.p=c,W.T=l}}i.current=a,_n=2}}function pT(){if(_n===2){_n=0;var i=na,a=Vl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=W.T,W.T=null;var c=ue.p;ue.p=2;var p=vt;vt|=4;try{FA(i,a.alternate,a)}finally{vt=p,ue.p=c,W.T=l}}_n=3}}function mT(){if(_n===4||_n===3){_n=0,il();var i=na,a=Vl,l=ds,c=nT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_n=5:(_n=0,Vl=na=null,yT(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ta=null),le(l),a=a.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(pr,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=W.T,p=ue.p,ue.p=2,W.T=null;try{for(var m=i.onRecoverableError,b=0;b<c.length;b++){var w=c[b];m(w.value,{componentStack:w.stack})}}finally{W.T=a,ue.p=p}}(ds&3)!==0&&Gf(),Ni(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===jm?pc++:(pc=0,jm=i):pc=0,mc(0)}}function yT(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ku(a)))}function Gf(){return gT(),pT(),mT(),vT()}function vT(){if(_n!==5)return!1;var i=na,a=zm;zm=0;var l=le(ds),c=W.T,p=ue.p;try{ue.p=32>l?32:l,W.T=null,l=Bm,Bm=null;var m=na,b=ds;if(_n=0,Vl=na=null,ds=0,(vt&6)!==0)throw Error(r(331));var w=vt;if(vt|=4,JA(m.current),KA(m,m.current,b,l),vt=w,mc(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(pr,m)}catch{}return!0}finally{ue.p=p,W.T=c,yT(i,a)}}function _T(i,a,l){a=kr(l,a),a=_m(i.stateNode,a,2),i=Ws(i,a,2),i!==null&&(yi(i,2),Ni(i))}function Tt(i,a,l){if(i.tag===3)_T(i,i,l);else for(;a!==null;){if(a.tag===3){_T(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ta===null||!ta.has(c))){i=kr(l,i),l=EA(2),c=Ws(a,l,2),c!==null&&(bA(l,c,a,i),yi(c,2),Ni(c));break}}a=a.return}}function qm(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new _M;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Vm=!0,p.add(l),i=SM.bind(null,i,a,l),a.then(i,i))}function SM(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Mt===i&&(rt&l)===l&&(tn===4||tn===3&&(rt&62914560)===rt&&300>Wt()-zf?(vt&2)===0&&Ll(i,0):Lm|=l,kl===rt&&(kl=0)),Ni(i)}function ET(i,a){a===0&&(a=Wi()),i=uo(i,a),i!==null&&(yi(i,a),Ni(i))}function wM(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),ET(i,l)}function RM(i,a){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),ET(i,l)}function CM(i,a){return sn(i,a)}var $f=null,zl=null,Gm=!1,Yf=!1,$m=!1,ia=0;function Ni(i){i!==zl&&i.next===null&&(zl===null?$f=zl=i:zl=zl.next=i),Yf=!0,Gm||(Gm=!0,DM())}function mc(i,a){if(!$m&&Yf){$m=!0;do for(var l=!1,c=$f;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var b=c.suspendedLanes,w=c.pingedLanes;m=(1<<31-jt(42|i)+1)-1,m&=p&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,ST(c,m))}else m=rt,m=mr(c,c===Mt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||yr(c,m)||(l=!0,ST(c,m));c=c.next}while(l);$m=!1}}function IM(){bT()}function bT(){Yf=Gm=!1;var i=0;ia!==0&&zM()&&(i=ia);for(var a=Wt(),l=null,c=$f;c!==null;){var p=c.next,m=AT(c,a);m===0?(c.next=null,l===null?$f=p:l.next=p,p===null&&(zl=l)):(l=c,(i!==0||(m&3)!==0)&&(Yf=!0)),c=p}_n!==0&&_n!==5||mc(i),ia!==0&&(ia=0)}function AT(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-jt(m),w=1<<b,x=p[b];x===-1?((w&l)===0||(w&c)!==0)&&(p[b]=al(w,a)):x<=a&&(i.expiredLanes|=w),m&=~w}if(a=Mt,l=rt,l=mr(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(At===2||At===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&pi(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||yr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&pi(c),le(l)){case 2:case 8:l=Qi;break;case 32:l=An;break;case 268435456:l=Wa;break;default:l=An}return c=TT.bind(null,i),l=sn(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&pi(c),i.callbackPriority=2,i.callbackNode=null,2}function TT(i,a){if(_n!==0&&_n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Gf()&&i.callbackNode!==l)return null;var c=rt;return c=mr(i,i===Mt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(iT(i,c,a),AT(i,Wt()),i.callbackNode!=null&&i.callbackNode===l?TT.bind(null,i):null)}function ST(i,a){if(Gf())return null;iT(i,a,!0)}function DM(){jM(function(){(vt&6)!==0?sn(Os,IM):bT()})}function Ym(){if(ia===0){var i=Sl;i===0&&(i=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),ia=i}return ia}function wT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ul(""+i)}function RT(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function NM(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var m=wT((p[me]||null).action),b=c.submitter;b&&(a=(a=b[me]||null)?wT(a.formAction):b.getAttribute("formAction"),a!==null&&(m=a,b=null));var w=new Ti("action","action",null,c,p);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ia!==0){var x=b?RT(p,b):new FormData(p);dm(l,{pending:!0,data:x,method:p.method,action:m},null,x)}}else typeof m=="function"&&(w.preventDefault(),x=b?RT(p,b):new FormData(p),dm(l,{pending:!0,data:x,method:p.method,action:m},m,x))},currentTarget:p}]})}}for(var Qm=0;Qm<Np.length;Qm++){var Wm=Np[Qm],OM=Wm.toLowerCase(),MM=Wm[0].toUpperCase()+Wm.slice(1);ii(OM,"on"+MM)}ii(rb,"onAnimationEnd"),ii(ib,"onAnimationIteration"),ii(sb,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(QO,"onTransitionRun"),ii(WO,"onTransitionStart"),ii(KO,"onTransitionCancel"),ii(ab,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function CT(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var m=void 0;if(a)for(var b=c.length-1;0<=b;b--){var w=c[b],x=w.instance,Y=w.currentTarget;if(w=w.listener,x!==m&&p.isPropagationStopped())break e;m=w,p.currentTarget=Y;try{m(p)}catch(re){lf(re)}p.currentTarget=null,m=x}else for(b=0;b<c.length;b++){if(w=c[b],x=w.instance,Y=w.currentTarget,w=w.listener,x!==m&&p.isPropagationStopped())break e;m=w,p.currentTarget=Y;try{m(p)}catch(re){lf(re)}p.currentTarget=null,m=x}}}}function nt(i,a){var l=a[Le];l===void 0&&(l=a[Le]=new Set);var c=i+"__bubble";l.has(c)||(IT(a,i,2,!1),l.add(c))}function Km(i,a,l){var c=0;a&&(c|=4),IT(l,i,c,a)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function Xm(i){if(!i[Qf]){i[Qf]=!0,Jn.forEach(function(l){l!=="selectionchange"&&(PM.has(l)||Km(l,!1,i),Km(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Qf]||(a[Qf]=!0,Km("selectionchange",!1,a))}}function IT(i,a,l,c){switch(rS(a)){case 2:var p=oP;break;case 8:p=lP;break;default:p=fy}l=p.bind(null,a,l,i),p=void 0,!to||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function Zm(i,a,l,c,p){var m=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===p)break;if(b===4)for(b=c.return;b!==null;){var x=b.tag;if((x===3||x===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;w!==null;){if(b=xt(w),b===null)return;if(x=b.tag,x===5||x===6||x===26||x===27){c=m=b;continue e}w=w.parentNode}}c=c.return}zs(function(){var Y=m,re=Or(l),se=[];e:{var K=ob.get(i);if(K!==void 0){var J=Ti,Re=i;switch(i){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":J=sf;break;case"focusin":Re="focus",J=so;break;case"focusout":Re="blur",J=so;break;case"beforeblur":case"afterblur":J=so;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case rb:case ib:case sb:J=Xh;break;case ab:J=C;break;case"scroll":case"scrollend":J=ju;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ji;break;case"toggle":case"beforetoggle":J=Ge}var Pe=(a&4)!==0,Dt=!Pe&&(i==="scroll"||i==="scrollend"),F=Pe?K!==null?K+"Capture":null:K;Pe=[];for(var U=Y,$;U!==null;){var ie=U;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||F===null||(ie=ei(U,F),ie!=null&&Pe.push(vc(U,ie,$))),Dt)break;U=U.return}0<Pe.length&&(K=new J(K,Re,null,l,re),se.push({event:K,listeners:Pe}))}}if((a&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",K&&l!==Uu&&(Re=l.relatedTarget||l.fromElement)&&(xt(Re)||Re[Se]))break e;if((J||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,J?(Re=l.relatedTarget||l.toElement,J=Y,Re=Re?xt(Re):null,Re!==null&&(Dt=o(Re),Pe=Re.tag,Re!==Dt||Pe!==5&&Pe!==27&&Pe!==6)&&(Re=null)):(J=null,Re=Y),J!==Re)){if(Pe=Hu,ie="onMouseLeave",F="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=Ji,ie="onPointerLeave",F="onPointerEnter",U="pointer"),Dt=J==null?K:kt(J),$=Re==null?K:kt(Re),K=new Pe(ie,U+"leave",J,l,re),K.target=Dt,K.relatedTarget=$,ie=null,xt(re)===Y&&(Pe=new Pe(F,U+"enter",Re,l,re),Pe.target=$,Pe.relatedTarget=Dt,ie=Pe),Dt=ie,J&&Re)t:{for(Pe=xM,F=J,U=Re,$=0,ie=F;ie;ie=Pe(ie))$++;ie=0;for(var Ne=U;Ne;Ne=Pe(Ne))ie++;for(;0<$-ie;)F=Pe(F),$--;for(;0<ie-$;)U=Pe(U),ie--;for(;$--;){if(F===U||U!==null&&F===U.alternate){Pe=F;break t}F=Pe(F),U=Pe(U)}Pe=null}else Pe=null;J!==null&&DT(se,K,J,Pe,!1),Re!==null&&Dt!==null&&DT(se,Dt,Re,Pe,!0)}}e:{if(K=Y?kt(Y):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var dt=$E;else if(qE(K))if(YE)dt=GO;else{dt=FO;var Ie=HO}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&ll(Y.elementType)&&(dt=$E):dt=qO;if(dt&&(dt=dt(i,Y))){GE(se,dt,l,re);break e}Ie&&Ie(i,K,Y),i==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&ku(K,"number",K.value)}switch(Ie=Y?kt(Y):window,i){case"focusin":(qE(Ie)||Ie.contentEditable==="true")&&(ml=Ie,Cp=Y,Yu=null);break;case"focusout":Yu=Cp=ml=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,tb(se,l,re);break;case"selectionchange":if(YO)break;case"keydown":case"keyup":tb(se,l,re)}var We;if(yt)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else pl?ao(i,l)&&(it="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Ri&&l.locale!=="ko"&&(pl||it!=="onCompositionStart"?it==="onCompositionEnd"&&pl&&(We=Bu()):(Ai=re,zu="value"in Ai?Ai.value:Ai.textContent,pl=!0)),Ie=Wf(Y,it),0<Ie.length&&(it=new wi(it,i,null,l,re),se.push({event:it,listeners:Ie}),We?it.data=We:(We=gl(l),We!==null&&(it.data=We)))),(We=Pr?UO(i,l):zO(i,l))&&(it=Wf(Y,"onBeforeInput"),0<it.length&&(Ie=new wi("onBeforeInput","beforeinput",null,l,re),se.push({event:Ie,listeners:it}),Ie.data=We)),NM(se,i,Y,l,re)}CT(se,a)})}function vc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Wf(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=ei(i,l),p!=null&&c.unshift(vc(i,p,m)),p=ei(i,a),p!=null&&c.push(vc(i,p,m))),i.tag===3)return c;i=i.return}return[]}function xM(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function DT(i,a,l,c,p){for(var m=a._reactName,b=[];l!==null&&l!==c;){var w=l,x=w.alternate,Y=w.stateNode;if(w=w.tag,x!==null&&x===c)break;w!==5&&w!==26&&w!==27||Y===null||(x=Y,p?(Y=ei(l,m),Y!=null&&b.unshift(vc(l,Y,x))):p||(Y=ei(l,m),Y!=null&&b.push(vc(l,Y,x)))),l=l.return}b.length!==0&&i.push({event:a,listeners:b})}var kM=/\r\n?/g,VM=/\u0000|\uFFFD/g;function NT(i){return(typeof i=="string"?i:""+i).replace(kM,`
`).replace(VM,"")}function OT(i,a){return a=NT(a),NT(i)===a}function It(i,a,l,c,p,m){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||nr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&nr(i,""+c);break;case"className":hn(i,"class",c);break;case"tabIndex":hn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(i,l,c);break;case"style":Lu(i,c,m);break;case"data":if(a!=="object"){hn(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ul(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&It(i,a,"name",p.name,p,null),It(i,a,"formEncType",p.formEncType,p,null),It(i,a,"formMethod",p.formMethod,p,null),It(i,a,"formTarget",p.formTarget,p,null)):(It(i,a,"encType",p.encType,p,null),It(i,a,"method",p.method,p,null),It(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ul(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Jr);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ul(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":nt("beforetoggle",i),nt("toggle",i),Kt(i,"popover",c);break;case"xlinkActuate":wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Kt(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qh.get(l)||l,Kt(i,l,c))}}function Jm(i,a,l,c,p,m){switch(l){case"style":Lu(i,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?nr(i,c):(typeof c=="number"||typeof c=="bigint")&&nr(i,""+c);break;case"onScroll":c!=null&&nt("scroll",i);break;case"onScrollEnd":c!=null&&nt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),m=i[me]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(a,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Kt(i,l,c)}}}function xn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",i),nt("load",i);var c=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:It(i,a,m,b,l,null)}}p&&It(i,a,"srcSet",l.srcSet,l,null),c&&It(i,a,"src",l.src,l,null);return;case"input":nt("invalid",i);var w=m=b=p=null,x=null,Y=null;for(c in l)if(l.hasOwnProperty(c)){var re=l[c];if(re!=null)switch(c){case"name":p=re;break;case"type":b=re;break;case"checked":x=re;break;case"defaultChecked":Y=re;break;case"value":m=re;break;case"defaultValue":w=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:It(i,a,c,re,l,null)}}Gh(i,m,w,x,Y,b,p,!1);return;case"select":nt("invalid",i),c=b=m=null;for(p in l)if(l.hasOwnProperty(p)&&(w=l[p],w!=null))switch(p){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:It(i,a,p,w,l,null)}a=m,l=b,i.multiple=!!c,a!=null?ks(i,!!c,a,!1):l!=null&&ks(i,!!c,l,!0);return;case"textarea":nt("invalid",i),m=p=c=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":p=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:It(i,a,b,w,l,null)}Vs(i,c,p,m);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(c=l[x],c!=null))switch(x){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:It(i,a,x,c,l,null)}return;case"dialog":nt("beforetoggle",i),nt("toggle",i),nt("cancel",i),nt("close",i);break;case"iframe":case"object":nt("load",i);break;case"video":case"audio":for(c=0;c<yc.length;c++)nt(yc[c],i);break;case"image":nt("error",i),nt("load",i);break;case"details":nt("toggle",i);break;case"embed":case"source":case"link":nt("error",i),nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:It(i,a,Y,c,l,null)}return;default:if(ll(a)){for(re in l)l.hasOwnProperty(re)&&(c=l[re],c!==void 0&&Jm(i,a,re,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&It(i,a,w,c,l,null))}function LM(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,b=null,w=null,x=null,Y=null,re=null;for(J in l){var se=l[J];if(l.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":x=se;default:c.hasOwnProperty(J)||It(i,a,J,null,c,se)}}for(var K in c){var J=c[K];if(se=l[K],c.hasOwnProperty(K)&&(J!=null||se!=null))switch(K){case"type":m=J;break;case"name":p=J;break;case"checked":Y=J;break;case"defaultChecked":re=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:J!==se&&It(i,a,K,J,c,se)}}ol(i,b,w,x,Y,re,m,p);return;case"select":J=b=w=K=null;for(m in l)if(x=l[m],l.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":J=x;default:c.hasOwnProperty(m)||It(i,a,m,null,c,x)}for(p in c)if(m=c[p],x=l[p],c.hasOwnProperty(p)&&(m!=null||x!=null))switch(p){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==x&&It(i,a,p,m,c,x)}a=w,l=b,c=J,K!=null?ks(i,!!l,K,!1):!!c!=!!l&&(a!=null?ks(i,!!l,a,!0):ks(i,!!l,l?[]:"",!1));return;case"textarea":J=K=null;for(w in l)if(p=l[w],l.hasOwnProperty(w)&&p!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:It(i,a,w,null,c,p)}for(b in c)if(p=c[b],m=l[b],c.hasOwnProperty(b)&&(p!=null||m!=null))switch(b){case"value":K=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==m&&It(i,a,b,p,c,m)}$h(i,K,J);return;case"option":for(var Re in l)if(K=l[Re],l.hasOwnProperty(Re)&&K!=null&&!c.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:It(i,a,Re,null,c,K)}for(x in c)if(K=c[x],J=l[x],c.hasOwnProperty(x)&&K!==J&&(K!=null||J!=null))switch(x){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:It(i,a,x,K,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)K=l[Pe],l.hasOwnProperty(Pe)&&K!=null&&!c.hasOwnProperty(Pe)&&It(i,a,Pe,null,c,K);for(Y in c)if(K=c[Y],J=l[Y],c.hasOwnProperty(Y)&&K!==J&&(K!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:It(i,a,Y,K,c,J)}return;default:if(ll(a)){for(var Dt in l)K=l[Dt],l.hasOwnProperty(Dt)&&K!==void 0&&!c.hasOwnProperty(Dt)&&Jm(i,a,Dt,void 0,c,K);for(re in c)K=c[re],J=l[re],!c.hasOwnProperty(re)||K===J||K===void 0&&J===void 0||Jm(i,a,re,K,c,J);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!c.hasOwnProperty(F)&&It(i,a,F,null,c,K);for(se in c)K=c[se],J=l[se],!c.hasOwnProperty(se)||K===J||K==null&&J==null||It(i,a,se,K,c,J)}function MT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],m=p.transferSize,b=p.initiatorType,w=p.duration;if(m&&w&&MT(b)){for(b=0,w=p.responseEnd,c+=1;c<l.length;c++){var x=l[c],Y=x.startTime;if(Y>w)break;var re=x.transferSize,se=x.initiatorType;re&&MT(se)&&(x=x.responseEnd,b+=re*(x<w?1:(w-Y)/(x-Y)))}if(--c,a+=8*(m+b)/(p.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ey=null,ty=null;function Kf(i){return i.nodeType===9?i:i.ownerDocument}function PT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xT(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ny(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ry=null;function zM(){var i=window.event;return i&&i.type==="popstate"?i===ry?!1:(ry=i,!0):(ry=null,!1)}var kT=typeof setTimeout=="function"?setTimeout:void 0,BM=typeof clearTimeout=="function"?clearTimeout:void 0,VT=typeof Promise=="function"?Promise:void 0,jM=typeof queueMicrotask=="function"?queueMicrotask:typeof VT<"u"?function(i){return VT.resolve(null).then(i).catch(HM)}:kT;function HM(i){setTimeout(function(){throw i})}function sa(i){return i==="head"}function LT(i,a){var l=a,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(p),Fl(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")_c(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,_c(l);for(var m=l.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[St]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&_c(i.ownerDocument.body);l=p}while(l);Fl(a)}function UT(i,a){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function iy(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":iy(l),Lt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function FM(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[St])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Br(i.nextSibling),i===null)break}return null}function qM(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Br(i.nextSibling),i===null))return null;return i}function zT(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Br(i.nextSibling),i===null))return null;return i}function sy(i){return i.data==="$?"||i.data==="$~"}function ay(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function GM(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Br(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var oy=null;function BT(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Br(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function jT(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function HT(i,a,l){switch(a=Kf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _c(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Lt(i)}var jr=new Map,FT=new Set;function Xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var gs=ue.d;ue.d={f:$M,r:YM,D:QM,C:WM,L:KM,m:XM,X:JM,S:ZM,M:eP};function $M(){var i=gs.f(),a=Hf();return i||a}function YM(i){var a=Ye(i);a!==null&&a.tag===5&&a.type==="form"?aA(a):gs.r(i)}var Bl=typeof document>"u"?null:document;function qT(i,a,l){var c=Bl;if(c&&typeof a=="string"&&a){var p=tr(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),FT.has(p)||(FT.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),xn(a,"link",i),Vt(a),c.head.appendChild(a)))}}function QM(i){gs.D(i),qT("dns-prefetch",i,null)}function WM(i,a){gs.C(i,a),qT("preconnect",i,a)}function KM(i,a,l){gs.L(i,a,l);var c=Bl;if(c&&i&&a){var p='link[rel="preload"][as="'+tr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+tr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+tr(l.imageSizes)+'"]')):p+='[href="'+tr(i)+'"]';var m=p;switch(a){case"style":m=jl(i);break;case"script":m=Hl(i)}jr.has(m)||(i=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),jr.set(m,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(Ec(m))||a==="script"&&c.querySelector(bc(m))||(a=c.createElement("link"),xn(a,"link",i),Vt(a),c.head.appendChild(a)))}}function XM(i,a){gs.m(i,a);var l=Bl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+tr(c)+'"][href="'+tr(i)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Hl(i)}if(!jr.has(m)&&(i=v({rel:"modulepreload",href:i},a),jr.set(m,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(m)))return}c=l.createElement("link"),xn(c,"link",i),Vt(c),l.head.appendChild(c)}}}function ZM(i,a,l){gs.S(i,a,l);var c=Bl;if(c&&i){var p=Tn(c).hoistableStyles,m=jl(i);a=a||"default";var b=p.get(m);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(Ec(m)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":a},l),(l=jr.get(m))&&ly(i,l);var x=b=c.createElement("link");Vt(x),xn(x,"link",i),x._p=new Promise(function(Y,re){x.onload=Y,x.onerror=re}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zf(b,a,c)}b={type:"stylesheet",instance:b,count:1,state:w},p.set(m,b)}}}function JM(i,a){gs.X(i,a);var l=Bl;if(l&&i){var c=Tn(l).hoistableScripts,p=Hl(i),m=c.get(p);m||(m=l.querySelector(bc(p)),m||(i=v({src:i,async:!0},a),(a=jr.get(p))&&uy(i,a),m=l.createElement("script"),Vt(m),xn(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function eP(i,a){gs.M(i,a);var l=Bl;if(l&&i){var c=Tn(l).hoistableScripts,p=Hl(i),m=c.get(p);m||(m=l.querySelector(bc(p)),m||(i=v({src:i,async:!0,type:"module"},a),(a=jr.get(p))&&uy(i,a),m=l.createElement("script"),Vt(m),xn(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function GT(i,a,l,c){var p=(p=Oe.current)?Xf(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=jl(l.href),l=Tn(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=jl(l.href);var m=Tn(p).hoistableStyles,b=m.get(i);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=p.querySelector(Ec(i)))&&!m._p&&(b.instance=m,b.state.loading=5),jr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jr.set(i,l),m||tP(p,i,l,b.state))),a&&c===null)throw Error(r(528,""));return b}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Hl(l),l=Tn(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function jl(i){return'href="'+tr(i)+'"'}function Ec(i){return'link[rel="stylesheet"]['+i+"]"}function $T(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function tP(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),xn(a,"link",l),Vt(a),i.head.appendChild(a))}function Hl(i){return'[src="'+tr(i)+'"]'}function bc(i){return"script[async]"+i}function YT(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+tr(l.href)+'"]');if(c)return a.instance=c,Vt(c),c;var p=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Vt(c),xn(c,"style",p),Zf(c,l.precedence,i),a.instance=c;case"stylesheet":p=jl(l.href);var m=i.querySelector(Ec(p));if(m)return a.state.loading|=4,a.instance=m,Vt(m),m;c=$T(l),(p=jr.get(p))&&ly(c,p),m=(i.ownerDocument||i).createElement("link"),Vt(m);var b=m;return b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),xn(m,"link",c),a.state.loading|=4,Zf(m,l.precedence,i),a.instance=m;case"script":return m=Hl(l.src),(p=i.querySelector(bc(m)))?(a.instance=p,Vt(p),p):(c=l,(p=jr.get(m))&&(c=v({},l),uy(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Vt(p),xn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Zf(c,l.precedence,i));return a.instance}function Zf(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===a)m=w;else if(m!==p)break}m?m.parentNode.insertBefore(i,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function ly(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function uy(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Jf=null;function QT(i,a,l){if(Jf===null){var c=new Map,p=Jf=new Map;p.set(l,c)}else p=Jf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var m=l[p];if(!(m[St]||m[ge]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(a)||"";b=i+b;var w=c.get(b);w?w.push(m):c.set(b,[m])}}return c}function WT(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function nP(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function KT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function rP(i,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=jl(c.href),m=a.querySelector(Ec(p));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=ed.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=m,Vt(m);return}m=a.ownerDocument||a,c=$T(c),(p=jr.get(p))&&ly(c,p),m=m.createElement("link"),Vt(m);var b=m;b._p=new Promise(function(w,x){b.onload=w,b.onerror=x}),xn(m,"link",c),l.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ed.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var cy=0;function iP(i,a){return i.stylesheets&&i.count===0&&nd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+a);0<i.imgBytes&&cy===0&&(cy=62500*UM());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>cy?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var td=null;function nd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,td=new Map,a.forEach(sP,i),td=null,ed.call(i))}function sP(i,a){if(!(a.state.loading&4)){var l=td.get(i);if(l)var c=l.get(null);else{l=new Map,td.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var b=p[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}p=a.instance,b=p.getAttribute("data-precedence"),m=l.get(b)||c,m===c&&l.set(null,p),l.set(b,p),this.count++,c=ed.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Ac={$$typeof:te,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function aP(i,a,l,c,p,m,b,w,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function XT(i,a,l,c,p,m,b,w,x,Y,re,se){return i=new aP(i,a,l,b,x,Y,re,se,w),a=1,m===!0&&(a|=24),m=br(3,null,null,a),i.current=m,m.stateNode=i,a=Fp(),a.refCount++,i.pooledCache=a,a.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:a},Yp(m),i}function ZT(i){return i?(i=_l,i):_l}function JT(i,a,l,c,p,m){p=ZT(p),c.context===null?c.context=p:c.pendingContext=p,c=Qs(a),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=Ws(i,c,a),l!==null&&(or(l,i,a),ec(l,i,a))}function eS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function hy(i,a){eS(i,a),(i=i.alternate)&&eS(i,a)}function tS(i){if(i.tag===13||i.tag===31){var a=uo(i,67108864);a!==null&&or(a,i,67108864),hy(i,67108864)}}function nS(i){if(i.tag===13||i.tag===31){var a=Rr();a=Q(a);var l=uo(i,a);l!==null&&or(l,i,a),hy(i,a)}}var rd=!0;function oP(i,a,l,c){var p=W.T;W.T=null;var m=ue.p;try{ue.p=2,fy(i,a,l,c)}finally{ue.p=m,W.T=p}}function lP(i,a,l,c){var p=W.T;W.T=null;var m=ue.p;try{ue.p=8,fy(i,a,l,c)}finally{ue.p=m,W.T=p}}function fy(i,a,l,c){if(rd){var p=dy(c);if(p===null)Zm(i,a,c,id,l),iS(i,c);else if(cP(p,i,a,l,c))c.stopPropagation();else if(iS(i,c),a&4&&-1<uP.indexOf(i)){for(;p!==null;){var m=Ye(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Nr(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var x=1<<31-jt(b);w.entanglements[1]|=x,b&=~x}Ni(m),(vt&6)===0&&(Bf=Wt()+500,mc(0))}}break;case 31:case 13:w=uo(m,2),w!==null&&or(w,m,2),Hf(),hy(m,2)}if(m=dy(c),m===null&&Zm(i,a,c,id,l),m===p)break;p=m}p!==null&&c.stopPropagation()}else Zm(i,a,c,null,l)}}function dy(i){return i=Or(i),gy(i)}var id=null;function gy(i){if(id=null,i=xt(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=h(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return id=i,null}function rS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Os:return 2;case Qi:return 8;case An:case gr:return 32;case Wa:return 268435456;default:return 32}default:return 32}}var py=!1,aa=null,oa=null,la=null,Tc=new Map,Sc=new Map,ua=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iS(i,a){switch(i){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Tc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(a.pointerId)}}function wc(i,a,l,c,p,m){return i===null||i.nativeEvent!==m?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},a!==null&&(a=Ye(a),a!==null&&tS(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function cP(i,a,l,c,p){switch(a){case"focusin":return aa=wc(aa,i,a,l,c,p),!0;case"dragenter":return oa=wc(oa,i,a,l,c,p),!0;case"mouseover":return la=wc(la,i,a,l,c,p),!0;case"pointerover":var m=p.pointerId;return Tc.set(m,wc(Tc.get(m)||null,i,a,l,c,p)),!0;case"gotpointercapture":return m=p.pointerId,Sc.set(m,wc(Sc.get(m)||null,i,a,l,c,p)),!0}return!1}function sS(i){var a=xt(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,Ae(i.priority,function(){nS(l)});return}}else if(a===31){if(a=h(l),a!==null){i.blockedOn=a,Ae(i.priority,function(){nS(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=dy(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Uu=c,l.target.dispatchEvent(c),Uu=null}else return a=Ye(l),a!==null&&tS(a),i.blockedOn=l,!1;a.shift()}return!0}function aS(i,a,l){sd(i)&&l.delete(a)}function hP(){py=!1,aa!==null&&sd(aa)&&(aa=null),oa!==null&&sd(oa)&&(oa=null),la!==null&&sd(la)&&(la=null),Tc.forEach(aS),Sc.forEach(aS)}function ad(i,a){i.blockedOn===a&&(i.blockedOn=null,py||(py=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hP)))}var od=null;function oS(i){od!==i&&(od=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===i&&(od=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(gy(c||l)===null)continue;break}var m=Ye(l);m!==null&&(i.splice(a,3),a-=3,dm(m,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Fl(i){function a(x){return ad(x,i)}aa!==null&&ad(aa,i),oa!==null&&ad(oa,i),la!==null&&ad(la,i),Tc.forEach(a),Sc.forEach(a);for(var l=0;l<ua.length;l++){var c=ua[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<ua.length&&(l=ua[0],l.blockedOn===null);)sS(l),l.blockedOn===null&&ua.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],m=l[c+1],b=p[me]||null;if(typeof m=="function")b||oS(l);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(p=m,b=m[me]||null)w=b.formAction;else if(gy(p)!==null)continue}else w=b.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),oS(l)}}}function lS(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function my(i){this._internalRoot=i}ld.prototype.render=my.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Rr();JT(l,c,i,a,null,null)},ld.prototype.unmount=my.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;JT(i.current,2,null,i,null,null),Hf(),a[Se]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var a=de();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ua.length&&a!==0&&a<ua[l].priority;l++);ua.splice(l,0,i),l===0&&sS(i)}};var uS=e.version;if(uS!=="19.2.3")throw Error(r(527,uS,"19.2.3"));ue.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(a),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var fP={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{pr=ud.inject(fP),Ot=ud}catch{}}return Cc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=mA,m=yA,b=vA;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=XT(i,1,!1,null,null,l,c,null,p,m,b,lS),i[Se]=a.current,Xm(i),new my(a)},Cc.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",m=mA,b=yA,w=vA,x=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),a=XT(i,1,!0,a,l??null,c,p,x,m,b,w,lS),a.context=ZT(null),l=a.current,c=Rr(),c=Q(c),p=Qs(c),p.callback=null,Ws(l,p,c),l=c,a.current.lanes=l,yi(a,l),Ni(a),i[Se]=a.current,Xm(i),new ld(a)},Cc.version="19.2.3",Cc}var _S;function TP(){if(_S)return _y.exports;_S=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_y.exports=AP(),_y.exports}var SP=TP();const wP=eC(SP);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nC=n=>{throw TypeError(n)},RP=(n,e,t)=>e.has(n)||nC("Cannot "+t),Ty=(n,e,t)=>(RP(n,e,"read from private field"),t?t.call(n):e.get(n)),CP=(n,e,t)=>e.has(n)?nC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ES="popstate";function IP(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return rh("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ji(s)}return NP(e,t,null,n)}function et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DP(){return Math.random().toString(36).substring(2,10)}function bS(n,e){return{usr:n.state,key:n.key,idx:e}}function rh(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||r||DP()}}function ji({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function za(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function NP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let O=y(),z=O==null?null:O-g;g=O,f&&f({action:h,location:N.location,delta:z})}function E(O,z){h="PUSH";let j=rh(N.location,O,z);g=y()+1;let te=bS(j,g),he=N.createHref(j);try{u.pushState(te,"",he)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;s.location.assign(he)}o&&f&&f({action:h,location:N.location,delta:1})}function A(O,z){h="REPLACE";let j=rh(N.location,O,z);g=y();let te=bS(j,g),he=N.createHref(j);u.replaceState(te,"",he),o&&f&&f({action:h,location:N.location,delta:0})}function I(O){return rC(O)}let N={get action(){return h},get location(){return n(s,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(ES,v),f=O,()=>{s.removeEventListener(ES,v),f=null}},createHref(O){return e(s,O)},createURL:I,encodeLocation(O){let z=I(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:A,go(O){return u.go(O)}};return N}function rC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ji(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Mc,AS=class{constructor(n){if(CP(this,Mc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Ty(this,Mc).has(n))return Ty(this,Mc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Ty(this,Mc).set(n,e)}};Mc=new WeakMap;var OP=new Set(["lazy","caseSensitive","path","id","index","children"]);function MP(n){return OP.has(n)}var PP=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function xP(n){return PP.has(n)}function kP(n){return n.index===!0}function ih(n,e,t=[],r={},s=!1){return n.map((o,u)=>{let h=[...t,String(u)],f=typeof o.id=="string"?o.id:h.join("-");if(et(o.index!==!0||!o.children,"Cannot specify children on an index route"),et(s||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),kP(o)){let g={...o,id:f};return r[f]=TS(g,e(g)),g}else{let g={...o,id:f,children:void 0};return r[f]=TS(g,e(g)),o.children&&(g.children=ih(o.children,e,h,r,s)),g}})}function TS(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function ga(n,e,t="/"){return Pc(n,e,t,!1)}function Pc(n,e,t,r){let s=typeof e=="string"?za(e):e,o=Kr(s.pathname||"/",t);if(o==null)return null;let u=iC(n);LP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let g=QP(o);h=$P(u[f],g,r)}return h}function VP(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function iC(n,e=[],t=[],r="",s=!1){let o=(u,h,f=s,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;et(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=xi([r,y.relativePath]),E=t.concat(y);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iC(u.children,e,E,v,f)),!(u.path==null&&!u.index)&&e.push({path:v,score:qP(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let g of sC(u.path))o(u,h,!0,g)}),e}function sC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=sC(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function LP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var UP=/^:[\w-]+$/,zP=3,BP=2,jP=1,HP=10,FP=-2,SS=n=>n==="*";function qP(n,e){let t=n.split("/"),r=t.length;return t.some(SS)&&(r+=FP),e&&(r+=BP),t.filter(s=>!SS(s)).reduce((s,o)=>s+(UP.test(o)?zP:o===""?jP:HP),r)}function GP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function $P(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],g=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=Zd({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),E=f.route;if(!v&&g&&t&&!r[r.length-1].route.index&&(v=Zd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:xi([o,v.pathname]),pathnameBase:XP(xi([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=xi([o,v.pathnameBase]))}return u}function Zd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YP(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:v},E)=>{if(y==="*"){let I=h[E]||"";u=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const A=h[E];return v&&!A?g[y]=void 0:g[y]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:n}}function YP(n,e=!1,t=!0){cn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function WP({basename:n,pathname:e}){return e==="/"?n:xi([n,e])}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gg=n=>aC.test(n);function KP(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?za(n):n,o;if(t)if(Gg(t))o=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?o=wS(t.substring(1),"/"):o=wS(t,e)}else o=e;return{pathname:o,search:ZP(r),hash:JP(s)}}function wS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Sy(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function u_(n){let e=oC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function c_(n,e,t,r=!1){let s;typeof n=="string"?s=za(n):(s={...n},et(!s.pathname||!s.pathname.includes("?"),Sy("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Sy("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Sy("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}h=v>=0?e[v]:"/"}let f=KP(s,h),g=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}var xi=n=>n.join("/").replace(/\/\/+/g,"/"),XP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Th=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function sh(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Sh(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uC(n,e){let t=n;if(typeof t!="string"||!aC.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,s=!1;if(lC)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=Kr(u.pathname,e);u.origin===o.origin&&h!=null?t=h+u.search+u.hash:s=!0}catch{cn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:t}}var Ea=Symbol("Uninstrumented");function ex(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(o){let u=Object.keys(t);for(let h of u)o[h]&&t[h].push(o[h])}}));let r={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Zl(t.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(o=>{let u=s[o],h=t[`lazy.${o}`];if(typeof u=="function"&&h.length>0){let f=Zl(h,u,()=>{});f&&(r.lazy=Object.assign(r.lazy||{},{[o]:f}))}})}return["loader","action"].forEach(s=>{let o=e[s];if(typeof o=="function"&&t[s].length>0){let u=o[Ea]??o,h=Zl(t[s],u,(...f)=>RS(f[0]));h&&(s==="loader"&&u.hydrate===!0&&(h.hydrate=!0),h[Ea]=u,r[s]=h)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let o=s[Ea]??s,u=Zl(t.middleware,o,(...h)=>RS(h[0]));return u?(u[Ea]=o,u):s})),r}function tx(n,e){let t={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let o=Object.keys(s);for(let u of o)s[u]&&t[u].push(s[u])}})),t.navigate.length>0){let r=n.navigate[Ea]??n.navigate,s=Zl(t.navigate,r,(...o)=>{let[u,h]=o;return{to:typeof u=="number"||typeof u=="string"?u:u?ji(u):".",...CS(n,h??{})}});s&&(s[Ea]=r,n.navigate=s)}if(t.fetch.length>0){let r=n.fetch[Ea]??n.fetch,s=Zl(t.fetch,r,(...o)=>{let[u,,h,f]=o;return{href:h??".",fetcherKey:u,...CS(n,f??{})}});s&&(s[Ea]=r,n.fetch=s)}return n}function Zl(n,e,t){return n.length===0?null:async(...r)=>{let s=await cC(n,t(...r),()=>e(...r),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function cC(n,e,t,r){let s=n[r],o;if(s){let u,h=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=cC(n,e,t,r-1),o=await u,et(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await s(h,e)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await h(),await u}else try{o={type:"success",value:await t()}}catch(u){o={type:"error",value:u}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function RS(n){let{request:e,context:t,params:r,unstable_pattern:s}=n;return{request:nx(e),params:{...r},unstable_pattern:s,context:rx(t)}}function CS(n,e){return{currentUrl:ji(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function nx(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function rx(n){if(sx(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var ix=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sx(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===ix}var hC=["POST","PUT","PATCH","DELETE"],ax=new Set(hC),ox=["GET",...hC],lx=new Set(ox),fC=new Set([301,302,303,307,308]),ux=new Set([307,308]),wy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ic={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),dC="remix-router-transitions",gC=Symbol("ResetLoaderData");function fx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||hx,o=s;if(n.unstable_instrumentations){let P=n.unstable_instrumentations;o=H=>({...s(H),...ex(P.map(Q=>Q.route).filter(Boolean),H)})}let u={},h=ih(n.routes,o,void 0,u),f,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let y=n.dataStrategy||yx,v={...n.future},E=null,A=new Set,I=null,N=null,O=null,z=n.hydrationData!=null,j=ga(h,n.history.location,g),te=!1,he=null,Ee;if(j==null&&!n.patchRoutesOnNavigation){let P=Hr(404,{pathname:n.history.location.pathname}),{matches:H,route:Q}=cd(h);Ee=!0,j=H,he={[Q.id]:P}}else if(j&&!n.hydrationData&&Wi(j,h,n.history.location.pathname).active&&(j=null),j)if(j.some(P=>P.route.lazy))Ee=!1;else if(!j.some(P=>h_(P.route)))Ee=!0;else{let P=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let Q=j.findIndex(le=>H[le.route.id]!==void 0);Ee=j.slice(0,Q+1).every(le=>!uv(le.route,P,H))}else Ee=j.every(Q=>!uv(Q.route,P,H))}else{Ee=!1,j=[];let P=Wi(null,h,n.history.location.pathname);P.active&&P.matches&&(te=!0,j=P.matches)}let _e,S={historyAction:n.history.action,location:n.history.location,matches:j,initialized:Ee,navigation:wy,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||he,fetchers:new Map,blockers:new Map},R="POP",D=null,V=!1,k,B=!1,M=new Map,He=null,ft=!1,W=!1,ue=new Set,ye=new Map,ke=0,Ve=-1,L=new Map,ne=new Set,fe=new Map,ve=new Map,Ce=new Set,Oe=new Map,Xe,Nt=null;function Pt(){if(E=n.history.listen(({action:P,location:H,delta:Q})=>{if(Xe){Xe(),Xe=void 0;return}cn(Oe.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=mi({currentLocation:S.location,nextLocation:H,historyAction:P});if(le&&Q!=null){let de=new Promise(Ae=>{Xe=Ae});n.history.go(Q*-1),Qn(le,{state:"blocked",location:H,proceed(){Qn(le,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),de.then(()=>n.history.go(Q))},reset(){let Ae=new Map(S.blockers);Ae.set(le,Ic),Yt({blockers:Ae})}}),D==null||D.resolve(),D=null;return}return $n(P,H)}),t){kx(e,M);let P=()=>Vx(e,M);e.addEventListener("pagehide",P),He=()=>e.removeEventListener("pagehide",P)}return S.initialized||$n("POP",S.location,{initialHydration:!0}),_e}function Yi(){E&&E(),He&&He(),A.clear(),k&&k.abort(),S.fetchers.forEach((P,H)=>Ms(H)),S.blockers.forEach((P,H)=>Xa(H))}function Ns(P){return A.add(P),()=>A.delete(P)}function Yt(P,H={}){P.matches&&(P.matches=P.matches.map(de=>{let Ae=u[de.route.id],we=de.route;return we.element!==Ae.element||we.errorElement!==Ae.errorElement||we.hydrateFallbackElement!==Ae.hydrateFallbackElement?{...de,route:Ae}:de})),S={...S,...P};let Q=[],le=[];S.fetchers.forEach((de,Ae)=>{de.state==="idle"&&(Ce.has(Ae)?Q.push(Ae):le.push(Ae))}),Ce.forEach(de=>{!S.fetchers.has(de)&&!ye.has(de)&&Q.push(de)}),[...A].forEach(de=>de(S,{deletedFetchers:Q,newErrors:P.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),Q.forEach(de=>Ms(de)),le.forEach(de=>S.fetchers.delete(de))}function hr(P,H,{flushSync:Q}={}){var Le,De;let le=S.actionData!=null&&S.navigation.formMethod!=null&&Bn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Le=P.state)==null?void 0:Le._isRedirect)!==!0,de;H.actionData?Object.keys(H.actionData).length>0?de=H.actionData:de=null:le?de=S.actionData:de=null;let Ae=H.loaderData?LS(S.loaderData,H.loaderData,H.matches||[],H.errors):S.loaderData,we=S.blockers;we.size>0&&(we=new Map(we),we.forEach((Be,Ze)=>we.set(Ze,Ic)));let ge=ft?!1:al(P,H.matches||S.matches),me=V===!0||S.navigation.formMethod!=null&&Bn(S.navigation.formMethod)&&((De=P.state)==null?void 0:De._isRedirect)!==!0;f&&(h=f,f=void 0),ft||R==="POP"||(R==="PUSH"?n.history.push(P,P.state):R==="REPLACE"&&n.history.replace(P,P.state));let Se;if(R==="POP"){let Be=M.get(S.location.pathname);Be&&Be.has(P.pathname)?Se={currentLocation:S.location,nextLocation:P}:M.has(P.pathname)&&(Se={currentLocation:P,nextLocation:S.location})}else if(B){let Be=M.get(S.location.pathname);Be?Be.add(P.pathname):(Be=new Set([P.pathname]),M.set(S.location.pathname,Be)),Se={currentLocation:S.location,nextLocation:P}}Yt({...H,actionData:de,loaderData:Ae,historyAction:R,location:P,initialized:!0,navigation:wy,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:me,blockers:we},{viewTransitionOpts:Se,flushSync:Q===!0}),R="POP",V=!1,B=!1,ft=!1,W=!1,D==null||D.resolve(),D=null,Nt==null||Nt.resolve(),Nt=null}async function fr(P,H){if(D==null||D.resolve(),D=null,typeof P=="number"){D||(D=jS());let Ze=D.promise;return n.history.go(P),Ze}let Q=lv(S.location,S.matches,g,P,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:le,submission:de,error:Ae}=IS(!1,Q,H),we=S.location,ge=rh(S.location,le,H&&H.state);ge={...ge,...n.history.encodeLocation(ge)};let me=H&&H.replace!=null?H.replace:void 0,Se="PUSH";me===!0?Se="REPLACE":me===!1||de!=null&&Bn(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(Se="REPLACE");let Le=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,De=(H&&H.flushSync)===!0,Be=mi({currentLocation:we,nextLocation:ge,historyAction:Se});if(Be){Qn(Be,{state:"blocked",location:ge,proceed(){Qn(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),fr(P,H)},reset(){let Ze=new Map(S.blockers);Ze.set(Be,Ic),Yt({blockers:Ze})}});return}await $n(Se,ge,{submission:de,pendingError:Ae,preventScrollReset:Le,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:De,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function $a(){Nt||(Nt=jS()),Qi(),Yt({revalidation:"loading"});let P=Nt.promise;return S.navigation.state==="submitting"?P:S.navigation.state==="idle"?($n(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),P):($n(R||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:B===!0}),P)}async function $n(P,H,Q){k&&k.abort(),k=null,R=P,ft=(Q&&Q.startUninterruptedRevalidation)===!0,yr(S.location,S.matches),V=(Q&&Q.preventScrollReset)===!0,B=(Q&&Q.enableViewTransition)===!0;let le=f||h,de=Q&&Q.overrideNavigation,Ae=Q!=null&&Q.initialHydration&&S.matches&&S.matches.length>0&&!te?S.matches:ga(le,H,g),we=(Q&&Q.flushSync)===!0;if(Ae&&S.initialized&&!W&&wx(S.location,H)&&!(Q&&Q.submission&&Bn(Q.submission.formMethod))){hr(H,{matches:Ae},{flushSync:we});return}let ge=Wi(Ae,le,H.pathname);if(ge.active&&ge.matches&&(Ae=ge.matches),!Ae){let{error:Lt,notFoundMatches:xt,route:Ye}=Ht(H.pathname);hr(H,{matches:xt,loaderData:{},errors:{[Ye.id]:Lt}},{flushSync:we});return}k=new AbortController;let me=ql(n.history,H,k.signal,Q&&Q.submission),Se=n.getContext?await n.getContext():new AS,Le;if(Q&&Q.pendingError)Le=[pa(Ae).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Bn(Q.submission.formMethod)){let Lt=await Ya(me,H,Q.submission,Ae,Se,ge.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:we});if(Lt.shortCircuited)return;if(Lt.pendingActionResult){let[xt,Ye]=Lt.pendingActionResult;if(Cr(Ye)&&sh(Ye.error)&&Ye.error.status===404){k=null,hr(H,{matches:Lt.matches,loaderData:{},errors:{[xt]:Ye.error}});return}}Ae=Lt.matches||Ae,Le=Lt.pendingActionResult,de=Ry(H,Q.submission),we=!1,ge.active=!1,me=ql(n.history,me.url,me.signal)}let{shortCircuited:De,matches:Be,loaderData:Ze,errors:St}=await Qa(me,H,Ae,Se,ge.active,de,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,we,Le,Q&&Q.callSiteDefaultShouldRevalidate);De||(k=null,hr(H,{matches:Be||Ae,...US(Le),loaderData:Ze,errors:St}))}async function Ya(P,H,Q,le,de,Ae,we,ge={}){Qi();let me=Px(H,Q);if(Yt({navigation:me},{flushSync:ge.flushSync===!0}),Ae){let De=await Wn(le,H.pathname,P.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){if(De.partialMatches.length===0){let{matches:Ze,route:St}=cd(h);return{matches:Ze,pendingActionResult:[St.id,{type:"error",error:De.error}]}}let Be=pa(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Be,{type:"error",error:De.error}]}}else if(De.matches)le=De.matches;else{let{notFoundMatches:Be,error:Ze,route:St}=Ht(H.pathname);return{matches:Be,pendingActionResult:[St.id,{type:"error",error:Ze}]}}}let Se,Le=Id(le,H);if(!Le.route.action&&!Le.route.lazy)Se={type:"error",error:Hr(405,{method:P.method,pathname:H.pathname,routeId:Le.route.id})};else{let De=nu(o,u,P,le,Le,we?[]:r,de),Be=await dr(P,De,de,null);if(Se=Be[Le.route.id],!Se){for(let Ze of le)if(Be[Ze.route.id]){Se=Be[Ze.route.id];break}}if(P.signal.aborted)return{shortCircuited:!0}}if(Do(Se)){let De;return ge&&ge.replace!=null?De=ge.replace:De=xS(Se.response.headers.get("Location"),new URL(P.url),g,n.history)===S.location.pathname+S.location.search,await Wt(P,Se,!0,{submission:Q,replace:De}),{shortCircuited:!0}}if(Cr(Se)){let De=pa(le,Le.route.id);return(ge&&ge.replace)!==!0&&(R="PUSH"),{matches:le,pendingActionResult:[De.route.id,Se,Le.route.id]}}return{matches:le,pendingActionResult:[Le.route.id,Se]}}async function Qa(P,H,Q,le,de,Ae,we,ge,me,Se,Le,De,Be){let Ze=Ae||Ry(H,we),St=we||ge||BS(Ze),Lt=!ft&&!Se;if(de){if(Lt){let Kt=Qt(De);Yt({navigation:Ze,...Kt!==void 0?{actionData:Kt}:{}},{flushSync:Le})}let Je=await Wn(Q,H.pathname,P.signal);if(Je.type==="aborted")return{shortCircuited:!0};if(Je.type==="error"){if(Je.partialMatches.length===0){let{matches:hn,route:wt}=cd(h);return{matches:hn,loaderData:{},errors:{[wt.id]:Je.error}}}let Kt=pa(Je.partialMatches).route.id;return{matches:Je.partialMatches,loaderData:{},errors:{[Kt]:Je.error}}}else if(Je.matches)Q=Je.matches;else{let{error:Kt,notFoundMatches:hn,route:wt}=Ht(H.pathname);return{matches:hn,loaderData:{},errors:{[wt.id]:Kt}}}}let xt=f||h,{dsMatches:Ye,revalidatingFetchers:kt}=DS(P,le,o,u,n.history,S,Q,St,H,Se?[]:r,Se===!0,W,ue,Ce,fe,ne,xt,g,n.patchRoutesOnNavigation!=null,De,Be);if(Ve=++ke,!n.dataStrategy&&!Ye.some(Je=>Je.shouldLoad)&&!Ye.some(Je=>Je.route.middleware&&Je.route.middleware.length>0)&&kt.length===0){let Je=jt();return hr(H,{matches:Q,loaderData:{},errors:De&&Cr(De[1])?{[De[0]]:De[1].error}:null,...US(De),...Je?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Le}),{shortCircuited:!0}}if(Lt){let Je={};if(!de){Je.navigation=Ze;let Kt=Qt(De);Kt!==void 0&&(Je.actionData=Kt)}kt.length>0&&(Je.fetchers=sn(kt)),Yt(Je,{flushSync:Le})}kt.forEach(Je=>{Ot(Je.key),Je.controller&&ye.set(Je.key,Je.controller)});let Tn=()=>kt.forEach(Je=>Ot(Je.key));k&&k.signal.addEventListener("abort",Tn);let{loaderResults:Vt,fetcherResults:Jn}=await Os(Ye,kt,P,le);if(P.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Tn),kt.forEach(Je=>ye.delete(Je.key));let Vn=hd(Vt);if(Vn)return await Wt(P,Vn.result,!0,{replace:me}),{shortCircuited:!0};if(Vn=hd(Jn),Vn)return ne.add(Vn.key),await Wt(P,Vn.result,!0,{replace:me}),{shortCircuited:!0};let{loaderData:er,errors:Ln}=VS(S,Q,Vt,De,kt,Jn);Se&&S.errors&&(Ln={...S.errors,...Ln});let vr=jt(),vi=Ka(Ve),_i=vr||vi||kt.length>0;return{matches:Q,loaderData:er,errors:Ln,..._i?{fetchers:new Map(S.fetchers)}:{}}}function Qt(P){if(P&&!Cr(P[1]))return{[P[0]]:P[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function sn(P){return P.forEach(H=>{let Q=S.fetchers.get(H.key),le=Dc(void 0,Q?Q.data:void 0);S.fetchers.set(H.key,le)}),new Map(S.fetchers)}async function pi(P,H,Q,le){Ot(P);let de=(le&&le.flushSync)===!0,Ae=f||h,we=lv(S.location,S.matches,g,Q,H,le==null?void 0:le.relative),ge=ga(Ae,we,g),me=Wi(ge,Ae,we);if(me.active&&me.matches&&(ge=me.matches),!ge){gr(P,H,Hr(404,{pathname:we}),{flushSync:de});return}let{path:Se,submission:Le,error:De}=IS(!0,we,le);if(De){gr(P,H,De,{flushSync:de});return}let Be=n.getContext?await n.getContext():new AS,Ze=(le&&le.preventScrollReset)===!0;if(Le&&Bn(Le.formMethod)){await Pu(P,H,Se,ge,Be,me.active,de,Ze,Le,le&&le.unstable_defaultShouldRevalidate);return}fe.set(P,{routeId:H,path:Se}),await il(P,H,Se,ge,Be,me.active,de,Ze,Le)}async function Pu(P,H,Q,le,de,Ae,we,ge,me,Se){Qi(),fe.delete(P);let Le=S.fetchers.get(P);An(P,xx(me,Le),{flushSync:we});let De=new AbortController,Be=ql(n.history,Q,De.signal,me);if(Ae){let Qe=await Wn(le,new URL(Be.url).pathname,Be.signal,P);if(Qe.type==="aborted")return;if(Qe.type==="error"){gr(P,H,Qe.error,{flushSync:we});return}else if(Qe.matches)le=Qe.matches;else{gr(P,H,Hr(404,{pathname:Q}),{flushSync:we});return}}let Ze=Id(le,Q);if(!Ze.route.action&&!Ze.route.lazy){let Qe=Hr(405,{method:me.formMethod,pathname:Q,routeId:H});gr(P,H,Qe,{flushSync:we});return}ye.set(P,De);let St=ke,Lt=nu(o,u,Be,le,Ze,r,de),xt=await dr(Be,Lt,de,P),Ye=xt[Ze.route.id];if(!Ye){for(let Qe of Lt)if(xt[Qe.route.id]){Ye=xt[Qe.route.id];break}}if(Be.signal.aborted){ye.get(P)===De&&ye.delete(P);return}if(Ce.has(P)){if(Do(Ye)||Cr(Ye)){An(P,ps(void 0));return}}else{if(Do(Ye))if(ye.delete(P),Ve>St){An(P,ps(void 0));return}else return ne.add(P),An(P,Dc(me)),Wt(Be,Ye,!1,{fetcherSubmission:me,preventScrollReset:ge});if(Cr(Ye)){gr(P,H,Ye.error);return}}let kt=S.navigation.location||S.location,Tn=ql(n.history,kt,De.signal),Vt=f||h,Jn=S.navigation.state!=="idle"?ga(Vt,S.navigation.location,g):S.matches;et(Jn,"Didn't find any matches after fetcher action");let Vn=++ke;L.set(P,Vn);let er=Dc(me,Ye.data);S.fetchers.set(P,er);let{dsMatches:Ln,revalidatingFetchers:vr}=DS(Tn,de,o,u,n.history,S,Jn,me,kt,r,!1,W,ue,Ce,fe,ne,Vt,g,n.patchRoutesOnNavigation!=null,[Ze.route.id,Ye],Se);vr.filter(Qe=>Qe.key!==P).forEach(Qe=>{let _r=Qe.key,xs=S.fetchers.get(_r),mt=Dc(void 0,xs?xs.data:void 0);S.fetchers.set(_r,mt),Ot(_r),Qe.controller&&ye.set(_r,Qe.controller)}),Yt({fetchers:new Map(S.fetchers)});let vi=()=>vr.forEach(Qe=>Ot(Qe.key));De.signal.addEventListener("abort",vi);let{loaderResults:_i,fetcherResults:Je}=await Os(Ln,vr,Tn,de);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",vi),L.delete(P),ye.delete(P),vr.forEach(Qe=>ye.delete(Qe.key)),S.fetchers.has(P)){let Qe=ps(Ye.data);S.fetchers.set(P,Qe)}let Kt=hd(_i);if(Kt)return Wt(Tn,Kt.result,!1,{preventScrollReset:ge});if(Kt=hd(Je),Kt)return ne.add(Kt.key),Wt(Tn,Kt.result,!1,{preventScrollReset:ge});let{loaderData:hn,errors:wt}=VS(S,Jn,_i,void 0,vr,Je);Ka(Vn),S.navigation.state==="loading"&&Vn>Ve?(et(R,"Expected pending action"),k&&k.abort(),hr(S.navigation.location,{matches:Jn,loaderData:hn,errors:wt,fetchers:new Map(S.fetchers)})):(Yt({errors:wt,loaderData:LS(S.loaderData,hn,Jn,wt),fetchers:new Map(S.fetchers)}),W=!1)}async function il(P,H,Q,le,de,Ae,we,ge,me){let Se=S.fetchers.get(P);An(P,Dc(me,Se?Se.data:void 0),{flushSync:we});let Le=new AbortController,De=ql(n.history,Q,Le.signal);if(Ae){let Ye=await Wn(le,new URL(De.url).pathname,De.signal,P);if(Ye.type==="aborted")return;if(Ye.type==="error"){gr(P,H,Ye.error,{flushSync:we});return}else if(Ye.matches)le=Ye.matches;else{gr(P,H,Hr(404,{pathname:Q}),{flushSync:we});return}}let Be=Id(le,Q);ye.set(P,Le);let Ze=ke,St=nu(o,u,De,le,Be,r,de),xt=(await dr(De,St,de,P))[Be.route.id];if(ye.get(P)===Le&&ye.delete(P),!De.signal.aborted){if(Ce.has(P)){An(P,ps(void 0));return}if(Do(xt))if(Ve>Ze){An(P,ps(void 0));return}else{ne.add(P),await Wt(De,xt,!1,{preventScrollReset:ge});return}if(Cr(xt)){gr(P,H,xt.error);return}An(P,ps(xt.data))}}async function Wt(P,H,Q,{submission:le,fetcherSubmission:de,preventScrollReset:Ae,replace:we}={}){Q||(D==null||D.resolve(),D=null),H.response.headers.has("X-Remix-Revalidate")&&(W=!0);let ge=H.response.headers.get("Location");et(ge,"Expected a Location header on the redirect Response"),ge=xS(ge,new URL(P.url),g,n.history);let me=rh(S.location,ge,{_isRedirect:!0});if(t){let St=!1;if(H.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(Gg(ge)){const Lt=rC(ge,!0);St=Lt.origin!==e.location.origin||Kr(Lt.pathname,g)==null}if(St){we?e.location.replace(ge):e.location.assign(ge);return}}k=null;let Se=we===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Le,formAction:De,formEncType:Be}=S.navigation;!le&&!de&&Le&&De&&Be&&(le=BS(S.navigation));let Ze=le||de;if(ux.has(H.response.status)&&Ze&&Bn(Ze.formMethod))await $n(Se,me,{submission:{...Ze,formAction:ge},preventScrollReset:Ae||V,enableViewTransition:Q?B:void 0});else{let St=Ry(me,le);await $n(Se,me,{overrideNavigation:St,fetcherSubmission:de,preventScrollReset:Ae||V,enableViewTransition:Q?B:void 0})}}async function dr(P,H,Q,le){var we;let de,Ae={};try{de=await _x(y,P,H,le,Q,!1)}catch(ge){return H.filter(me=>me.shouldLoad).forEach(me=>{Ae[me.route.id]={type:"error",error:ge}}),Ae}if(P.signal.aborted)return Ae;if(!Bn(P.method))for(let ge of H){if(((we=de[ge.route.id])==null?void 0:we.type)==="error")break;!de.hasOwnProperty(ge.route.id)&&!S.loaderData.hasOwnProperty(ge.route.id)&&(!S.errors||!S.errors.hasOwnProperty(ge.route.id))&&ge.shouldCallHandler()&&(de[ge.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ge.route.id}`)})}for(let[ge,me]of Object.entries(de))if(Dx(me)){let Se=me.result;Ae[ge]={type:"redirect",response:Tx(Se,P,ge,H,g)}}else Ae[ge]=await Ax(me);return Ae}async function Os(P,H,Q,le){let de=dr(Q,P,le,null),Ae=Promise.all(H.map(async me=>{if(me.matches&&me.match&&me.request&&me.controller){let Le=(await dr(me.request,me.matches,le,me.key))[me.match.route.id];return{[me.key]:Le}}else return Promise.resolve({[me.key]:{type:"error",error:Hr(404,{pathname:me.path})}})})),we=await de,ge=(await Ae).reduce((me,Se)=>Object.assign(me,Se),{});return{loaderResults:we,fetcherResults:ge}}function Qi(){W=!0,fe.forEach((P,H)=>{ye.has(H)&&ue.add(H),Ot(H)})}function An(P,H,Q={}){S.fetchers.set(P,H),Yt({fetchers:new Map(S.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function gr(P,H,Q,le={}){let de=pa(S.matches,H);Ms(P),Yt({errors:{[de.route.id]:Q},fetchers:new Map(S.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Wa(P){return ve.set(P,(ve.get(P)||0)+1),Ce.has(P)&&Ce.delete(P),S.fetchers.get(P)||cx}function sl(P,H){Ot(P,H==null?void 0:H.reason),An(P,ps(null))}function Ms(P){let H=S.fetchers.get(P);ye.has(P)&&!(H&&H.state==="loading"&&L.has(P))&&Ot(P),fe.delete(P),L.delete(P),ne.delete(P),Ce.delete(P),ue.delete(P),S.fetchers.delete(P)}function pr(P){let H=(ve.get(P)||0)-1;H<=0?(ve.delete(P),Ce.add(P)):ve.set(P,H),Yt({fetchers:new Map(S.fetchers)})}function Ot(P,H){let Q=ye.get(P);Q&&(Q.abort(H),ye.delete(P))}function Yn(P){for(let H of P){let Q=Wa(H),le=ps(Q.data);S.fetchers.set(H,le)}}function jt(){let P=[],H=!1;for(let Q of ne){let le=S.fetchers.get(Q);et(le,`Expected fetcher: ${Q}`),le.state==="loading"&&(ne.delete(Q),P.push(Q),H=!0)}return Yn(P),H}function Ka(P){let H=[];for(let[Q,le]of L)if(le<P){let de=S.fetchers.get(Q);et(de,`Expected fetcher: ${Q}`),de.state==="loading"&&(Ot(Q),L.delete(Q),H.push(Q))}return Yn(H),H.length>0}function Ps(P,H){let Q=S.blockers.get(P)||Ic;return Oe.get(P)!==H&&Oe.set(P,H),Q}function Xa(P){S.blockers.delete(P),Oe.delete(P)}function Qn(P,H){let Q=S.blockers.get(P)||Ic;et(Q.state==="unblocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="blocked"||Q.state==="blocked"&&H.state==="proceeding"||Q.state==="blocked"&&H.state==="unblocked"||Q.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${H.state}`);let le=new Map(S.blockers);le.set(P,H),Yt({blockers:le})}function mi({currentLocation:P,nextLocation:H,historyAction:Q}){if(Oe.size===0)return;Oe.size>1&&cn(!1,"A router only supports one blocker at a time");let le=Array.from(Oe.entries()),[de,Ae]=le[le.length-1],we=S.blockers.get(de);if(!(we&&we.state==="proceeding")&&Ae({currentLocation:P,nextLocation:H,historyAction:Q}))return de}function Ht(P){let H=Hr(404,{pathname:P}),Q=f||h,{matches:le,route:de}=cd(Q);return{notFoundMatches:le,route:de,error:H}}function Nr(P,H,Q){if(I=P,O=H,N=Q||null,!z&&S.navigation===wy){z=!0;let le=al(S.location,S.matches);le!=null&&Yt({restoreScrollPosition:le})}return()=>{I=null,O=null,N=null}}function mr(P,H){return N&&N(P,H.map(le=>VP(le,S.loaderData)))||P.key}function yr(P,H){if(I&&O){let Q=mr(P,H);I[Q]=O()}}function al(P,H){if(I){let Q=mr(P,H),le=I[Q];if(typeof le=="number")return le}return null}function Wi(P,H,Q){if(n.patchRoutesOnNavigation)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:Pc(H,Q,g,!0)}}else return{active:!0,matches:Pc(H,Q,g,!0)||[]};return{active:!1,matches:null}}async function Wn(P,H,Q,le){if(!n.patchRoutesOnNavigation)return{type:"success",matches:P};let de=P;for(;;){let Ae=f==null,we=f||h,ge=u;try{await n.patchRoutesOnNavigation({signal:Q,path:H,matches:de,fetcherKey:le,patch:(Le,De)=>{Q.aborted||NS(Le,De,we,ge,o,!1)}})}catch(Le){return{type:"error",error:Le,partialMatches:de}}finally{Ae&&!Q.aborted&&(h=[...h])}if(Q.aborted)return{type:"aborted"};let me=ga(we,H,g),Se=null;if(me){if(Object.keys(me[0].params).length===0)return{type:"success",matches:me};if(Se=Pc(we,H,g,!0),!(Se&&de.length<Se.length&&yi(de,Se.slice(0,de.length))))return{type:"success",matches:me}}if(Se||(Se=Pc(we,H,g,!0)),!Se||yi(de,Se))return{type:"success",matches:null};de=Se}}function yi(P,H){return P.length===H.length&&P.every((Q,le)=>Q.route.id===H[le].route.id)}function xu(P){u={},f=ih(P,o,void 0,u)}function Ki(P,H,Q=!1){let le=f==null;NS(P,H,f||h,u,o,Q),le&&(h=[...h],Yt({}))}return _e={get basename(){return g},get future(){return v},get state(){return S},get routes(){return h},get window(){return e},initialize:Pt,subscribe:Ns,enableScrollRestoration:Nr,navigate:fr,fetch:pi,revalidate:$a,createHref:P=>n.history.createHref(P),encodeLocation:P=>n.history.encodeLocation(P),getFetcher:Wa,resetFetcher:sl,deleteFetcher:pr,dispose:Yi,getBlocker:Ps,deleteBlocker:Xa,patchRoutes:Ki,_internalFetchControllers:ye,_internalSetRoutes:xu,_internalSetStateDoNotUseOrYouWillBreakYourApp(P){Yt(P)}},n.unstable_instrumentations&&(_e=tx(_e,n.unstable_instrumentations.map(P=>P.router).filter(Boolean))),_e}function dx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function lv(n,e,t,r,s,o){let u,h;if(s){u=[];for(let g of e)if(u.push(g),g.route.id===s){h=g;break}}else u=e,h=e[e.length-1];let f=c_(r||".",u_(u),Kr(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&h){let g=d_(f.search);if(h.route.index&&!g)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&g){let y=new URLSearchParams(f.search),v=y.getAll("index");y.delete("index"),v.filter(A=>A).forEach(A=>y.append("index",A));let E=y.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=WP({basename:t,pathname:f.pathname})),ji(f)}function IS(n,e,t){if(!t||!dx(t))return{path:e};if(t.formMethod&&!Mx(t.formMethod))return{path:e,error:Hr(405,{method:t.formMethod})};let r=()=>({path:e,error:Hr(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=EC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Bn(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[A,I])=>`${E}${A}=${I}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!Bn(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}et(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=hv(t.formData),f=t.formData;else if(t.body instanceof FormData)h=hv(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=kS(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=kS(h)}catch{return r()}let g={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Bn(g.formMethod))return{path:e,submission:g};let y=za(e);return n&&y.search&&d_(y.search)&&h.append("index",""),y.search=`?${h}`,{path:ji(y),submission:g}}function DS(n,e,t,r,s,o,u,h,f,g,y,v,E,A,I,N,O,z,j,te,he){var ft;let Ee=te?Cr(te[1])?te[1].error:te[1].data:void 0,_e=s.createURL(o.location),S=s.createURL(f),R;if(y&&o.errors){let W=Object.keys(o.errors)[0];R=u.findIndex(ue=>ue.route.id===W)}else if(te&&Cr(te[1])){let W=te[0];R=u.findIndex(ue=>ue.route.id===W)-1}let D=te?te[1].statusCode:void 0,V=D&&D>=400,k={currentUrl:_e,currentParams:((ft=o.matches[0])==null?void 0:ft.params)||{},nextUrl:S,nextParams:u[0].params,...h,actionResult:Ee,actionStatus:D},B=Sh(u),M=u.map((W,ue)=>{let{route:ye}=W,ke=null;if(R!=null&&ue>R?ke=!1:ye.lazy?ke=!0:h_(ye)?y?ke=uv(ye,o.loaderData,o.errors):gx(o.loaderData,o.matches[ue],W)&&(ke=!0):ke=!1,ke!==null)return cv(t,r,n,B,W,g,e,ke);let Ve=!1;typeof he=="boolean"?Ve=he:V?Ve=!1:(v||_e.pathname+_e.search===S.pathname+S.search||_e.search!==S.search||px(o.matches[ue],W))&&(Ve=!0);let L={...k,defaultShouldRevalidate:Ve},ne=Fc(W,L);return cv(t,r,n,B,W,g,e,ne,L,he)}),He=[];return I.forEach((W,ue)=>{if(y||!u.some(Ce=>Ce.route.id===W.routeId)||A.has(ue))return;let ye=o.fetchers.get(ue),ke=ye&&ye.state!=="idle"&&ye.data===void 0,Ve=ga(O,W.path,z);if(!Ve){if(j&&ke)return;He.push({key:ue,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(N.has(ue))return;let L=Id(Ve,W.path),ne=new AbortController,fe=ql(s,W.path,ne.signal),ve=null;if(E.has(ue))E.delete(ue),ve=nu(t,r,fe,Ve,L,g,e);else if(ke)v&&(ve=nu(t,r,fe,Ve,L,g,e));else{let Ce;typeof he=="boolean"?Ce=he:V?Ce=!1:Ce=v;let Oe={...k,defaultShouldRevalidate:Ce};Fc(L,Oe)&&(ve=nu(t,r,fe,Ve,L,g,e,Oe))}ve&&He.push({key:ue,routeId:W.routeId,path:W.path,matches:ve,match:L,request:fe,controller:ne})}),{dsMatches:M,revalidatingFetchers:He}}function h_(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function uv(n,e,t){if(n.lazy)return!0;if(!h_(n))return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function gx(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function px(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Fc(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function NS(n,e,t,r,s,o){let u;if(n){let g=r[n];et(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),u=g.children}else u=t;let h=[],f=[];if(e.forEach(g=>{let y=u.find(v=>pC(g,v));y?f.push({existingRoute:y,newRoute:g}):h.push(g)}),h.length>0){let g=ih(h,s,[n||"_","patch",String((u==null?void 0:u.length)||"0")],r);u.push(...g)}if(o&&f.length>0)for(let g=0;g<f.length;g++){let{existingRoute:y,newRoute:v}=f[g],E=y,[A]=ih([v],s,[],{},!0);Object.assign(E,{element:A.element?A.element:E.element,errorElement:A.errorElement?A.errorElement:E.errorElement,hydrateFallbackElement:A.hydrateFallbackElement?A.hydrateFallbackElement:E.hydrateFallbackElement})}}function pC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>pC(t,o))}):!1}var OS=new WeakMap,mC=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(et(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=OS.get(s);u||(u={},OS.set(s,u));let h=u[n];if(h)return h;let f=(async()=>{let g=MP(n),v=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)cn(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(v)cn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},MS=new WeakMap;function mx(n,e,t,r,s){let o=t[n.id];if(et(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=MS.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{et(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),A={};for(let I in E){let N=E[I];if(N===void 0)continue;let O=xP(I),j=o[I]!==void 0&&I!=="hasErrorBoundary";O?cn(!O,"Route property "+I+" is not a supported property to be returned from a lazy route function. This property will be ignored."):j?cn(!j,`Route "${o.id}" has a static property "${I}" defined but its lazy function is also returning a value for this property. The lazy route property "${I}" will be ignored.`):A[I]=N}Object.assign(o,A),Object.assign(o,{...r(o),lazy:void 0})})();return MS.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(n.lazy),h=[],f;for(let y of u){if(s&&s.includes(y))continue;let v=mC({key:y,route:n,manifest:t,mapRouteProperties:r});v&&(h.push(v),y===e&&(f=v))}let g=h.length>0?Promise.all(h).then(()=>{}):void 0;return g==null||g.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:f}}async function PS(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function yx(n){return n.matches.some(e=>e.route.middleware)?yC(n,()=>PS(n)):PS(n)}function yC(n,e){return vx(n,e,r=>{if(Ox(r))throw r;return r},Cx,t);function t(r,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:r}}));{let{matches:u}=n,h=Math.min(Math.max(u.findIndex(g=>g.route.id===s),0),Math.max(u.findIndex(g=>g.shouldCallHandler()),0)),f=pa(u,u[h].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function vx(n,e,t,r,s){let{matches:o,request:u,params:h,context:f,unstable_pattern:g}=n,y=o.flatMap(E=>E.route.middleware?E.route.middleware.map(A=>[E.route.id,A]):[]);return await vC({request:u,params:h,context:f,unstable_pattern:g},y,e,t,r,s)}async function vC(n,e,t,r,s,o,u=0){let{request:h}=n;if(h.signal.aborted)throw h.signal.reason??new Error(`Request aborted: ${h.method} ${h.url}`);let f=e[u];if(!f)return await t();let[g,y]=f,v,E=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await vC(n,e,t,r,s,o,u+1)},v.value}catch(A){return v={value:await o(A,g,v)},v.value}};try{let A=await y(n,E),I=A!=null?r(A):void 0;return s(I)?I:v?I??v.value:(v={value:await E()},v.value)}catch(A){return await o(A,g,v)}}function _C(n,e,t,r,s){let o=mC({key:"middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=mx(r.route,Bn(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function cv(n,e,t,r,s,o,u,h,f=null,g){let y=!1,v=_C(n,e,t,s,o);return{...s,_lazyPromises:v,shouldLoad:h,shouldRevalidateArgs:f,shouldCallHandler(E){return y=!0,f?typeof g=="boolean"?Fc(s,{...f,defaultShouldRevalidate:g}):typeof E=="boolean"?Fc(s,{...f,defaultShouldRevalidate:E}):Fc(s,f):h},resolve(E){let{lazy:A,loader:I,middleware:N}=s.route,O=y||h||E&&!Bn(t.method)&&(A||I),z=N&&N.length>0&&!I&&!A;return O&&(Bn(t.method)||!z)?Ex({request:t,unstable_pattern:r,match:s,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function nu(n,e,t,r,s,o,u,h=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:h,shouldCallHandler:()=>!1,_lazyPromises:_C(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:cv(n,e,t,Sh(r),f,o,u,!0,h))}async function _x(n,e,t,r,s,o){t.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let u={request:e,unstable_pattern:Sh(t),params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,runClientMiddleware:g=>{let y=u;return yC(y,()=>g({...y,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var y,v;return[(y=g._lazyPromises)==null?void 0:y.handler,(v=g._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function Ex({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let h,f,g=Bn(n.method),y=g?"action":"loader",v=E=>{let A,I=new Promise((z,j)=>A=j);f=()=>A(),n.signal.addEventListener("abort",f);let N=z=>typeof E!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):E({request:n,unstable_pattern:e,params:t.params,context:u},...z!==void 0?[z]:[]),O=(async()=>{try{return{type:"data",result:await(o?o(j=>N(j)):N())}}catch(z){return{type:"error",result:z}}})();return Promise.race([O,I])};try{let E=g?t.route.action:t.route.loader;if(r||s)if(E){let A,[I]=await Promise.all([v(E).catch(N=>{A=N}),r,s]);if(A!==void 0)throw A;h=I}else{await r;let A=g?t.route.action:t.route.loader;if(A)[h]=await Promise.all([v(A),s]);else if(y==="action"){let I=new URL(n.url),N=I.pathname+I.search;throw Hr(405,{method:n.method,pathname:N,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(E)h=await v(E);else{let A=new URL(n.url),I=A.pathname+A.search;throw Hr(404,{pathname:I})}}catch(E){return{type:"error",result:E}}finally{f&&n.signal.removeEventListener("abort",f)}return h}async function bx(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function Ax(n){var r,s,o,u,h;let{result:e,type:t}=n;if(f_(e)){let f;try{f=await bx(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Th(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}return t==="error"?zS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:Rx(e),statusCode:sh(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:sh(e)?e.status:void 0}:zS(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Tx(n,e,t,r,s){let o=n.headers.get("Location");if(et(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Gg(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===t)+1);o=lv(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function xS(n,e,t,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Gg(n)){let o=n,u=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(s.includes(u.protocol))throw new Error("Invalid redirect location");let h=Kr(u.pathname,t)!=null;if(u.origin===e.origin&&h)return u.pathname+u.search+u.hash}try{let o=r.createURL(n);if(s.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return n}function ql(n,e,t,r){let s=n.createURL(EC(e)).toString(),o={signal:t};if(r&&Bn(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=hv(r.formData):o.body=r.formData}return new Request(s,o)}function hv(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function kS(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Sx(n,e,t,r=!1,s=!1){let o={},u=null,h,f=!1,g={},y=t&&Cr(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,A=e[E];if(et(!Do(A),"Cannot handle redirect results in processLoaderData"),Cr(A)){let I=A.error;if(y!==void 0&&(I=y,y=void 0),u=u||{},s)u[E]=I;else{let N=pa(n,E);u[N.route.id]==null&&(u[N.route.id]=I)}r||(o[E]=gC),f||(f=!0,h=sh(A.error)?A.error.status:500),A.headers&&(g[E]=A.headers)}else o[E]=A.data,A.statusCode&&A.statusCode!==200&&!f&&(h=A.statusCode),A.headers&&(g[E]=A.headers)}),y!==void 0&&t&&(u={[t[0]]:y},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:g}}function VS(n,e,t,r,s,o){let{loaderData:u,errors:h}=Sx(e,t,r);return s.filter(f=>!f.matches||f.matches.some(g=>g.shouldLoad)).forEach(f=>{let{key:g,match:y,controller:v}=f;if(v&&v.signal.aborted)return;let E=o[g];if(et(E,"Did not find corresponding fetcher result"),Cr(E)){let A=pa(n.matches,y==null?void 0:y.route.id);h&&h[A.route.id]||(h={...h,[A.route.id]:E.error}),n.fetchers.delete(g)}else if(Do(E))et(!1,"Unhandled fetcher revalidation redirect");else{let A=ps(E.data);n.fetchers.set(g,A)}}),{loaderData:u,errors:h}}function LS(n,e,t,r){let s=Object.entries(e).filter(([,o])=>o!==gC).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function US(n){return n?Cr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function pa(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function cd(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Hr(n,{pathname:e,routeId:t,method:r,type:s,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new Th(n||500,u,new Error(h),!0)}function hd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(Do(s))return{key:r,result:s}}}function EC(n){let e=typeof n=="string"?za(n):n;return ji({...e,hash:""})}function wx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Rx(n){var e,t;return new Th(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function Cx(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&Ix(t))}function Ix(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function Dx(n){return f_(n.result)&&fC.has(n.result.status)}function Cr(n){return n.type==="error"}function Do(n){return(n&&n.type)==="redirect"}function zS(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function f_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Nx(n){return fC.has(n)}function Ox(n){return f_(n)&&Nx(n.status)&&n.headers.has("Location")}function Mx(n){return lx.has(n.toUpperCase())}function Bn(n){return ax.has(n.toUpperCase())}function d_(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Id(n,e){let t=typeof e=="string"?za(e).search:e.search;if(n[n.length-1].route.index&&d_(t||""))return n[n.length-1];let r=oC(n);return r[r.length-1]}function BS(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:o,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Ry(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Px(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ps(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function kx(n,e){try{let t=n.sessionStorage.getItem(dC);if(t){let r=JSON.parse(t);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function Vx(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(dC,JSON.stringify(t))}catch(r){cn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function jS(){let n,e,t=new Promise((r,s)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Go=q.createContext(null);Go.displayName="DataRouter";var wh=q.createContext(null);wh.displayName="DataRouterState";var bC=q.createContext(!1);function Lx(){return q.useContext(bC)}var g_=q.createContext({isTransitioning:!1});g_.displayName="ViewTransition";var AC=q.createContext(new Map);AC.displayName="Fetchers";var Ux=q.createContext(null);Ux.displayName="Await";var Xr=q.createContext(null);Xr.displayName="Navigation";var $g=q.createContext(null);$g.displayName="Location";var gi=q.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var p_=q.createContext(null);p_.displayName="RouteError";var TC="REACT_ROUTER_ERROR",zx="REDIRECT",Bx="ROUTE_ERROR_RESPONSE";function jx(n){if(n.startsWith(`${TC}:${zx}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Hx(n){if(n.startsWith(`${TC}:${Bx}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Th(e.status,e.statusText,e.data)}catch{}}function Fx(n,{relative:e}={}){et(Rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=q.useContext(Xr),{hash:s,pathname:o,search:u}=Ch(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:xi([t,o])),r.createHref({pathname:h,search:u,hash:s})}function Rh(){return q.useContext($g)!=null}function $o(){return et(Rh(),"useLocation() may be used only in the context of a <Router> component."),q.useContext($g).location}var SC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wC(n){q.useContext(Xr).static||q.useLayoutEffect(n)}function Su(){let{isDataRoute:n}=q.useContext(gi);return n?sk():qx()}function qx(){et(Rh(),"useNavigate() may be used only in the context of a <Router> component.");let n=q.useContext(Go),{basename:e,navigator:t}=q.useContext(Xr),{matches:r}=q.useContext(gi),{pathname:s}=$o(),o=JSON.stringify(u_(r)),u=q.useRef(!1);return wC(()=>{u.current=!0}),q.useCallback((f,g={})=>{if(cn(u.current,SC),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=c_(f,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xi([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,o,s,n])}var Gx=q.createContext(null);function $x(n){let e=q.useContext(gi).outlet;return q.useMemo(()=>e&&q.createElement(Gx.Provider,{value:n},e),[e,n])}function Yx(){let{matches:n}=q.useContext(gi),e=n[n.length-1];return e?e.params:{}}function Ch(n,{relative:e}={}){let{matches:t}=q.useContext(gi),{pathname:r}=$o(),s=JSON.stringify(u_(t));return q.useMemo(()=>c_(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function Qx(n,e,t,r,s){et(Rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(Xr),{matches:u}=q.useContext(gi),h=u[u.length-1],f=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let j=v&&v.path||"";CC(g,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=$o(),A;A=E;let I=A.pathname||"/",N=I;if(y!=="/"){let j=y.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=ga(n,{pathname:N});return cn(v||O!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),cn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Jx(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:xi([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:xi([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),u,t,r,s)}function Wx(){let n=ik(),e=sh(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:o},"ErrorBoundary")," or"," ",q.createElement("code",{style:o},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:s},t):null,u)}var Kx=q.createElement(Wx,null),RC=class extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Hx(n.digest);t&&(n=t)}let e=n!==void 0?q.createElement(gi.Provider,{value:this.props.routeContext},q.createElement(p_.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?q.createElement(Xx,{error:n},e):e}};RC.contextType=bC;var Cy=new WeakMap;function Xx({children:n,error:e}){let{basename:t}=q.useContext(Xr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=jx(e.digest);if(r){let s=Cy.get(e);if(s)throw s;let o=uC(r.location,t);if(lC&&!Cy.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Cy.set(e,u),u}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function Zx({routeContext:n,match:e,children:t}){let r=q.useContext(Go);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(gi.Provider,{value:n},t)}function Jx(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let y=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,f=-1;if(t)for(let y=0;y<o.length;y++){let v=o[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=y),v.route.id){let{loaderData:E,errors:A}=t,I=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||I){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let g=t&&r?(y,v)=>{var E,A;r(y,{location:t.location,params:((A=(E=t.matches)==null?void 0:E[0])==null?void 0:A.params)??{},unstable_pattern:Sh(t.matches),errorInfo:v})}:void 0;return o.reduceRight((y,v,E)=>{let A,I=!1,N=null,O=null;t&&(A=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||Kx,h&&(f<0&&E===0?(CC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):f===E&&(I=!0,O=v.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),j=()=>{let te;return A?te=N:I?te=O:v.route.Component?te=q.createElement(v.route.Component,null):v.route.element?te=v.route.element:te=y,q.createElement(Zx,{match:v,routeContext:{outlet:y,matches:z,isDataRoute:t!=null},children:te})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?q.createElement(RC,{location:t.location,revalidation:t.revalidation,component:N,error:A,children:j(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):j()},null)}function m_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ek(n){let e=q.useContext(Go);return et(e,m_(n)),e}function tk(n){let e=q.useContext(wh);return et(e,m_(n)),e}function nk(n){let e=q.useContext(gi);return et(e,m_(n)),e}function y_(n){let e=nk(n),t=e.matches[e.matches.length-1];return et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rk(){return y_("useRouteId")}function ik(){var r;let n=q.useContext(p_),e=tk("useRouteError"),t=y_("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sk(){let{router:n}=ek("useNavigate"),e=y_("useNavigate"),t=q.useRef(!1);return wC(()=>{t.current=!0}),q.useCallback(async(s,o={})=>{cn(t.current,SC),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var HS={};function CC(n,e,t){!e&&!HS[n]&&(HS[n]=!0,cn(!1,t))}var FS={};function qS(n,e){!n&&!FS[e]&&(FS[e]=!0,console.warn(e))}var ak="useOptimistic",GS=vP[ak],ok=()=>{};function lk(n){return GS?GS(n):[n,ok]}function uk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&cn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:q.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&cn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:q.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&cn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:q.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ck=["HydrateFallback","hydrateFallbackElement"],hk=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function fk({router:n,flushSync:e,onError:t,unstable_useTransitions:r}){r=Lx()||r;let[o,u]=q.useState(n.state),[h,f]=lk(o),[g,y]=q.useState(),[v,E]=q.useState({isTransitioning:!1}),[A,I]=q.useState(),[N,O]=q.useState(),[z,j]=q.useState(),te=q.useRef(new Map),he=q.useCallback((R,{deletedFetchers:D,newErrors:V,flushSync:k,viewTransitionOpts:B})=>{V&&t&&Object.values(V).forEach(He=>{var ft;return t(He,{location:R.location,params:((ft=R.matches[0])==null?void 0:ft.params)??{},unstable_pattern:Sh(R.matches)})}),R.fetchers.forEach((He,ft)=>{He.data!==void 0&&te.current.set(ft,He.data)}),D.forEach(He=>te.current.delete(He)),qS(k===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let M=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(qS(B==null||M,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!B||!M){e&&k?e(()=>u(R)):r===!1?u(R):q.startTransition(()=>{r===!0&&f(He=>$S(He,R)),u(R)});return}if(e&&k){e(()=>{N&&(A==null||A.resolve(),N.skipTransition()),E({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let He=n.window.document.startViewTransition(()=>{e(()=>u(R))});He.finished.finally(()=>{e(()=>{I(void 0),O(void 0),y(void 0),E({isTransitioning:!1})})}),e(()=>O(He));return}N?(A==null||A.resolve(),N.skipTransition(),j({state:R,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(y(R),E({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,e,N,A,r,f,t]);q.useLayoutEffect(()=>n.subscribe(he),[n,he]),q.useEffect(()=>{v.isTransitioning&&!v.flushSync&&I(new hk)},[v]),q.useEffect(()=>{if(A&&g&&n.window){let R=g,D=A.promise,V=n.window.document.startViewTransition(async()=>{r===!1?u(R):q.startTransition(()=>{r===!0&&f(k=>$S(k,R)),u(R)}),await D});V.finished.finally(()=>{I(void 0),O(void 0),y(void 0),E({isTransitioning:!1})}),O(V)}},[g,A,n.window,r,f]),q.useEffect(()=>{A&&g&&h.location.key===g.location.key&&A.resolve()},[A,N,h.location,g]),q.useEffect(()=>{!v.isTransitioning&&z&&(y(z.state),E({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}),j(void 0))},[v.isTransitioning,z]);let Ee=q.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,D,V)=>n.navigate(R,{state:D,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(R,D,V)=>n.navigate(R,{replace:!0,state:D,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[n]),_e=n.basename||"/",S=q.useMemo(()=>({router:n,navigator:Ee,static:!1,basename:_e,onError:t}),[n,Ee,_e,t]);return q.createElement(q.Fragment,null,q.createElement(Go.Provider,{value:S},q.createElement(wh.Provider,{value:h},q.createElement(AC.Provider,{value:te.current},q.createElement(g_.Provider,{value:v},q.createElement(mk,{basename:_e,location:h.location,navigationType:h.historyAction,navigator:Ee,unstable_useTransitions:r},q.createElement(dk,{routes:n.routes,future:n.future,state:h,onError:t})))))),null)}function $S(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var dk=q.memo(gk);function gk({routes:n,future:e,state:t,onError:r}){return Qx(n,void 0,t,r,e)}function pk(n){return $x(n.context)}function mk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){et(!Rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof t=="string"&&(t=za(t));let{pathname:g="/",search:y="",hash:v="",state:E=null,key:A="default"}=t,I=q.useMemo(()=>{let N=Kr(g,h);return N==null?null:{location:{pathname:N,search:y,hash:v,state:E,key:A},navigationType:r}},[h,g,y,v,E,A,r]);return cn(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:q.createElement(Xr.Provider,{value:f},q.createElement($g.Provider,{children:e,value:I}))}var Dd="get",Nd="application/x-www-form-urlencoded";function Yg(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function yk(n){return Yg(n)&&n.tagName.toLowerCase()==="button"}function vk(n){return Yg(n)&&n.tagName.toLowerCase()==="form"}function _k(n){return Yg(n)&&n.tagName.toLowerCase()==="input"}function Ek(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bk(n,e){return n.button===0&&(!e||e==="_self")&&!Ek(n)}var fd=null;function Ak(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var Tk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iy(n){return n!=null&&!Tk.has(n)?(cn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nd}"`),null):n}function Sk(n,e){let t,r,s,o,u;if(vk(n)){let h=n.getAttribute("action");r=h?Kr(h,e):null,t=n.getAttribute("method")||Dd,s=Iy(n.getAttribute("enctype"))||Nd,o=new FormData(n)}else if(yk(n)||_k(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Kr(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Dd,s=Iy(n.getAttribute("formenctype"))||Iy(h.getAttribute("enctype"))||Nd,o=new FormData(h,n),!Ak()){let{name:g,type:y,value:v}=n;if(y==="image"){let E=g?`${g}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else g&&o.append(g,v)}}else{if(Yg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dd,r=null,s=Nd,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wk(n,e,t,r){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Rk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ck(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ik(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await Rk(o,t);return u.links?u.links():[]}return[]}));return Mk(r.flat(1).filter(Ck).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function YS(n,e,t,r,s,o){let u=(f,g)=>t[g]?f.route.id!==t[g].route.id:!0,h=(f,g)=>{var y;return t[g].pathname!==f.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,g)=>u(f,g)||h(f,g)):o==="data"?e.filter((f,g)=>{var v;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Dk(n,e,{includeHydrateFallback:t}={}){return Nk(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Nk(n){return[...new Set(n)]}function Ok(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Mk(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(Ok(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function IC(){let n=q.useContext(Go);return v_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Pk(){let n=q.useContext(wh);return v_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var __=q.createContext(void 0);__.displayName="FrameworkContext";function DC(){let n=q.useContext(__);return v_(n,"You must render this element inside a <HydratedRouter> element"),n}function xk(n,e){let t=q.useContext(__),[r,s]=q.useState(!1),[o,u]=q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=e,E=q.useRef(null);q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let N=z=>{z.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(N,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[n]),q.useEffect(()=>{if(r){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[r]);let A=()=>{s(!0)},I=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,E,{}]:[o,E,{onFocus:Nc(h,A),onBlur:Nc(f,I),onMouseEnter:Nc(g,A),onMouseLeave:Nc(y,I),onTouchStart:Nc(v,A)}]:[!1,E,{}]}function Nc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kk({page:n,...e}){let{router:t}=IC(),r=q.useMemo(()=>ga(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?q.createElement(Lk,{page:n,matches:r,...e}):null}function Vk(n){let{manifest:e,routeModules:t}=DC(),[r,s]=q.useState([]);return q.useEffect(()=>{let o=!1;return Ik(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function Lk({page:n,matches:e,...t}){let r=$o(),{future:s,manifest:o,routeModules:u}=DC(),{basename:h}=IC(),{loaderData:f,matches:g}=Pk(),y=q.useMemo(()=>YS(n,e,g,o,r,"data"),[n,e,g,o,r]),v=q.useMemo(()=>YS(n,e,g,o,r,"assets"),[n,e,g,o,r]),E=q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,O=!1;if(e.forEach(j=>{var he;let te=o.routes[j.route.id];!te||!te.hasLoader||(!y.some(Ee=>Ee.route.id===j.route.id)&&j.route.id in f&&((he=u[j.route.id])!=null&&he.shouldRevalidate)||te.hasClientLoader?O=!0:N.add(j.route.id))}),N.size===0)return[];let z=wk(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return O&&N.size>0&&z.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[z.pathname+z.search]},[h,s.unstable_trailingSlashAwareDataRequests,f,r,o,y,e,n,u]),A=q.useMemo(()=>Dk(v,o),[v,o]),I=Vk(v);return q.createElement(q.Fragment,null,E.map(N=>q.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),A.map(N=>q.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),I.map(({key:N,link:O})=>q.createElement("link",{key:N,nonce:t.nonce,...O})))}function Uk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zk&&(window.__reactRouterVersion="7.12.0")}catch{}function Bk(n,e){return fx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:IP({window:e==null?void 0:e.window}),hydrationData:jk(),routes:n,mapRouteProperties:uk,hydrationRouteProperties:ck,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function jk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Hk(n.errors)}),n}function Hk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Th(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(s.message);o.stack="",t[r]=o}}else t[r]=s;return t}var NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ah=q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},I){let{basename:N,unstable_useTransitions:O}=q.useContext(Xr),z=typeof g=="string"&&NC.test(g),j=uC(g,N);g=j.to;let te=Fx(g,{relative:s}),[he,Ee,_e]=xk(r,A),S=$k(g,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:E,unstable_useTransitions:O});function R(V){e&&e(V),V.defaultPrevented||S(V)}let D=q.createElement("a",{...A,..._e,href:j.absoluteURL||te,onClick:j.isExternal||o?e:R,ref:Uk(I,Ee),target:f,"data-discover":!z&&t==="render"?"true":void 0});return he&&!z?q.createElement(q.Fragment,null,D,q.createElement(kk,{page:te})):D});ah.displayName="Link";var Fk=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...g},y){let v=Ch(u,{relative:g.relative}),E=$o(),A=q.useContext(wh),{navigator:I,basename:N}=q.useContext(Xr),O=A!=null&&Xk(v)&&h===!0,z=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,j=E.pathname,te=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(j=j.toLowerCase(),te=te?te.toLowerCase():null,z=z.toLowerCase()),te&&N&&(te=Kr(te,N)||te);const he=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Ee=j===z||!s&&j.startsWith(z)&&j.charAt(he)==="/",_e=te!=null&&(te===z||!s&&te.startsWith(z)&&te.charAt(z.length)==="/"),S={isActive:Ee,isPending:_e,isTransitioning:O},R=Ee?e:void 0,D;typeof r=="function"?D=r(S):D=[r,Ee?"active":null,_e?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(S):o;return q.createElement(ah,{...g,"aria-current":R,className:D,ref:y,style:V,to:u,viewTransition:h},typeof f=="function"?f(S):f)});Fk.displayName="NavLink";var qk=q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Dd,action:h,onSubmit:f,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E,...A},I)=>{let{unstable_useTransitions:N}=q.useContext(Xr),O=Wk(),z=Kk(h,{relative:g}),j=u.toLowerCase()==="get"?"get":"post",te=typeof h=="string"&&NC.test(h),he=Ee=>{if(f&&f(Ee),Ee.defaultPrevented)return;Ee.preventDefault();let _e=Ee.nativeEvent.submitter,S=(_e==null?void 0:_e.getAttribute("formmethod"))||u,R=()=>O(_e||Ee.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:s,state:o,relative:g,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:E});N&&t!==!1?q.startTransition(()=>R()):R()};return q.createElement("form",{ref:I,method:j,action:z,onSubmit:r?f:he,...A,"data-discover":!te&&n==="render"?"true":void 0})});qk.displayName="Form";function Gk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OC(n){let e=q.useContext(Go);return et(e,Gk(n)),e}function $k(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:f}={}){let g=Su(),y=$o(),v=Ch(n,{relative:o});return q.useCallback(E=>{if(bk(E,e)){E.preventDefault();let A=t!==void 0?t:ji(y)===ji(v),I=()=>g(n,{replace:A,state:r,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:h});f?q.startTransition(()=>I()):I()}},[y,g,v,t,r,e,n,s,o,u,h,f])}var Yk=0,Qk=()=>`__${String(++Yk)}__`;function Wk(){let{router:n}=OC("useSubmit"),{basename:e}=q.useContext(Xr),t=rk(),r=n.fetch,s=n.navigate;return q.useCallback(async(o,u={})=>{let{action:h,method:f,encType:g,formData:y,body:v}=Sk(o,e);if(u.navigate===!1){let E=u.fetcherKey||Qk();await r(E,t,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||f,formEncType:u.encType||g,flushSync:u.flushSync})}else await s(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||f,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function Kk(n,{relative:e}={}){let{basename:t}=q.useContext(Xr),r=q.useContext(gi);et(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Ch(n||".",{relative:e})},u=$o();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:xi([t,o.pathname])),ji(o)}function Xk(n,{relative:e}={}){let t=q.useContext(g_);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OC("useViewTransitionState"),s=Ch(n,{relative:e});if(!t.isTransitioning)return!1;let o=Kr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Kr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Zd(s.pathname,u)!=null||Zd(s.pathname,o)!=null}var Jd=tC();function Zk(n){return q.createElement(fk,{flushSync:Jd.flushSync,...n})}const Jk=()=>{};var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},eV=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,g=f?n[s+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|g>>6,A=g&63;f||(A=64,u||(E=64)),r.push(t[y],t[v],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(MC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||g==null||v==null)throw new tV;const E=o<<2|h>>4;if(r.push(E),g!==64){const A=h<<4&240|g>>2;if(r.push(A),v!==64){const I=g<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nV=function(n){const e=MC(n);return PC.encodeByteArray(e,!0)},eg=function(n){return nV(n).replace(/\./g,"")},E_=function(n){try{return PC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=()=>rV().__FIREBASE_DEFAULTS__,sV=()=>{if(typeof process>"u"||typeof QS>"u")return;const n=QS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&E_(n[1]);return e&&JSON.parse(e)},Qg=()=>{try{return Jk()||iV()||sV()||aV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xC=n=>{var e,t;return(t=(e=Qg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},oV=n=>{const e=xC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kC=()=>{var n;return(n=Qg())==null?void 0:n.config},VC=n=>{var e;return(e=Qg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[eg(JSON.stringify(t)),eg(JSON.stringify(u)),""].join(".")}const qc={};function cV(){const n={prod:[],emulator:[]};for(const e of Object.keys(qc))qc[e]?n.emulator.push(e):n.prod.push(e);return n}function hV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let WS=!1;function UC(n,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||qc[n]===e||qc[n]||WS)return;qc[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=cV().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{WS=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=hV(r),A=t("text"),I=document.getElementById(A)||document.createElement("span"),N=t("learnmore"),O=document.getElementById(N)||document.createElement("a"),z=t("preprendIcon"),j=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;h(te),y(O,N);const he=g();f(j,z),te.append(j,I,O,he),document.body.appendChild(te)}o?(I.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function fV(){var e;const n=(e=Qg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dV(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function gV(){return!fV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pV(){try{return typeof indexedDB=="object"}catch{return!1}}function mV(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="FirebaseError";class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yV,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ja.prototype.create)}}class ja{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?vV(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Zr(s,h,r)}}function vV(n,e){return n.replace(_V,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _V=/\{\$([^}]+)}/g;function EV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(KS(o)&&KS(u)){if(!Lo(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function KS(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function FC(n,e){const t=new bV(n,e);return t.subscribe.bind(t)}class bV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AV(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Dy),s.error===void 0&&(s.error=Dy),s.complete===void 0&&(s.complete=Dy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Hi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lV;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wV(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SV(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SV(n){return n===To?void 0:n}function wV(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const CV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},IV=Ke.INFO,DV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},NV=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=DV[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=IV,this._logHandler=NV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const OV=(n,e)=>e.some(t=>n instanceof t);let XS,ZS;function MV(){return XS||(XS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PV(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qC=new WeakMap,fv=new WeakMap,GC=new WeakMap,Ny=new WeakMap,b_=new WeakMap;function xV(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(wa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&qC.set(t,n)}).catch(()=>{}),b_.set(e,n),e}function kV(n){if(fv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});fv.set(n,e)}let dv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function VV(n){dv=n(dv)}function LV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Oy(this),e,...t);return GC.set(r,e.sort?e.sort():[e]),wa(r)}:PV().includes(n)?function(...e){return n.apply(Oy(this),e),wa(qC.get(this))}:function(...e){return wa(n.apply(Oy(this),e))}}function UV(n){return typeof n=="function"?LV(n):(n instanceof IDBTransaction&&kV(n),OV(n,MV())?new Proxy(n,dv):n)}function wa(n){if(n instanceof IDBRequest)return xV(n);if(Ny.has(n))return Ny.get(n);const e=UV(n);return e!==n&&(Ny.set(n,e),b_.set(e,n)),e}const Oy=n=>b_.get(n);function zV(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=wa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(wa(u.result),f.oldVersion,f.newVersion,wa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const BV=["get","getKey","getAll","getAllKeys","count"],jV=["put","add","delete","clear"],My=new Map;function JS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(My.get(e))return My.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=jV.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||BV.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),s&&f.done]))[0]};return My.set(e,o),o}VV(n=>({...n,get:(e,t,r)=>JS(e,t)||n.get(e,t,r),has:(e,t)=>!!JS(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(FV(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function FV(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gv="@firebase/app",ew="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Ih("@firebase/app"),qV="@firebase/app-compat",GV="@firebase/analytics-compat",$V="@firebase/analytics",YV="@firebase/app-check-compat",QV="@firebase/app-check",WV="@firebase/auth",KV="@firebase/auth-compat",XV="@firebase/database",ZV="@firebase/data-connect",JV="@firebase/database-compat",eL="@firebase/functions",tL="@firebase/functions-compat",nL="@firebase/installations",rL="@firebase/installations-compat",iL="@firebase/messaging",sL="@firebase/messaging-compat",aL="@firebase/performance",oL="@firebase/performance-compat",lL="@firebase/remote-config",uL="@firebase/remote-config-compat",cL="@firebase/storage",hL="@firebase/storage-compat",fL="@firebase/firestore",dL="@firebase/ai",gL="@firebase/firestore-compat",pL="firebase",mL="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",yL={[gv]:"fire-core",[qV]:"fire-core-compat",[$V]:"fire-analytics",[GV]:"fire-analytics-compat",[QV]:"fire-app-check",[YV]:"fire-app-check-compat",[WV]:"fire-auth",[KV]:"fire-auth-compat",[XV]:"fire-rtdb",[ZV]:"fire-data-connect",[JV]:"fire-rtdb-compat",[eL]:"fire-fn",[tL]:"fire-fn-compat",[nL]:"fire-iid",[rL]:"fire-iid-compat",[iL]:"fire-fcm",[sL]:"fire-fcm-compat",[aL]:"fire-perf",[oL]:"fire-perf-compat",[lL]:"fire-rc",[uL]:"fire-rc-compat",[cL]:"fire-gcs",[hL]:"fire-gcs-compat",[fL]:"fire-fst",[gL]:"fire-fst-compat",[dL]:"fire-vertex","fire-js":"fire-js",[pL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map,vL=new Map,mv=new Map;function tw(n,e){try{n.container.addComponent(e)}catch(t){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function As(n){const e=n.name;if(mv.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;mv.set(e,n);for(const t of tg.values())tw(t,n);for(const t of vL.values())tw(t,n);return!0}function A_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function En(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new ja("app","Firebase",_L);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=mL;function $C(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:pv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ra.create("bad-app-name",{appName:String(s)});if(t||(t=kC()),!t)throw Ra.create("no-options");const o=tg.get(s);if(o){if(Lo(t,o.options)&&Lo(r,o.config))return o;throw Ra.create("duplicate-app",{appName:s})}const u=new RV(s);for(const f of mv.values())u.addComponent(f);const h=new EL(t,r,u);return tg.set(s,h),h}function YC(n=pv){const e=tg.get(n);if(!e&&n===pv&&kC())return $C();if(!e)throw Ra.create("no-app",{appName:n});return e}function Qr(n,e,t){let r=yL[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(u.join(" "));return}As(new Hi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firebase-heartbeat-database",AL=1,oh="firebase-heartbeat-store";let Py=null;function QC(){return Py||(Py=zV(bL,AL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ra.create("idb-open",{originalErrorMessage:n.message})})),Py}async function TL(n){try{const t=(await QC()).transaction(oh),r=await t.objectStore(oh).get(WC(n));return await t.done,r}catch(e){if(e instanceof Zr)bs.warn(e.message);else{const t=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(t.message)}}}async function nw(n,e){try{const r=(await QC()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,WC(n)),await r.done}catch(t){if(t instanceof Zr)bs.warn(t.message);else{const r=Ra.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bs.warn(r.message)}}}function WC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=1024,wL=30;class RL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>wL){const u=DL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rw(),{heartbeatsToSend:r,unsentEntries:s}=CL(this._heartbeatsCache.heartbeats),o=eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return bs.warn(t),""}}}function rw(){return new Date().toISOString().substring(0,10)}function CL(n,e=SL){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),iw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),iw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pV()?mV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iw(n){return eg(JSON.stringify({version:2,heartbeats:n})).length}function DL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(n){As(new Hi("platform-logger",e=>new HV(e),"PRIVATE")),As(new Hi("heartbeat",e=>new RL(e),"PRIVATE")),Qr(gv,ew,n),Qr(gv,ew,"esm2020"),Qr("fire-js","")}NL("");var OL="firebase",ML="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(OL,ML,"app");function KC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PL=KC,XC=new ja("auth","Firebase",KC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=new Ih("@firebase/auth");function xL(n,...e){ng.logLevel<=Ke.WARN&&ng.warn(`Auth (${Gi}): ${n}`,...e)}function Od(n,...e){ng.logLevel<=Ke.ERROR&&ng.error(`Auth (${Gi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n,...e){throw T_(n,...e)}function ki(n,...e){return T_(n,...e)}function ZC(n,e,t){const r={...PL(),[e]:t};return new ja("auth","Firebase",r).create(e,{appName:n.name})}function vs(n){return ZC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T_(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XC.create(n,...e)}function Ue(n,e,...t){if(!n)throw T_(e,...t)}function ms(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Od(e),new Error(e)}function Ts(n,e){n||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function kL(){return sw()==="http:"||sw()==="https:"}function sw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kL()||jC()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ts(t>e,"Short delay should be less than long delay!"),this.isMobile=zC()||HC()}get(){return VL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n,e){Ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JC=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BL=new Dh(3e4,6e4);function Ha(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fa(n,e,t,r,s={}){return eI(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Yo({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:f,...o};return BC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(g.credentials="include"),JC.fetch()(await tI(n,n.config.apiHost,t,h),g)})}async function eI(n,e,t){n._canInitEmulator=!1;const r={...UL,...e};try{const s=new HL(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw dd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw dd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw dd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw dd(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZC(n,y,g);fi(n,y)}}catch(s){if(s instanceof Zr)throw s;fi(n,"network-request-failed",{message:String(s)})}}async function Nh(n,e,t,r,s={}){const o=await Fa(n,e,t,r,s);return"mfaPendingCredential"in o&&fi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function tI(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?S_(n.config,s):`${n.config.apiScheme}://${s}`;return zL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function jL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let HL=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ki(this.auth,"network-request-failed")),BL.get())})}};function dd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ki(n,e,r);return s.customData._tokenResponse=t,s}function aw(n){return n!==void 0&&n.enterprise!==void 0}class FL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qL(n,e){return Fa(n,"GET","/v2/recaptchaConfig",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e){return Fa(n,"POST","/v1/accounts:delete",e)}async function rg(n,e){return Fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $L(n,e=!1){const t=Xt(n),r=await t.getIdToken(e),s=w_(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Gc(xy(s.auth_time)),issuedAtTime:Gc(xy(s.iat)),expirationTime:Gc(xy(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function xy(n){return Number(n)*1e3}function w_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const s=E_(t);return s?JSON.parse(s):(Od("Failed to decode base64 JWT payload"),null)}catch(s){return Od("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ow(n){const e=w_(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&YL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function YL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QL=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(n){var v;const e=n.auth,t=await n.getIdToken(),r=await lh(n,rg(e,{idToken:t}));Ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(v=s.providerUserInfo)!=null&&v.length?nI(s.providerUserInfo):[],u=KL(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new vv(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function WL(n){const e=Xt(n);await ig(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(n,e){const t=await eI(n,{},async()=>{const r=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await tI(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(f.credentials="include"),JC.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZL(n,e){return Fa(n,"POST","/v2/accounts:revokeToken",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky=class _v{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=ow(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await XL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new _v;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _v,this.toJSON())}_performRefresh(){return ms("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let Jl=class Vc{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new QL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await lh(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $L(this,e)}reload(){return WL(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ig(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await lh(this,GL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:I,stsTokenManager:N}=t;Ue(v&&N,e,"internal-error");const O=ky.fromJSON(this.name,N);Ue(typeof v=="string",e,"internal-error"),ha(r,e.name),ha(s,e.name),Ue(typeof E=="boolean",e,"internal-error"),Ue(typeof A=="boolean",e,"internal-error"),ha(o,e.name),ha(u,e.name),ha(h,e.name),ha(f,e.name),ha(g,e.name),ha(y,e.name);const z=new Vc({uid:v,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:O,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(z.providerData=I.map(j=>({...j}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,t,r=!1){const s=new ky;s.updateFromServerResponse(t);const o=new Vc({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ig(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?nI(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new ky;h.updateFromIdToken(r);const f=new Vc({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map;function ys(n){Ts(n instanceof Function,"Expected a class definition");let e=lw.get(n);return e?(Ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rI=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};rI.type="NONE";const uw=rI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n,e,t){return`firebase:${n}:${e}:${t}`}let cw=class Pd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Md(this.userKey,s.apiKey,o),this.fullPersistenceKey=Md("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rg(this.auth,{idToken:e}).catch(()=>{});return t?Jl._fromGetAccountInfoResponse(this.auth,t,e):null}return Jl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Pd(ys(uw),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||ys(uw);const u=Md(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const E=await rg(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Jl._fromGetAccountInfoResponse(e,E,y)}else v=Jl._fromJSON(e,y);g!==o&&(h=v),o=g;break}}catch{}const f=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Pd(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new Pd(o,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uI(e))return"Blackberry";if(cI(e))return"Webos";if(sI(e))return"Safari";if((e.includes("chrome/")||aI(e))&&!e.includes("edge/"))return"Chrome";if(lI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iI(n=Bt()){return/firefox\//i.test(n)}function sI(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aI(n=Bt()){return/crios\//i.test(n)}function oI(n=Bt()){return/iemobile/i.test(n)}function lI(n=Bt()){return/android/i.test(n)}function uI(n=Bt()){return/blackberry/i.test(n)}function cI(n=Bt()){return/webos/i.test(n)}function R_(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JL(n=Bt()){var e;return R_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function e2(){return dV()&&document.documentMode===10}function hI(n=Bt()){return R_(n)||lI(n)||cI(n)||uI(n)||/windows phone/i.test(n)||oI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e=[]){let t;switch(n){case"Browser":t=hw(Bt());break;case"Worker":t=`${hw(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t2=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e={}){return Fa(n,"GET","/v2/passwordPolicy",Ha(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=6;let i2=class{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??r2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s2=class{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new t2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ys(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await cw.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rg(this,{idToken:e}),r=await Jl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ig(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(vs(this));const t=e?Xt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n2(this),t=new i2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ja("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ys(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await cw.create(this,[ys(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&xL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}};function Qo(n){return Xt(n)}let fw=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FC(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a2(n){Wg=n}function dI(n){return Wg.loadJS(n)}function o2(){return Wg.recaptchaEnterpriseScript}function l2(){return Wg.gapiScript}function u2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class c2{constructor(){this.enterprise=new h2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class h2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const f2="recaptcha-enterprise",gI="NO_RECAPTCHA";class d2{constructor(e){this.type=f2,this.auth=Qo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{qL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new FL(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,u(g.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;aw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(g=>{u(g)}).catch(()=>{u(gI)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c2().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&aw(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=o2();f.length!==0&&(f+=h),dI(f).then(()=>{s(h,o,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function dw(n,e,t,r=!1,s=!1){const o=new d2(n);let u;if(s)u=gI;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ev(n,e,t,r,s){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await dw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await dw(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,e){const t=A_(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Lo(o,e??{}))return s;fi(s,"already-initialized")}return t.initialize({options:e})}function p2(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ys);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function m2(n,e,t){const r=Qo(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=pI(e),{host:u,port:h}=y2(e),f=h===null?"":`:${h}`,g={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Lo(g,r.config.emulator)&&Lo(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ba(u)?(LC(`${o}//${u}${f}`),UC("Auth",!0)):v2()}function pI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function y2(n){const e=pI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:gw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:gw(u)}}}function gw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function v2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,t){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function _2(n,e){return Fa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(n,e){return Nh(n,"POST","/v1/accounts:signInWithPassword",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,e){return Nh(n,"POST","/v1/accounts:signInWithEmailLink",Ha(n,e))}async function A2(n,e){return Nh(n,"POST","/v1/accounts:signInWithEmailLink",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends C_{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new uh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,t,"signInWithPassword",E2);case"emailLink":return b2(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,r,"signUpPassword",_2);case"emailLink":return A2(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(n,e){return Nh(n,"POST","/v1/accounts:signInWithIdp",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="http://localhost";class Uo extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Uo(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ru(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ru(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ru(e,t)}buildRequest(){const e={requestUri:T2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function w2(n){const e=xc(kc(n)).link,t=e?xc(kc(e)).deep_link_id:null,r=xc(kc(n)).deep_link_id;return(r?xc(kc(r)).link:null)||r||t||e||n}class I_{constructor(e){const t=xc(kc(e)),r=t.apiKey??null,s=t.oobCode??null,o=S2(t.mode??null);Ue(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=w2(e);try{return new I_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.providerId=wu.PROVIDER_ID}static credential(e,t){return uh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=I_.parseLink(t);return Ue(r,"argument-error"),uh._fromEmailAndCode(e,r.code,r.tenantId)}}wu.PROVIDER_ID="password";wu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends mI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Oh{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Oh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ya.credential(t,r)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Oh{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Oh{constructor(){super("twitter.com")}static credential(e,t){return Uo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _a.credential(t,r)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(n,e){return Nh(n,"POST","/v1/accounts:signUp",Ha(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Jl._fromIdTokenResponse(e,r,s),u=pw(r);return new zo({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=pw(r);return new zo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function pw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Zr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new sg(e,t,r,s)}}function yI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(n,o,e,r):o})}async function C2(n,e,t=!1){const r=await lh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e,t=!1){const{auth:r}=n;if(En(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const o=await lh(n,yI(r,s,e,n),t);Ue(o.idToken,r,"internal-error");const u=w_(o.idToken);Ue(u,r,"internal-error");const{sub:h}=u;return Ue(n.uid===h,r,"user-mismatch"),zo._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(n,e,t=!1){if(En(n.app))return Promise.reject(vs(n));const r="signIn",s=await yI(n,r,e),o=await zo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function D2(n,e){return vI(Qo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(n){const e=Qo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N2(n,e,t){if(En(n.app))return Promise.reject(vs(n));const r=Qo(n),u=await Ev(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_I(n),f}),h=await zo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function O2(n,e,t){return En(n.app)?Promise.reject(vs(n)):D2(Xt(n),wu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_I(n),r})}function M2(n,e,t,r){return Xt(n).onIdTokenChanged(e,t,r)}function P2(n,e,t){return Xt(n).beforeAuthStateChanged(e,t)}function bv(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}const ag="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ag,"1"),this.storage.removeItem(ag),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1e3,k2=10;class bI extends EI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);e2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,k2):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bI.type="LOCAL";const V2=bI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI extends EI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AI.type="SESSION";const TI=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Kg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async g=>g(t.origin,o)),f=await L2(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const g=D_("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function z2(n){Vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function B2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function H2(){return SI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firebaseLocalStorageDb",F2=1,og="firebaseLocalStorage",RI="fbase_key";class Mh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xg(n,e){return n.transaction([og],e?"readwrite":"readonly").objectStore(og)}function q2(){const n=indexedDB.deleteDatabase(wI);return new Mh(n).toPromise()}function Av(){const n=indexedDB.open(wI,F2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(og,{keyPath:RI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(og)?e(r):(r.close(),await q2(),e(await Av()))})})}async function mw(n,e,t){const r=Xg(n,!0).put({[RI]:e,value:t});return new Mh(r).toPromise()}async function G2(n,e){const t=Xg(n,!1).get(e),r=await new Mh(t).toPromise();return r===void 0?null:r.value}function yw(n,e){const t=Xg(n,!0).delete(e);return new Mh(t).toPromise()}const $2=800,Y2=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Av(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kg._getInstance(H2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Av();return await mw(e,ag,"1"),await yw(e,ag),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>G2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Xg(s,!1).getAll();return new Mh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const Q2=CI;new Dh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e){return e?ys(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ru(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ru(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K2(n){return vI(n.auth,new N_(n),n.bypassAuthState)}function X2(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),I2(t,new N_(n),n.bypassAuthState)}async function Z2(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),C2(t,new N_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K2;case"linkViaPopup":case"linkViaRedirect":return Z2;case"reauthViaPopup":case"reauthViaRedirect":return X2;default:fi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Dh(2e3,1e4);class eu extends II{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,eu.currentPopupAction&&eu.currentPopupAction.cancel(),eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J2.get())};e()}}eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="pendingRedirect",xd=new Map;class tU extends II{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await nU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nU(n,e){const t=sU(e),r=iU(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function rU(n,e){xd.set(n._key(),e)}function iU(n){return ys(n._redirectPersistence)}function sU(n){return Md(eU,n.config.apiKey,n.name)}async function aU(n,e,t=!1){if(En(n.app))return Promise.reject(vs(n));const r=Qo(n),s=W2(r,e),u=await new tU(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=600*1e3;class lU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ki(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oU&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU(n,e={}){return Fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fU=/^https?/;async function dU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cU(n);for(const t of e)try{if(gU(t))return}catch{}fi(n,"unauthorized-domain")}function gU(n){const e=yv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!fU.test(t))return!1;if(hU.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new Dh(3e4,6e4);function _w(){const n=Vi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mU(n){return new Promise((e,t)=>{var s,o,u;function r(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),t(ki(n,"network-request-failed"))},timeout:pU.get()})}if((o=(s=Vi().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=Vi().gapi)!=null&&u.load)r();else{const h=u2("iframefcb");return Vi()[h]=()=>{gapi.load?r():t(ki(n,"network-request-failed"))},dI(`${l2()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw kd=null,e})}let kd=null;function yU(n){return kd=kd||mU(n),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Dh(5e3,15e3),_U="__/auth/iframe",EU="emulator/auth/iframe",bU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TU(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?S_(e,EU):`https://${n.config.authDomain}/${_U}`,r={apiKey:e.apiKey,appName:n.name,v:Gi},s=AU.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Yo(r).slice(1)}`}async function SU(n){const e=await yU(n),t=Vi().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:TU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bU,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=ki(n,"network-request-failed"),h=Vi().setTimeout(()=>{o(u)},vU.get());function f(){Vi().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RU=500,CU=600,IU="_blank",DU="http://localhost";class Ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NU(n,e,t,r=RU,s=CU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...wU,width:r.toString(),height:s.toString(),top:o,left:u},g=Bt().toLowerCase();t&&(h=aI(g)?IU:t),iI(g)&&(e=e||DU,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[A,I])=>`${E}${A}=${I},`,"");if(JL(g)&&h!=="_self")return OU(e||"",h),new Ew(null);const v=window.open(e||"",h,y);Ue(v,n,"popup-blocked");try{v.focus()}catch{}return new Ew(v)}function OU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="__/auth/handler",PU="emulator/auth/handler",xU=encodeURIComponent("fac");async function bw(n,e,t,r,s,o){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gi,eventId:s};if(e instanceof mI){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",EV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Oh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${xU}=${encodeURIComponent(f)}`:"";return`${kU(n)}?${Yo(h).slice(1)}${g}`}function kU({config:n}){return n.emulator?S_(n,PU):`https://${n.authDomain}/${MU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class VU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=aU,this._overrideRedirectResult=rU}async _openPopup(e,t,r,s){var u;Ts((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await bw(e,t,r,yv(),s);return NU(e,o,D_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await bw(e,t,r,yv(),s);return z2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ts(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await SU(e),r=new lU(e);return t.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vy,{type:Vy},s=>{var u;const o=(u=s==null?void 0:s[0])==null?void 0:u[Vy];o!==void 0&&t(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hI()||sI()||R_()}}const LU=VU;var Aw="@firebase/auth",Tw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UU=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BU(n){As(new Hi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fI(n)},g=new s2(r,s,o,f);return p2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),As(new Hi("auth-internal",e=>{const t=Qo(e.getProvider("auth").getImmediate());return(r=>new UU(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Aw,Tw,zU(n)),Qr(Aw,Tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=300,HU=VC("authIdTokenMaxAge")||jU;let Sw=null;const FU=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>HU)return;const s=t==null?void 0:t.token;Sw!==s&&(Sw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function NI(n=YC()){const e=A_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=g2(n,{popupRedirectResolver:LU,persistence:[Q2,V2,TI]}),r=VC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=FU(o.toString());P2(t,u,()=>u(t.currentUser)),M2(t,h=>u(h))}}const s=xC("auth");return s&&m2(t,`http://${s}`),t}function qU(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}a2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=ki("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",qU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BU("Browser");var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,OI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,R){function D(){}D.prototype=R.prototype,S.F=R.prototype,S.prototype=new D,S.prototype.constructor=S,S.D=function(V,k,B){for(var M=Array(arguments.length-2),He=2;He<arguments.length;He++)M[He-2]=arguments[He];return R.prototype[k].apply(V,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,R,D){D||(D=0);const V=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)V[k]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(k=0;k<16;++k)V[k]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=S.g[0],D=S.g[1],k=S.g[2];let B=S.g[3],M;M=R+(B^D&(k^B))+V[0]+3614090360&4294967295,R=D+(M<<7&4294967295|M>>>25),M=B+(k^R&(D^k))+V[1]+3905402710&4294967295,B=R+(M<<12&4294967295|M>>>20),M=k+(D^B&(R^D))+V[2]+606105819&4294967295,k=B+(M<<17&4294967295|M>>>15),M=D+(R^k&(B^R))+V[3]+3250441966&4294967295,D=k+(M<<22&4294967295|M>>>10),M=R+(B^D&(k^B))+V[4]+4118548399&4294967295,R=D+(M<<7&4294967295|M>>>25),M=B+(k^R&(D^k))+V[5]+1200080426&4294967295,B=R+(M<<12&4294967295|M>>>20),M=k+(D^B&(R^D))+V[6]+2821735955&4294967295,k=B+(M<<17&4294967295|M>>>15),M=D+(R^k&(B^R))+V[7]+4249261313&4294967295,D=k+(M<<22&4294967295|M>>>10),M=R+(B^D&(k^B))+V[8]+1770035416&4294967295,R=D+(M<<7&4294967295|M>>>25),M=B+(k^R&(D^k))+V[9]+2336552879&4294967295,B=R+(M<<12&4294967295|M>>>20),M=k+(D^B&(R^D))+V[10]+4294925233&4294967295,k=B+(M<<17&4294967295|M>>>15),M=D+(R^k&(B^R))+V[11]+2304563134&4294967295,D=k+(M<<22&4294967295|M>>>10),M=R+(B^D&(k^B))+V[12]+1804603682&4294967295,R=D+(M<<7&4294967295|M>>>25),M=B+(k^R&(D^k))+V[13]+4254626195&4294967295,B=R+(M<<12&4294967295|M>>>20),M=k+(D^B&(R^D))+V[14]+2792965006&4294967295,k=B+(M<<17&4294967295|M>>>15),M=D+(R^k&(B^R))+V[15]+1236535329&4294967295,D=k+(M<<22&4294967295|M>>>10),M=R+(k^B&(D^k))+V[1]+4129170786&4294967295,R=D+(M<<5&4294967295|M>>>27),M=B+(D^k&(R^D))+V[6]+3225465664&4294967295,B=R+(M<<9&4294967295|M>>>23),M=k+(R^D&(B^R))+V[11]+643717713&4294967295,k=B+(M<<14&4294967295|M>>>18),M=D+(B^R&(k^B))+V[0]+3921069994&4294967295,D=k+(M<<20&4294967295|M>>>12),M=R+(k^B&(D^k))+V[5]+3593408605&4294967295,R=D+(M<<5&4294967295|M>>>27),M=B+(D^k&(R^D))+V[10]+38016083&4294967295,B=R+(M<<9&4294967295|M>>>23),M=k+(R^D&(B^R))+V[15]+3634488961&4294967295,k=B+(M<<14&4294967295|M>>>18),M=D+(B^R&(k^B))+V[4]+3889429448&4294967295,D=k+(M<<20&4294967295|M>>>12),M=R+(k^B&(D^k))+V[9]+568446438&4294967295,R=D+(M<<5&4294967295|M>>>27),M=B+(D^k&(R^D))+V[14]+3275163606&4294967295,B=R+(M<<9&4294967295|M>>>23),M=k+(R^D&(B^R))+V[3]+4107603335&4294967295,k=B+(M<<14&4294967295|M>>>18),M=D+(B^R&(k^B))+V[8]+1163531501&4294967295,D=k+(M<<20&4294967295|M>>>12),M=R+(k^B&(D^k))+V[13]+2850285829&4294967295,R=D+(M<<5&4294967295|M>>>27),M=B+(D^k&(R^D))+V[2]+4243563512&4294967295,B=R+(M<<9&4294967295|M>>>23),M=k+(R^D&(B^R))+V[7]+1735328473&4294967295,k=B+(M<<14&4294967295|M>>>18),M=D+(B^R&(k^B))+V[12]+2368359562&4294967295,D=k+(M<<20&4294967295|M>>>12),M=R+(D^k^B)+V[5]+4294588738&4294967295,R=D+(M<<4&4294967295|M>>>28),M=B+(R^D^k)+V[8]+2272392833&4294967295,B=R+(M<<11&4294967295|M>>>21),M=k+(B^R^D)+V[11]+1839030562&4294967295,k=B+(M<<16&4294967295|M>>>16),M=D+(k^B^R)+V[14]+4259657740&4294967295,D=k+(M<<23&4294967295|M>>>9),M=R+(D^k^B)+V[1]+2763975236&4294967295,R=D+(M<<4&4294967295|M>>>28),M=B+(R^D^k)+V[4]+1272893353&4294967295,B=R+(M<<11&4294967295|M>>>21),M=k+(B^R^D)+V[7]+4139469664&4294967295,k=B+(M<<16&4294967295|M>>>16),M=D+(k^B^R)+V[10]+3200236656&4294967295,D=k+(M<<23&4294967295|M>>>9),M=R+(D^k^B)+V[13]+681279174&4294967295,R=D+(M<<4&4294967295|M>>>28),M=B+(R^D^k)+V[0]+3936430074&4294967295,B=R+(M<<11&4294967295|M>>>21),M=k+(B^R^D)+V[3]+3572445317&4294967295,k=B+(M<<16&4294967295|M>>>16),M=D+(k^B^R)+V[6]+76029189&4294967295,D=k+(M<<23&4294967295|M>>>9),M=R+(D^k^B)+V[9]+3654602809&4294967295,R=D+(M<<4&4294967295|M>>>28),M=B+(R^D^k)+V[12]+3873151461&4294967295,B=R+(M<<11&4294967295|M>>>21),M=k+(B^R^D)+V[15]+530742520&4294967295,k=B+(M<<16&4294967295|M>>>16),M=D+(k^B^R)+V[2]+3299628645&4294967295,D=k+(M<<23&4294967295|M>>>9),M=R+(k^(D|~B))+V[0]+4096336452&4294967295,R=D+(M<<6&4294967295|M>>>26),M=B+(D^(R|~k))+V[7]+1126891415&4294967295,B=R+(M<<10&4294967295|M>>>22),M=k+(R^(B|~D))+V[14]+2878612391&4294967295,k=B+(M<<15&4294967295|M>>>17),M=D+(B^(k|~R))+V[5]+4237533241&4294967295,D=k+(M<<21&4294967295|M>>>11),M=R+(k^(D|~B))+V[12]+1700485571&4294967295,R=D+(M<<6&4294967295|M>>>26),M=B+(D^(R|~k))+V[3]+2399980690&4294967295,B=R+(M<<10&4294967295|M>>>22),M=k+(R^(B|~D))+V[10]+4293915773&4294967295,k=B+(M<<15&4294967295|M>>>17),M=D+(B^(k|~R))+V[1]+2240044497&4294967295,D=k+(M<<21&4294967295|M>>>11),M=R+(k^(D|~B))+V[8]+1873313359&4294967295,R=D+(M<<6&4294967295|M>>>26),M=B+(D^(R|~k))+V[15]+4264355552&4294967295,B=R+(M<<10&4294967295|M>>>22),M=k+(R^(B|~D))+V[6]+2734768916&4294967295,k=B+(M<<15&4294967295|M>>>17),M=D+(B^(k|~R))+V[13]+1309151649&4294967295,D=k+(M<<21&4294967295|M>>>11),M=R+(k^(D|~B))+V[4]+4149444226&4294967295,R=D+(M<<6&4294967295|M>>>26),M=B+(D^(R|~k))+V[11]+3174756917&4294967295,B=R+(M<<10&4294967295|M>>>22),M=k+(R^(B|~D))+V[2]+718787259&4294967295,k=B+(M<<15&4294967295|M>>>17),M=D+(B^(k|~R))+V[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(k+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+B&4294967295}r.prototype.v=function(S,R){R===void 0&&(R=S.length);const D=R-this.blockSize,V=this.C;let k=this.h,B=0;for(;B<R;){if(k==0)for(;B<=D;)s(this,S,B),B+=this.blockSize;if(typeof S=="string"){for(;B<R;)if(V[k++]=S.charCodeAt(B++),k==this.blockSize){s(this,V),k=0;break}}else for(;B<R;)if(V[k++]=S[B++],k==this.blockSize){s(this,V),k=0;break}}this.h=k,this.o+=R},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var D=S.length-8;D<S.length;++D)S[D]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)S[R++]=this.g[D]>>>V&255;return S};function o(S,R){var D=h;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=R(S)}function u(S,R){this.h=R;const D=[];let V=!0;for(let k=S.length-1;k>=0;k--){const B=S[k]|0;V&&B==R||(D[k]=B,V=!1)}this.g=D}var h={};function f(S){return-128<=S&&S<128?o(S,function(R){return new u([R|0],R<0?-1:0)}):new u([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return O(g(-S));const R=[];let D=1;for(let V=0;S>=D;V++)R[V]=S/D|0,D*=4294967296;return new u(R,0)}function y(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return O(y(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(R,8));let V=v;for(let B=0;B<S.length;B+=8){var k=Math.min(8,S.length-B);const M=parseInt(S.substring(B,B+k),R);k<8?(k=g(Math.pow(R,k)),V=V.j(k).add(g(M))):(V=V.j(D),V=V.add(g(M)))}return V}var v=f(0),E=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-O(this).m();let S=0,R=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);S+=(V>=0?V:4294967296+V)*R,R*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(N(this))return"-"+O(this).toString(S);const R=g(Math.pow(S,6));var D=this;let V="";for(;;){const k=he(D,R).g;D=z(D,k.j(R));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(S);if(D=k,I(D))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function N(S){return S.h==-1}n.l=function(S){return S=z(this,S),N(S)?-1:I(S)?0:1};function O(S){const R=S.g.length,D=[];for(let V=0;V<R;V++)D[V]=~S.g[V];return new u(D,~S.h).add(E)}n.abs=function(){return N(this)?O(this):this},n.add=function(S){const R=Math.max(this.g.length,S.g.length),D=[];let V=0;for(let k=0;k<=R;k++){let B=V+(this.i(k)&65535)+(S.i(k)&65535),M=(B>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);V=M>>>16,B&=65535,M&=65535,D[k]=M<<16|B}return new u(D,D[D.length-1]&-2147483648?-1:0)};function z(S,R){return S.add(O(R))}n.j=function(S){if(I(this)||I(S))return v;if(N(this))return N(S)?O(this).j(O(S)):O(O(this).j(S));if(N(S))return O(this.j(O(S)));if(this.l(A)<0&&S.l(A)<0)return g(this.m()*S.m());const R=this.g.length+S.g.length,D=[];for(var V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let k=0;k<S.g.length;k++){const B=this.i(V)>>>16,M=this.i(V)&65535,He=S.i(k)>>>16,ft=S.i(k)&65535;D[2*V+2*k]+=M*ft,j(D,2*V+2*k),D[2*V+2*k+1]+=B*ft,j(D,2*V+2*k+1),D[2*V+2*k+1]+=M*He,j(D,2*V+2*k+1),D[2*V+2*k+2]+=B*He,j(D,2*V+2*k+2)}for(S=0;S<R;S++)D[S]=D[2*S+1]<<16|D[2*S];for(S=R;S<2*R;S++)D[S]=0;return new u(D,0)};function j(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function te(S,R){this.g=S,this.h=R}function he(S,R){if(I(R))throw Error("division by zero");if(I(S))return new te(v,v);if(N(S))return R=he(O(S),R),new te(O(R.g),O(R.h));if(N(R))return R=he(S,O(R)),new te(O(R.g),R.h);if(S.g.length>30){if(N(S)||N(R))throw Error("slowDivide_ only works with positive integers.");for(var D=E,V=R;V.l(S)<=0;)D=Ee(D),V=Ee(V);var k=_e(D,1),B=_e(V,1);for(V=_e(V,2),D=_e(D,2);!I(V);){var M=B.add(V);M.l(S)<=0&&(k=k.add(D),B=M),V=_e(V,1),D=_e(D,1)}return R=z(S,k.j(R)),new te(k,R)}for(k=v;S.l(R)>=0;){for(D=Math.max(1,Math.floor(S.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=g(D),M=B.j(R);N(M)||M.l(S)>0;)D-=V,B=g(D),M=B.j(R);I(B)&&(B=E),k=k.add(B),S=z(S,M)}return new te(k,S)}n.B=function(S){return he(this,S).h},n.and=function(S){const R=Math.max(this.g.length,S.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)&S.i(V);return new u(D,this.h&S.h)},n.or=function(S){const R=Math.max(this.g.length,S.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)|S.i(V);return new u(D,this.h|S.h)},n.xor=function(S){const R=Math.max(this.g.length,S.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)^S.i(V);return new u(D,this.h^S.h)};function Ee(S){const R=S.g.length+1,D=[];for(let V=0;V<R;V++)D[V]=S.i(V)<<1|S.i(V-1)>>>31;return new u(D,S.h)}function _e(S,R){const D=R>>5;R%=32;const V=S.g.length-D,k=[];for(let B=0;B<V;B++)k[B]=R>0?S.i(B+D)>>>R|S.i(B+D+1)<<32-R:S.i(B+D);return new u(k,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,OI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,_s=u}).apply(typeof ww<"u"?ww:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MI,Lc,PI,Vd,Tv,xI,kI,VI;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var _=0;_<d.length;++_){var T=d[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var T=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var G=d[C];if(!(G in T))break e;T=T[G]}d=d[d.length-1],C=T[d],_=_(C),_!=C&&_!=null&&e(T,d,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(_){var T=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&T.push([C,_[C]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,T){return d.call.apply(d.bind,arguments)}function g(d,_,T){return g=f,g.apply(null,arguments)}function y(d,_){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function v(d,_){function T(){}T.prototype=_.prototype,d.Z=_.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(C,G,X){for(var pe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)pe[Ge-2]=arguments[Ge];return _.prototype[G].apply(C,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function A(d){const _=d.length;if(_>0){const T=Array(_);for(let C=0;C<_;C++)T[C]=d[C];return T}return[]}function I(d,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=d.length||0;const X=G.length||0;d.length=T+X;for(let pe=0;pe<X;pe++)d[T+pe]=G[pe]}else d.push(G)}}class N{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(d){u.setTimeout(()=>{throw d},0)}function z(){var d=S;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,T){const C=te.get();C.set(_,T),this.h?this.h.next=C:this.g=C,this.h=C}}var te=new N(()=>new he,d=>d.reset());class he{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,_e=!1,S=new j,R=()=>{const d=Promise.resolve(void 0);Ee=()=>{d.then(D)}};function D(){for(var d;d=z();){try{d.h.call(d.g)}catch(T){O(T)}var _=te;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return d})();function M(d){return/^[\s\xa0]*$/.test(d)}function He(d,_){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(He,k),He.prototype.init=function(d,_){const T=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(T=="mouseover"?_=d.fromElement:T=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),W=0;function ue(d,_,T,C,G){this.listener=d,this.proxy=null,this.src=_,this.type=T,this.capture=!!C,this.ha=G,this.key=++W,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d,_,T){for(const C in d)_.call(T,d[C],C,d)}function Ve(d,_){for(const T in d)_.call(void 0,d[T],T,d)}function L(d){const _={};for(const T in d)_[T]=d[T];return _}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(d,_){let T,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(T in C)d[T]=C[T];for(let X=0;X<ne.length;X++)T=ne[X],Object.prototype.hasOwnProperty.call(C,T)&&(d[T]=C[T])}}function ve(d){this.src=d,this.g={},this.h=0}ve.prototype.add=function(d,_,T,C,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const pe=Oe(d,_,C,G);return pe>-1?(_=d[pe],T||(_.fa=!1)):(_=new ue(_,this.src,X,!!C,G),_.fa=T,d.push(_)),_};function Ce(d,_){const T=_.type;if(T in d.g){var C=d.g[T],G=Array.prototype.indexOf.call(C,_,void 0),X;(X=G>=0)&&Array.prototype.splice.call(C,G,1),X&&(ye(_),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Oe(d,_,T,C){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==_&&X.capture==!!T&&X.ha==C)return G}return-1}var Xe="closure_lm_"+(Math.random()*1e6|0),Nt={};function Pt(d,_,T,C,G){if(Array.isArray(_)){for(let X=0;X<_.length;X++)Pt(d,_[X],T,C,G);return null}return T=Qa(T),d&&d[ft]?d.J(_,T,h(C)?!!C.capture:!1,G):Yi(d,_,T,!1,C,G)}function Yi(d,_,T,C,G,X){if(!_)throw Error("Invalid event type");const pe=h(G)?!!G.capture:!!G;let Ge=$n(d);if(Ge||(d[Xe]=Ge=new ve(d)),T=Ge.add(_,T,C,pe,X),T.proxy)return T;if(C=Ns(),T.proxy=C,C.src=d,C.listener=T,d.addEventListener)B||(G=pe),G===void 0&&(G=!1),d.addEventListener(_.toString(),C,G);else if(d.attachEvent)d.attachEvent(fr(_.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ns(){function d(T){return _.call(d.src,d.listener,T)}const _=$a;return d}function Yt(d,_,T,C,G){if(Array.isArray(_))for(var X=0;X<_.length;X++)Yt(d,_[X],T,C,G);else C=h(C)?!!C.capture:!!C,T=Qa(T),d&&d[ft]?(d=d.i,X=String(_).toString(),X in d.g&&(_=d.g[X],T=Oe(_,T,C,G),T>-1&&(ye(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete d.g[X],d.h--)))):d&&(d=$n(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Oe(_,T,C,G)),(T=d>-1?_[d]:null)&&hr(T))}function hr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ft])Ce(_.i,d);else{var T=d.type,C=d.proxy;_.removeEventListener?_.removeEventListener(T,C,d.capture):_.detachEvent?_.detachEvent(fr(T),C):_.addListener&&_.removeListener&&_.removeListener(C),(T=$n(_))?(Ce(T,d),T.h==0&&(T.src=null,_[Xe]=null)):ye(d)}}}function fr(d){return d in Nt?Nt[d]:Nt[d]="on"+d}function $a(d,_){if(d.da)d=!0;else{_=new He(_,this);const T=d.listener,C=d.ha||d.src;d.fa&&hr(d),d=T.call(C,_)}return d}function $n(d){return d=d[Xe],d instanceof ve?d:null}var Ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qa(d){return typeof d=="function"?d:(d[Ya]||(d[Ya]=function(_){return d.handleEvent(_)}),d[Ya])}function Qt(){V.call(this),this.i=new ve(this),this.M=this,this.G=null}v(Qt,V),Qt.prototype[ft]=!0,Qt.prototype.removeEventListener=function(d,_,T,C){Yt(this,d,_,T,C)};function sn(d,_){var T,C=d.G;if(C)for(T=[];C;C=C.G)T.push(C);if(d=d.M,C=_.type||_,typeof _=="string")_=new k(_,d);else if(_ instanceof k)_.target=_.target||d;else{var G=_;_=new k(C,d),fe(_,G)}G=!0;let X,pe;if(T)for(pe=T.length-1;pe>=0;pe--)X=_.g=T[pe],G=pi(X,C,!0,_)&&G;if(X=_.g=d,G=pi(X,C,!0,_)&&G,G=pi(X,C,!1,_)&&G,T)for(pe=0;pe<T.length;pe++)X=_.g=T[pe],G=pi(X,C,!1,_)&&G}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const T=d.g[_];for(let C=0;C<T.length;C++)ye(T[C]);delete d.g[_],d.h--}}this.G=null},Qt.prototype.J=function(d,_,T,C){return this.i.add(String(d),_,!1,T,C)},Qt.prototype.K=function(d,_,T,C){return this.i.add(String(d),_,!0,T,C)};function pi(d,_,T,C){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let X=0;X<_.length;++X){const pe=_[X];if(pe&&!pe.da&&pe.capture==T){const Ge=pe.listener,an=pe.ha||pe.src;pe.fa&&Ce(d.i,pe),G=Ge.call(an,C)!==!1&&G}}return G&&!C.defaultPrevented}function Pu(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(d,_||0)}function il(d){d.g=Pu(()=>{d.g=null,d.i&&(d.i=!1,il(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Wt extends V{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:il(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(d){V.call(this),this.h=d,this.g={}}v(dr,V);var Os=[];function Qi(d){ke(d.g,function(_,T){this.g.hasOwnProperty(T)&&hr(_)},d),d.g={}}dr.prototype.N=function(){dr.Z.N.call(this),Qi(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=u.JSON.stringify,gr=u.JSON.parse,Wa=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function sl(){}function Ms(){}var pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){k.call(this,"d")}v(Ot,k);function Yn(){k.call(this,"c")}v(Yn,k);var jt={},Ka=null;function Ps(){return Ka=Ka||new Qt}jt.Ia="serverreachability";function Xa(d){k.call(this,jt.Ia,d)}v(Xa,k);function Qn(d){const _=Ps();sn(_,new Xa(_))}jt.STAT_EVENT="statevent";function mi(d,_){k.call(this,jt.STAT_EVENT,d),this.stat=_}v(mi,k);function Ht(d){const _=Ps();sn(_,new mi(_,d))}jt.Ja="timingevent";function Nr(d,_){k.call(this,jt.Ja,d),this.size=_}v(Nr,k);function mr(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function yr(){this.g=!0}yr.prototype.ua=function(){this.g=!1};function al(d,_,T,C,G,X){d.info(function(){if(d.g)if(X){var pe="",Ge=X.split("&");for(let yt=0;yt<Ge.length;yt++){var an=Ge[yt].split("=");if(an.length>1){const Ft=an[0];an=an[1];const Pr=Ft.split("_");pe=Pr.length>=2&&Pr[1]=="type"?pe+(Ft+"="+an+"&"):pe+(Ft+"=redacted&")}}}else pe=null;else pe=X;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+T+`
`+pe})}function Wi(d,_,T,C,G,X,pe){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+T+`
`+X+" "+pe})}function Wn(d,_,T,C){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+xu(d,T)+(C?" "+C:"")})}function yi(d,_){d.info(function(){return"TIMEOUT: "+_})}yr.prototype.info=function(){};function xu(d,_){if(!d.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var T=X[d];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let pe=1;pe<C.length;pe++)C[pe]=""}}}}return An(X)}catch{return _}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},P={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},H;function Q(){}v(Q,sl),Q.prototype.g=function(){return new XMLHttpRequest},H=new Q;function le(d){return encodeURIComponent(String(d))}function de(d){var _=1;d=d.split(":");const T=[];for(;_>0&&d.length;)T.push(d.shift()),_--;return d.length&&T.push(d.join(":")),T}function Ae(d,_,T,C){this.j=d,this.i=_,this.l=T,this.S=C||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new we}function we(){this.i=null,this.g="",this.h=!1}var ge={},me={};function Se(d,_,T){d.M=1,d.A=Za(wt(_)),d.u=T,d.R=!0,Le(d,null)}function Le(d,_){d.F=Date.now(),St(d),d.B=wt(d.A);var T=d.B,C=d.S;Array.isArray(C)||(C=[String(C)]),ll(T.i,"t",C),d.C=0,T=d.j.L,d.h=new we,d.g=nf(d.j,T?_:null,!d.u),d.P>0&&(d.O=new Wt(g(d.Y,d,d.g),d.P)),_=d.V,T=d.g,C=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(Os[0]=G.toString()),G=Os);for(let X=0;X<G.length;X++){const pe=Pt(T,G[X],C||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Qn(),al(d.i,d.v,d.B,d.l,d.S,d.u)}Ae.prototype.ba=function(d){d=d.target;const _=this.O;_&&ti(d)==3?_.j():this.Y(d)},Ae.prototype.Y=function(d){try{if(d==this.g)e:{const Ge=ti(this.g),an=this.g.ya(),yt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||Nn(this.g)))){this.K||Ge!=4||an==7||(an==8||yt<=0?Qn(3):Qn(2)),xt(this);var _=this.g.ca();this.X=_;var T=De(this);if(this.o=_==200,Wi(this.i,this.v,this.B,this.l,this.S,Ge,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(C)){var X=C;break t}}X=null}if(d=X)Wn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tn(this,d);else{this.o=!1,this.m=3,Ht(12),kt(this),Ye(this);break e}}if(this.R){d=!0;let Ft;for(;!this.K&&this.C<T.length;)if(Ft=Ze(this,T),Ft==me){Ge==4&&(this.m=4,Ht(14),d=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==ge){this.m=4,Ht(15),Wn(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Wn(this.i,this.l,Ft,null),Tn(this,Ft);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||T.length!=0||this.h.h||(this.m=1,Ht(16),d=!1),this.o=this.o&&d,!d)Wn(this.i,this.l,T,"[Invalid Chunked Response]"),kt(this),Ye(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Fu(pe),pe.P=!0,Ht(11))}}else Wn(this.i,this.l,T,null),Tn(this,T);Ge==4&&kt(this),this.o&&!this.K&&(Ge==4?Zh(this.j,this):(this.o=!1,St(this)))}else Zi(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),kt(this),Ye(this)}}}catch{}finally{}};function De(d){if(!Be(d))return d.g.la();const _=Nn(d.g);if(_==="")return"";let T="";const C=_.length,G=ti(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return kt(d),Ye(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<C;X++)d.h.h=!0,T+=d.h.i.decode(_[X],{stream:!(G&&X==C-1)});return _.length=0,d.h.g+=T,d.C=0,d.h.g}function Be(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ze(d,_){var T=d.C,C=_.indexOf(`
`,T);return C==-1?me:(T=Number(_.substring(T,C)),isNaN(T)?ge:(C+=1,C+T>_.length?me:(_=_.slice(C,C+T),d.C=C+T,_)))}Ae.prototype.cancel=function(){this.K=!0,kt(this)};function St(d){d.T=Date.now()+d.H,Lt(d,d.H)}function Lt(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=mr(g(d.aa,d),_)}function xt(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Ae.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(yi(this.i,this.B),this.M!=2&&(Qn(),Ht(17)),kt(this),this.m=2,Ye(this)):Lt(this,this.T-d)};function Ye(d){d.j.I==0||d.K||Zh(d.j,d)}function kt(d){xt(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Qi(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Tn(d,_){try{var T=d.j;if(T.I!=0&&(T.g==d||Ln(T.h,d))){if(!d.L&&Ln(T.h,d)&&T.I==3){try{var C=T.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)dl(T),js(T);else break e;so(T),Ht(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=mr(g(T.Va,T),6e3));er(T.h)<=1&&T.ta&&(T.ta=void 0)}else wi(T,11)}else if((d.L||T.g==d)&&dl(T),!M(_))for(G=T.Ba.g.parse(_),_=0;_<G.length;_++){let yt=G[_];const Ft=yt[0];if(!(Ft<=T.K))if(T.K=Ft,yt=yt[1],T.I==2)if(yt[0]=="c"){T.M=yt[1],T.ba=yt[2];const Pr=yt[3];Pr!=null&&(T.ka=Pr,T.j.info("VER="+T.ka));const Ri=yt[4];Ri!=null&&(T.za=Ri,T.j.info("SVER="+T.za));const ni=yt[5];ni!=null&&typeof ni=="number"&&ni>0&&(C=1.5*ni,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const ri=d.g;if(ri){const ao=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ao){var X=C.h;X.g||ao.indexOf("spdy")==-1&&ao.indexOf("quic")==-1&&ao.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(vr(X,X.h),X.h=null))}if(C.G){const gl=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(C.wa=gl,mt(C.J,C.G,gl))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var pe=d;if(C.na=tf(C,C.L?C.ba:null,C.W),pe.L){vi(C.h,pe);var Ge=pe,an=C.O;an&&(Ge.H=an),Ge.D&&(xt(Ge),St(Ge)),C.g=pe}else Kh(C);T.i.length>0&&Si(T)}else yt[0]!="stop"&&yt[0]!="close"||wi(T,7);else T.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?wi(T,7):ju(T):yt[0]!="noop"&&T.l&&T.l.qa(yt),T.A=0)}}Qn(4)}catch{}}var Vt=class{constructor(d,_){this.g=d,this.map=_}};function Jn(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function er(d){return d.h?1:d.g?d.g.size:0}function Ln(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function vr(d,_){d.g?d.g.add(_):d.h=_}function vi(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Jn.prototype.cancel=function(){if(this.i=_i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _i(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const T of d.g.values())_=_.concat(T.G);return _}return A(d.i)}var Je=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kt(d,_){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const C=d[T].indexOf("=");let G,X=null;C>=0?(G=d[T].substring(0,C),X=d[T].substring(C+1)):G=d[T],_(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function hn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof hn?(this.l=d.l,Qe(this,d.j),this.o=d.o,this.g=d.g,_r(this,d.u),this.h=d.h,xs(this,Qh(d.i)),this.m=d.m):d&&(_=String(d).match(Je))?(this.l=!1,Qe(this,_[1]||"",!0),this.o=Ei(_[2]||""),this.g=Ei(_[3]||"",!0),_r(this,_[4]),this.h=Ei(_[5]||"",!0),xs(this,_[6]||"",!0),this.m=Ei(_[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}hn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Ja(_,ol,!0),":");var T=this.g;return(T||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Ja(_,ol,!0),"@"),d.push(le(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ja(T,T.charAt(0)=="/"?ku:Gh,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ja(T,$h)),d.join("")},hn.prototype.resolve=function(d){const _=wt(this);let T=!!d.j;T?Qe(_,d.j):T=!!d.o,T?_.o=d.o:T=!!d.g,T?_.g=d.g:T=d.u!=null;var C=d.h;if(T)_r(_,d.u);else if(T=!!d.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let pe=0;pe<G.length;){const Ge=G[pe++];Ge=="."?C&&pe==G.length&&X.push(""):Ge==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),C&&pe==G.length&&X.push("")):(X.push(Ge),C=!0)}C=X.join("/")}else C=G}return T?_.h=C:T=d.i.toString()!=="",T?xs(_,Qh(d.i)):T=!!d.m,T&&(_.m=d.m),_};function wt(d){return new hn(d)}function Qe(d,_,T){d.j=T?Ei(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function _r(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function xs(d,_,T){_ instanceof Vs?(d.i=_,ul(d.i,d.l)):(T||(_=Ja(_,ks)),d.i=new Vs(_,d.l))}function mt(d,_,T){d.i.set(_,T)}function Za(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ei(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ja(d,_,T){return typeof d=="string"?(d=encodeURI(d).replace(_,tr),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function tr(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ol=/[#\/\?@]/g,Gh=/[#\?:]/g,ku=/[#\?]/g,ks=/[#\?@]/g,$h=/#/g;function Vs(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function nr(d){d.g||(d.g=new Map,d.h=0,d.i&&Kt(d.i,function(_,T){d.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}n=Vs.prototype,n.add=function(d,_){nr(this),this.i=null,d=Ls(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(_),this.h+=1,this};function Yh(d,_){nr(d),_=Ls(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Vu(d,_){return nr(d),_=Ls(d,_),d.g.has(_)}n.forEach=function(d,_){nr(this),this.g.forEach(function(T,C){T.forEach(function(G){d.call(_,G,C,this)},this)},this)};function Lu(d,_){nr(d);let T=[];if(typeof _=="string")Vu(d,_)&&(T=T.concat(d.g.get(Ls(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)T=T.concat(d[_]);return T}n.set=function(d,_){return nr(this),this.i=null,d=Ls(this,d),Vu(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Lu(this,d),d.length>0?String(d[0]):_):_};function ll(d,_,T){Yh(d,_),T.length>0&&(d.i=null,d.g.set(Ls(d,_),A(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var T=_[C];const G=le(T);T=Lu(this,T);for(let X=0;X<T.length;X++){let pe=G;T[X]!==""&&(pe+="="+le(T[X])),d.push(pe)}}return this.i=d.join("&")};function Qh(d){const _=new Vs;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Ls(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ul(d,_){_&&!d.j&&(nr(d),d.i=null,d.g.forEach(function(T,C){const G=C.toLowerCase();C!=G&&(Yh(this,C),ll(this,G,T))},d)),d.j=_}function Jr(d,_){const T=new yr;if(u.Image){const C=new Image;C.onload=y(Or,T,"TestLoadImage: loaded",!0,_,C),C.onerror=y(Or,T,"TestLoadImage: error",!1,_,C),C.onabort=y(Or,T,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(Or,T,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else _(!1)}function Uu(d,_){const T=new yr,C=new AbortController,G=setTimeout(()=>{C.abort(),Or(T,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:C.signal}).then(X=>{clearTimeout(G),X.ok?Or(T,"TestPingServer: ok",!0,_):Or(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Or(T,"TestPingServer: error",!1,_)})}function Or(d,_,T,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(T)}catch{}}function Us(){this.g=new Wa}function bi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(bi,sl),bi.prototype.g=function(){return new eo(this.i,this.h)};function eo(d,_){Qt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(eo,Qt),n=eo.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,ei(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;cl(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function cl(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?zs(this):ei(this),this.readyState==3&&cl(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,zs(this))},n.Na=function(d){this.g&&(this.response=d,zs(this))},n.ga=function(){this.g&&zs(this)};function zs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ei(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=_.next();return d.join(`\r
`)};function ei(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Mr(d){let _="";return ke(d,function(T,C){_+=C,_+=":",_+=T,_+=`\r
`}),_}function to(d,_,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Mr(T),typeof d=="string"?T!=null&&le(T):mt(d,_,T))}function Rt(d){Qt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Rt,Qt);var Ai=/^https?$/i,zu=["POST","PUT"];n=Rt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():H.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){no(this,X);return}if(d=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)T.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const X of C.keys())T.set(X,C.get(X));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(zu,_,void 0)>=0)||C||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,pe]of T)this.g.setRequestHeader(X,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){no(this,X)}};function no(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Bu(d),Xi(d)}function Bu(d){d.A||(d.A=!0,sn(d,"complete"),sn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,sn(this,"complete"),sn(this,"abort"),Xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},n.Xa=function(){ro(this)};function ro(d){if(d.h&&typeof o<"u"){if(d.v&&ti(d)==4)setTimeout(d.Ca.bind(d),0);else if(sn(d,"readystatechange"),ti(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var C;if(C=X===0){let pe=String(d.D).match(Je)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),C=!Ai.test(pe?pe.toLowerCase():"")}T=C}if(T)sn(d,"complete"),sn(d,"success");else{d.o=6;try{var G=ti(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Bu(d)}}finally{Xi(d)}}}}function Xi(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,_||sn(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ti(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),gr(_)}};function Nn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(d){const _={};d=(d.g&&ti(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(M(d[C]))continue;var T=de(d[C]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=_[G]||[];_[G]=X,X.push(T)}Ve(_,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(d,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||_}function Bs(d){this.za=0,this.i=[],this.j=new yr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,d),this.Za=Ti("retryDelaySeedMs",1e4,d),this.Ta=Ti("forwardChannelMaxRetries",2,d),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Jn(d&&d.concurrentRequestLimit),this.Ba=new Us,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Bs.prototype,n.ka=8,n.I=1,n.connect=function(d,_,T,C){Ht(0),this.W=d,this.H=_||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=tf(this,null,this.W),Si(this)};function ju(d){if(hl(d),d.I==3){var _=d.V++,T=wt(d.J);if(mt(T,"SID",d.M),mt(T,"RID",_),mt(T,"TYPE","terminate"),io(d,T),_=new Ae(d,d.j,_),_.M=2,_.A=Za(wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=nf(_.j,null),_.g.ea(_.A)),_.F=Date.now(),St(_)}ef(d)}function js(d){d.g&&(Fu(d),d.g.cancel(),d.g=null)}function hl(d){js(d),d.v&&(u.clearTimeout(d.v),d.v=null),dl(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Si(d){if(!Vn(d.h)&&!d.m){d.m=!0;var _=d.Ea;Ee||R(),_e||(Ee(),_e=!0),S.add(_,d),d.D=0}}function fl(d,_){return er(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=mr(g(d.Ea,d,_),Jh(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new Ae(this,this.j,d);let X=this.o;if(this.U&&(X?(X=L(X),fe(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Wh(this,G,_),T=wt(this.J),mt(T,"RID",d),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),io(this,T),X&&(this.R?_="headers="+le(Mr(X))+"&"+_:this.u&&to(T,this.u,X)),vr(this.h,G),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",_),mt(T,"SID","null"),G.U=!0,Se(G,T,null)):Se(G,T,_),this.I=2}}else this.I==3&&(d?Hu(this,d):this.i.length==0||Vn(this.h)||Hu(this))};function Hu(d,_){var T;_?T=_.l:T=d.V++;const C=wt(d.J);mt(C,"SID",d.M),mt(C,"RID",T),mt(C,"AID",d.K),io(d,C),d.u&&d.o&&to(C,d.u,d.o),T=new Ae(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Wh(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),vr(d.h,T),Se(T,C,_)}function io(d,_){d.H&&ke(d.H,function(T,C){mt(_,C,T)}),d.l&&ke({},function(T,C){mt(_,C,T)})}function Wh(d,_,T){T=Math.min(d.i.length,T);const C=d.l?g(d.l.Ka,d.l,d):null;e:{var G=d.i;let Ge=-1;for(;;){const an=["count="+T];Ge==-1?T>0?(Ge=G[0].g,an.push("ofs="+Ge)):Ge=0:an.push("ofs="+Ge);let yt=!0;for(let Ft=0;Ft<T;Ft++){var X=G[Ft].g;const Pr=G[Ft].map;if(X-=Ge,X<0)Ge=Math.max(0,G[Ft].g-100),yt=!1;else try{X="req"+X+"_"||"";try{var pe=Pr instanceof Map?Pr:Object.entries(Pr);for(const[Ri,ni]of pe){let ri=ni;h(ni)&&(ri=An(ni)),an.push(X+Ri+"="+encodeURIComponent(ri))}}catch(Ri){throw an.push(X+"type="+encodeURIComponent("_badmap")),Ri}}catch{C&&C(Pr)}}if(yt){pe=an.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),_.G=d,pe}function Kh(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;Ee||R(),_e||(Ee(),_e=!0),S.add(_,d),d.A=0}}function so(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=mr(g(d.Da,d),Jh(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=mr(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),js(this),Xh(this))};function Fu(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Xh(d){d.g=new Ae(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=wt(d.na);mt(_,"RID","rpc"),mt(_,"SID",d.M),mt(_,"AID",d.K),mt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(_,"TO",d.ia),mt(_,"TYPE","xmlhttp"),io(d,_),d.u&&d.o&&to(_,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Za(wt(_)),T.u=null,T.R=!0,Le(T,d)}n.Va=function(){this.C!=null&&(this.C=null,js(this),so(this),Ht(19))};function dl(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Zh(d,_){var T=null;if(d.g==_){dl(d),Fu(d),d.g=null;var C=2}else if(Ln(d.h,_))T=_.G,vi(d.h,_),C=1;else return;if(d.I!=0){if(_.o)if(C==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var G=d.D;C=Ps(),sn(C,new Nr(C,T)),Si(d)}else Kh(d);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&fl(d,_)||C==2&&so(d)))switch(T&&T.length>0&&(_=d.h,_.i=_.i.concat(T)),G){case 1:wi(d,5);break;case 4:wi(d,10);break;case 3:wi(d,6);break;default:wi(d,2)}}}function Jh(d,_){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*_}function wi(d,_){if(d.j.info("Error code "+_),_==2){var T=g(d.bb,d),C=d.Ua;const G=!C;C=new hn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qe(C,"https"),Za(C),G?Jr(C.toString(),T):Uu(C.toString(),T)}else Ht(2);d.I=0,d.l&&d.l.pa(_),ef(d),hl(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function ef(d){if(d.I=0,d.ja=[],d.l){const _=_i(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ja,_),I(d.ja,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.oa()}}function tf(d,_,T){var C=T instanceof hn?wt(T):new hn(T);if(C.g!="")_&&(C.g=_+"."+C.g),_r(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const X=new hn(null);C&&Qe(X,C),_&&(X.g=_),G&&_r(X,G),T&&(X.h=T),C=X}return T=d.G,_=d.wa,T&&_&&mt(C,T,_),mt(C,"VER",d.ka),io(d,C),C}function nf(d,_,T){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new Rt(new bi({ab:T})):new Rt(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rf(){}n=rf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Hs(){}Hs.prototype.g=function(d,_){return new Kn(d,_)};function Kn(d,_){Qt.call(this),this.g=new Bs(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!M(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ji(this)}v(Kn,Qt),Kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){ju(this.g)},Kn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=An(d),d=T);_.i.push(new Vt(_.Ya++,d)),_.I==3&&Si(_)},Kn.prototype.N=function(){this.g.l=null,delete this.j,ju(this.g),delete this.g,Kn.Z.N.call(this)};function sf(d){Ot.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const T in _){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(sf,Ot);function af(){Yn.call(this),this.status=1}v(af,Yn);function Ji(d){this.g=d}v(Ji,rf),Ji.prototype.ra=function(){sn(this.g,"a")},Ji.prototype.qa=function(d){sn(this.g,new sf(d))},Ji.prototype.pa=function(d){sn(this.g,new af)},Ji.prototype.oa=function(){sn(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,VI=function(){return new Hs},kI=function(){return Ps()},xI=jt,Tv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Vd=Ki,P.COMPLETE="complete",PI=P,Ms.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,Lc=Ms,Rt.prototype.listenOnce=Rt.prototype.K,Rt.prototype.getLastError=Rt.prototype.Ha,Rt.prototype.getLastErrorCode=Rt.prototype.ya,Rt.prototype.getStatus=Rt.prototype.ca,Rt.prototype.getResponseJson=Rt.prototype.La,Rt.prototype.getResponseText=Rt.prototype.la,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Fa,MI=Rt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="12.8.0";function GU(n){Ru=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Ih("@firebase/firestore");function Gl(){return Bo.logLevel}function Te(n,...e){if(Bo.logLevel<=Ke.DEBUG){const t=e.map(O_);Bo.debug(`Firestore (${Ru}): ${n}`,...t)}}function Ss(n,...e){if(Bo.logLevel<=Ke.ERROR){const t=e.map(O_);Bo.error(`Firestore (${Ru}): ${n}`,...t)}}function gu(n,...e){if(Bo.logLevel<=Ke.WARN){const t=e.map(O_);Bo.warn(`Firestore (${Ru}): ${n}`,...t)}}function O_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,LI(n,r,t)}function LI(n,e,t){let r=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ss(r),new Error(r)}function bt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||LI(e,s,r)}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let be=class extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UI=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$U=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jn.UNAUTHENTICATED)))}shutdown(){}};class YU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class QU{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ca,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ca)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new UI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}let WU=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},KU=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new WU(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Rw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class XU{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=ZU(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function Sv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return Ly(s)===Ly(o)?st(s,o):Ly(s)?1:-1}return st(n.length,e.length)}const JU=55296,e4=57343;function Ly(n){const e=n.charCodeAt(0);return e>=JU&&e<=e4}function pu(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="__name__";let zI=class da{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=da.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return st(e.length,t.length)}static compareSegments(e,t){const r=da.isNumericId(e),s=da.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?da.extractNumericId(e).compare(da.extractNumericId(t)):Sv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}},nn=class Ld extends zI{construct(e,t,r){return new Ld(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ld(t)}static emptyPath(){return new Ld([])}};const t4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let ui=class $l extends zI{construct(e,t,r){return new $l(e,t,r)}static isValidIdentifier(e){return t4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$l.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cw}static keyField(){return new $l([Cw])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $l(t)}static emptyPath(){return new $l([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xe=class Uc{constructor(e){this.path=e}static fromPath(e){return new Uc(nn.fromString(e))}static fromName(e){return new Uc(nn.fromString(e).popFirst(5))}static empty(){return new Uc(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Uc(new nn(e.slice()))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n,e,t){if(!t)throw new be(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n4(n,e,t,r){if(e===!0&&r===!0)throw new be(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Iw(n){if(!xe.isDocumentKey(n))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dw(n){if(xe.isDocumentKey(n))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zg(n);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ph(n,e){if(!jI(n))throw new be(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new be(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,Ow=1e6;let In=class So{static now(){return So.fromMillis(Date.now())}static fromDate(e){return So.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ow);return new So(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nw)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:So._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ph(e,So._jsonSchema))return new So(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};In._jsonSchemaVersion="firestore/timestamp/1.0",In._jsonSchema={type:vn("string",In._jsonSchemaVersion),seconds:vn("number"),nanoseconds:vn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new In(0,0))}static max(){return new je(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function r4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new In(t+1,0):new In(t,r));return new Na(s,xe.empty(),e)}function i4(n){return new Na(n.readTime,n.key,ch)}class Na{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Na(je.min(),xe.empty(),ch)}static max(){return new Na(je.max(),xe.empty(),ch)}}function s4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==a4)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,r)=>{t(e)}))}static reject(e){return new oe(((t,r)=>{r(e)}))}static waitFor(e){return new oe(((t,r)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next((s=>s?oe.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new oe(((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;t(e[g]).next((y=>{u[g]=y,++h,h===o&&r(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new oe(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function l4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Iu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=-1;function ep(n){return n==null}function lg(n){return n===0&&1/n==-1/0}function u4(n){return typeof n=="number"&&Number.isInteger(n)&&!lg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="";function c4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mw(e)),e=h4(n.get(t),e);return Mw(e)}function h4(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case HI:t+="";break;default:t+=o}}return t}function Mw(n){return n+HI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new kn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new li([])}unionWith(e){let t=new bn(ui.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new li(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pu(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qI=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class wv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qI("Invalid base64 string: "+o):o}})(e);return new wv(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new wv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};cr.EMPTY_BYTE_STRING=new cr("");const f4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(n){if(bt(!!n,39018),typeof n=="string"){let e=0;const t=f4.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(n.seconds),nanos:un(n.nanos)}}function un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ma(n){return typeof n=="string"?cr.fromBase64String(n):cr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="server_timestamp",$I="__type__",YI="__previous_value__",QI="__local_write_time__";function x_(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[$I])==null?void 0:r.stringValue)===GI}function tp(n){const e=n.mapValue.fields[YI];return x_(e)?tp(e):e}function hh(n){const e=Oa(n.mapValue.fields[QI].timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t,r,s,o,u,h,f,g,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=v}}const ug="(default)";let WI=class Rv{constructor(e,t){this.projectId=e,this.database=t||ug}static empty(){return new Rv("","")}get isDefaultDatabase(){return this.database===ug}isEqual(e){return e instanceof Rv&&e.projectId===this.projectId&&e.database===this.database}};function g4(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WI(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="__type__",p4="__max__",md={mapValue:{}},XI="__vector__",cg="value";function Pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x_(n)?4:y4(n)?9007199254740991:m4(n)?10:11:ze(28295,{value:n})}function Fi(n,e){if(n===e)return!0;const t=Pa(n);if(t!==Pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Oa(s.timestampValue),h=Oa(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Ma(s.bytesValue).isEqual(Ma(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return un(s.geoPointValue.latitude)===un(o.geoPointValue.latitude)&&un(s.geoPointValue.longitude)===un(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return un(s.integerValue)===un(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=un(s.doubleValue),h=un(o.doubleValue);return u===h?lg(u)===lg(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return pu(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Pw(u)!==Pw(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Fi(u[f],h[f])))return!1;return!0})(n,e);default:return ze(52216,{left:n})}}function fh(n,e){return(n.values||[]).find((t=>Fi(t,e)))!==void 0}function mu(n,e){if(n===e)return 0;const t=Pa(n),r=Pa(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=un(o.integerValue||o.doubleValue),f=un(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return kw(n.timestampValue,e.timestampValue);case 4:return kw(hh(n),hh(e));case 5:return Sv(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ma(o),f=Ma(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=st(h[g],f[g]);if(y!==0)return y}return st(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=st(un(o.latitude),un(u.latitude));return h!==0?h:st(un(o.longitude),un(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Vw(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var E,A,I,N;const h=o.fields||{},f=u.fields||{},g=(E=h[cg])==null?void 0:E.arrayValue,y=(A=f[cg])==null?void 0:A.arrayValue,v=st(((I=g==null?void 0:g.values)==null?void 0:I.length)||0,((N=y==null?void 0:y.values)==null?void 0:N.length)||0);return v!==0?v:Vw(g,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===md.mapValue&&u===md.mapValue)return 0;if(o===md.mapValue)return 1;if(u===md.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=Sv(f[v],y[v]);if(E!==0)return E;const A=mu(h[f[v]],g[y[v]]);if(A!==0)return A}return st(f.length,y.length)})(n.mapValue,e.mapValue);default:throw ze(23264,{he:t})}}function kw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Oa(n),r=Oa(e),s=st(t.seconds,r.seconds);return s!==0?s:st(t.nanos,r.nanos)}function Vw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=mu(t[s],r[s]);if(o)return o}return st(t.length,r.length)}function yu(n){return Cv(n)}function Cv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Oa(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ma(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Cv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Cv(t.fields[u])}`;return s+"}"})(n.mapValue):ze(61005,{value:n})}function Ud(n){switch(Pa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(n);return e?16+Ud(e):16;case 5:return 2*n.stringValue.length;case 6:return Ma(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Ud(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Wo(r.fields,((o,u)=>{s+=o.length+Ud(u)})),s})(n.mapValue);default:throw ze(13486,{value:n})}}function Lw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iv(n){return!!n&&"integerValue"in n}function k_(n){return!!n&&"arrayValue"in n}function Uw(n){return!!n&&"nullValue"in n}function zw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zd(n){return!!n&&"mapValue"in n}function m4(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[KI])==null?void 0:r.stringValue)===XI}function $c(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$c(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return{...n}}function y4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===p4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=ui.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=$c(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];zd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Wo(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new qr($c(this.value))}}function ZI(n){const e=[];return Wo(n.fields,((t,r)=>{const s=new ui([t]);if(zd(r)){const o=ZI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Fn(e,0,je.min(),je.min(),je.min(),qr.empty(),0)}static newFoundDocument(e,t,r,s){return new Fn(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new Fn(e,2,t,je.min(),je.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,je.min(),je.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.position=e,this.inclusive=t}}function Bw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(u.referenceValue),t.key):r=mu(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function v4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JI=class{},Rn=class eD extends JI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E4(e,t,r):t==="array-contains"?new T4(e,r):t==="in"?new S4(e,r):t==="not-in"?new w4(e,r):t==="array-contains-any"?new R4(e,r):new eD(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new b4(e,r):new A4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(mu(t,this.value)):t!==null&&Pa(this.value)===Pa(t)&&this.matchesComparison(mu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ws=class tD extends JI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new tD(e,t)}matches(e){return nD(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function nD(n){return n.op==="and"}function rD(n){return _4(n)&&nD(n)}function _4(n){for(const e of n.filters)if(e instanceof ws)return!1;return!0}function Dv(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+yu(n.value);if(rD(n))return n.filters.map((e=>Dv(e))).join(",");{const e=n.filters.map((t=>Dv(t))).join(",");return`${n.op}(${e})`}}function iD(n,e){return n instanceof Rn?(function(r,s){return s instanceof Rn&&r.op===s.op&&r.field.isEqual(s.field)&&Fi(r.value,s.value)})(n,e):n instanceof ws?(function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&iD(u,s.filters[h])),!0):!1})(n,e):void ze(19439)}function sD(n){return n instanceof Rn?(function(t){return`${t.field.canonicalString()} ${t.op} ${yu(t.value)}`})(n):n instanceof ws?(function(t){return t.op.toString()+" {"+t.getFilters().map(sD).join(" ,")+"}"})(n):"Filter"}let E4=class extends Rn{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}},b4=class extends Rn{constructor(e,t){super(e,"in",t),this.keys=aD("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},A4=class extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=aD("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function aD(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>xe.fromName(r.referenceValue)))}let T4=class extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return k_(t)&&fh(t.arrayValue,this.value)}},S4=class extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fh(this.value.arrayValue,t)}},w4=class extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fh(this.value.arrayValue,t)}},R4=class extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!k_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>fh(this.value.arrayValue,r)))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function Hw(n,e=null,t=[],r=[],s=null,o=null,u=null){return new C4(n,e,t,r,s,o,u)}function V_(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Dv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ep(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>yu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>yu(r))).join(",")),e.Te=t}return e.Te}function L_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!jw(n.startAt,e.startAt)&&jw(n.endAt,e.endAt)}function Nv(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=class{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function I4(n,e,t,r,s,o,u,h){return new Du(n,e,t,r,s,o,u,h)}function np(n){return new Du(n)}function Fw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function D4(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function oD(n){return n.collectionGroup!==null}function Yc(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new bn(ui.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dh(o,r))})),t.has(ui.keyField().canonicalString())||e.Ie.push(new dh(ui.keyField(),r))}return e.Ie}function Ui(n){const e=qe(n);return e.Ee||(e.Ee=N4(e,Yc(n))),e.Ee}function N4(n,e){if(n.limitType==="F")return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new dh(s.field,o)}));const t=n.endAt?new hg(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hg(n.startAt.position,n.startAt.inclusive):null;return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ov(n,e){const t=n.filters.concat([e]);return new Du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function O4(n,e){const t=n.explicitOrderBy.concat([e]);return new Du(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Mv(n,e,t){return new Du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rp(n,e){return L_(Ui(n),Ui(e))&&n.limitType===e.limitType}function lD(n){return`${V_(Ui(n))}|lt:${n.limitType}`}function Yl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>sD(s))).join(", ")}]`),ep(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>yu(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>yu(s))).join(",")),`Target(${r})`})(Ui(n))}; limitType=${n.limitType})`}function ip(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Yc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const g=Bw(u,h,f);return u.inclusive?g<=0:g<0})(r.startAt,Yc(r),s)||r.endAt&&!(function(u,h,f){const g=Bw(u,h,f);return u.inclusive?g>=0:g>0})(r.endAt,Yc(r),s))})(n,e)}function M4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uD(n){return(e,t)=>{let r=!1;for(const s of Yc(n)){const o=P4(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function P4(n,e,t){const r=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?mu(f,g):ze(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return FI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new Zt(xe.comparator);function Rs(){return x4}const cD=new Zt(xe.comparator);function zc(...n){let e=cD;for(const t of n)e=e.insert(t.key,t);return e}function hD(n){let e=cD;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function No(){return Qc()}function fD(){return Qc()}function Qc(){return new Ko((n=>n.toString()),((n,e)=>n.isEqual(e)))}const k4=new Zt(xe.comparator),V4=new bn(xe.comparator);function at(...n){let e=V4;for(const t of n)e=e.add(t);return e}const L4=new bn(st);function U4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lg(e)?"-0":e}}function dD(n){return{integerValue:""+n}}function z4(n,e){return u4(e)?dD(e):U_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function B4(n,e,t){return n instanceof gh?(function(s,o){const u={fields:{[$I]:{stringValue:GI},[QI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&x_(o)&&(o=tp(o)),o&&(u.fields[YI]=o),{mapValue:u}})(t,e):n instanceof ph?pD(n,e):n instanceof mh?mD(n,e):(function(s,o){const u=gD(s,o),h=qw(u)+qw(s.Ae);return Iv(u)&&Iv(s.Ae)?dD(h):U_(s.serializer,h)})(n,e)}function j4(n,e,t){return n instanceof ph?pD(n,e):n instanceof mh?mD(n,e):t}function gD(n,e){return n instanceof fg?(function(r){return Iv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class gh extends sp{}class ph extends sp{constructor(e){super(),this.elements=e}}function pD(n,e){const t=yD(e);for(const r of n.elements)t.some((s=>Fi(s,r)))||t.push(r);return{arrayValue:{values:t}}}class mh extends sp{constructor(e){super(),this.elements=e}}function mD(n,e){let t=yD(e);for(const r of n.elements)t=t.filter((s=>!Fi(s,r)));return{arrayValue:{values:t}}}class fg extends sp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function qw(n){return un(n.integerValue||n.doubleValue)}function yD(n){return k_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t){this.field=e,this.transform=t}}function F4(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ph&&s instanceof ph||r instanceof mh&&s instanceof mh?pu(r.elements,s.elements,Fi):r instanceof fg&&s instanceof fg?Fi(r.Ae,s.Ae):r instanceof gh&&s instanceof gh})(n.transform,e.transform)}class q4{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ap{}function vD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new z_(n.key,ci.none()):new xh(n.key,n.data,ci.none());{const t=n.data,r=qr.empty();let s=new bn(ui.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Xo(n.key,r,new li(s.toArray()),ci.none())}}function G4(n,e,t){n instanceof xh?(function(s,o,u){const h=s.value.clone(),f=$w(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Xo?(function(s,o,u){if(!Bd(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=$w(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(_D(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Wc(n,e,t,r){return n instanceof xh?(function(o,u,h,f){if(!Bd(o.precondition,u))return h;const g=o.value.clone(),y=Yw(o.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof Xo?(function(o,u,h,f){if(!Bd(o.precondition,u))return h;const g=Yw(o.fieldTransforms,f,u),y=u.data;return y.setAll(_D(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,u,h){return Bd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function $4(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=gD(r.transform,s||null);o!=null&&(t===null&&(t=qr.empty()),t.set(r.field,o))}return t||null}function Gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pu(r,s,((o,u)=>F4(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xh extends ap{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xo extends ap{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _D(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function $w(n,e,t){const r=new Map;bt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,j4(u,h,t[s]))}return r}function Yw(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,B4(o,u,e))}return r}class z_ extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y4 extends ap{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&G4(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fD();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=vD(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),at())}isEqual(e){return this.batchId===e.batchId&&pu(this.mutations,e.mutations,((t,r)=>Gw(t,r)))&&pu(this.baseMutations,e.baseMutations,((t,r)=>Gw(t,r)))}}class B_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return k4})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new B_(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,ct;function X4(n){switch(n){case ae.OK:return ze(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function ED(n){if(n===void 0)return Ss("GRPC error has no .code"),ae.UNKNOWN;switch(n){case mn.OK:return ae.OK;case mn.CANCELLED:return ae.CANCELLED;case mn.UNKNOWN:return ae.UNKNOWN;case mn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case mn.INTERNAL:return ae.INTERNAL;case mn.UNAVAILABLE:return ae.UNAVAILABLE;case mn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case mn.NOT_FOUND:return ae.NOT_FOUND;case mn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case mn.ABORTED:return ae.ABORTED;case mn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case mn.DATA_LOSS:return ae.DATA_LOSS;default:return ze(39323,{code:n})}}(ct=mn||(mn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new _s([4294967295,4294967295],0);function Qw(n){const e=Z4().encode(n),t=new OI;return t.update(e),new Uint8Array(t.digest())}function Ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _s([t,r],0),new _s([s,o],0)]}class j_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bc(`Invalid padding: ${t}`);if(r<0)throw new Bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_s.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(_s.fromNumber(r)));return s.compare(J4)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Qw(e),[r,s]=Ww(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new j_(o,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Qw(e),[r,s]=Ww(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new op(je.min(),s,new Zt(st),Rs(),at())}}class kh{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kh(r,t,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class bD{constructor(e,t){this.targetId=e,this.Ce=t}}class AD{constructor(e,t,r=cr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Kw{constructor(){this.ve=0,this.Fe=Xw(),this.Me=cr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),t=at(),r=at();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:o})}})),new kh(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Xw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ez{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.He=yd(),this.Je=yd(),this.Ze=new Zt(st)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Nv(o))if(r===0){const u=new xe(o.path);this.et(t,u,Fn.newNoDocument(u,je.min()))}else bt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Ma(r).toUint8Array()}catch(f){if(f instanceof qI)return gu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new j_(u,s,o)}catch(f){return gu(f instanceof Bc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Nv(h.target)){const f=new xe(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Fn.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=at();this.Je.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new op(e,t,this.Ze,this.je,r);return this.je=Rs(),this.He=yd(),this.Je=yd(),this.Ze=new Zt(st),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Kw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new bn(st),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new bn(st),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yd(){return new Zt(xe.comparator)}function Xw(){return new Zt(xe.comparator)}const tz={asc:"ASCENDING",desc:"DESCENDING"},nz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rz={and:"AND",or:"OR"};let iz=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Pv(n,e){return n.useProto3Json||ep(e)?e:{value:e}}function dg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sz(n,e){return dg(n,e.toTimestamp())}function zi(n){return bt(!!n,49232),je.fromTimestamp((function(t){const r=Oa(t);return new In(r.seconds,r.nanos)})(n))}function H_(n,e){return xv(n,e).canonicalString()}function xv(n,e){const t=(function(s){return new nn(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function SD(n){const e=nn.fromString(n);return bt(DD(e),10190,{key:e.toString()}),e}function kv(n,e){return H_(n.databaseId,e.path)}function Uy(n,e){const t=SD(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(RD(t))}function wD(n,e){return H_(n.databaseId,e)}function az(n){const e=SD(n);return e.length===4?nn.emptyPath():RD(e)}function Vv(n){return new nn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RD(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Zw(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function oz(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ze(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(g,y){return g.useProto3Json?(bt(y===void 0||typeof y=="string",58123),cr.fromBase64String(y||"")):(bt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cr.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const y=g.code===void 0?ae.UNKNOWN:ED(g.code);return new be(y,g.message||"")})(u);t=new AD(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Uy(n,r.document.name),o=zi(r.document.updateTime),u=r.document.createTime?zi(r.document.createTime):je.min(),h=new qr({mapValue:{fields:r.document.fields}}),f=Fn.newFoundDocument(s,o,u,h),g=r.targetIds||[],y=r.removedTargetIds||[];t=new jd(g,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Uy(n,r.document),o=r.readTime?zi(r.readTime):je.min(),u=Fn.newNoDocument(s,o),h=r.removedTargetIds||[];t=new jd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Uy(n,r.document),o=r.removedTargetIds||[];t=new jd([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new K4(s,o),h=r.targetId;t=new bD(h,u)}}return t}function lz(n,e){let t;if(e instanceof xh)t={update:Zw(n,e.key,e.value)};else if(e instanceof z_)t={delete:kv(n,e.key)};else if(e instanceof Xo)t={update:Zw(n,e.key,e.data),updateMask:yz(e.fieldMask)};else{if(!(e instanceof Y4))return ze(16599,{dt:e.type});t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof gh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ph)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof mh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fg)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ze(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:sz(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(n,e.precondition)),t}function uz(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?zi(s.updateTime):zi(o);return u.isEqual(je.min())&&(u=zi(o)),new q4(u,s.transformResults||[])})(t,e)))):[]}function cz(n,e){return{documents:[wD(n,e.path)]}}function hz(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wD(n,s);const o=(function(g){if(g.length!==0)return ID(ws.create(g,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:Ql(E.field),direction:gz(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Pv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function fz(n){let e=az(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){bt(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(v){const E=CD(v);return E instanceof ws&&rD(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((E=>(function(I){return new dh(Wl(I.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,ep(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(v){const E=!!v.before,A=v.values||[];return new hg(A,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const E=!v.before,A=v.values||[];return new hg(A,E)})(t.endAt)),I4(e,s,u,o,h,"F",f,g)}function dz(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CD(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wl(t.unaryFilter.field);return Rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Wl(t.unaryFilter.field);return Rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wl(t.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wl(t.unaryFilter.field);return Rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rn.create(Wl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ws.create(t.compositeFilter.filters.map((r=>CD(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(t.compositeFilter.op))})(n):ze(30097,{filter:n})}function gz(n){return tz[n]}function pz(n){return nz[n]}function mz(n){return rz[n]}function Ql(n){return{fieldPath:n.canonicalString()}}function Wl(n){return ui.fromServerFormat(n.fieldPath)}function ID(n){return n instanceof Rn?(function(t){if(t.op==="=="){if(zw(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NAN"}};if(Uw(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zw(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NAN"}};if(Uw(t.value))return{unaryFilter:{field:Ql(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ql(t.field),op:pz(t.op),value:t.value}}})(n):n instanceof ws?(function(t){const r=t.getFilters().map((s=>ID(s)));return r.length===1?r[0]:{compositeFilter:{op:mz(t.op),filters:r}}})(n):ze(54877,{filter:n})}function yz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function ND(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,r,s,o=je.min(),u=je.min(),h=cr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.yt=e}}function _z(n){const e=fz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(){this.Sn=new bz}addToCollectionParentIndex(e,t){return this.Sn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Na.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class bz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new bn(nn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bn(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OD=41943040;class lr{static withCacheSize(e){return new lr(e,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(OD,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vu(0)}static ar(){return new vu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="LruGarbageCollector",Az=1048576;function tR([n,e],[t,r]){const s=st(n,t);return s===0?st(e,r):s}class Tz{constructor(e){this.Pr=e,this.buffer=new bn(tR),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Sz{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(eR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Iu(t)?Te(eR,"Ignoring IndexedDB error during garbage collection: ",t):await Cu(t)}await this.Ar(3e5)}))}}class wz{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Jg.ce);const r=new Tz(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(Jw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,u,h,f,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(g=Date.now(),Gl()<=Ke.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function Rz(n,e){return new wz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.changes=new Ko((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Wc(r.mutation,s,li.empty(),In.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=at()){const s=No();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=zc();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=No();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,at())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let o=Rs();const u=Qc(),h=(function(){return Qc()})();return t.forEach(((f,g)=>{const y=r.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof Xo)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Wc(y.mutation,g,y.mutation.getFieldMask(),In.now())):u.set(g.key,li.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((g,y)=>u.set(g,y))),t.forEach(((g,y)=>h.set(g,new Iz(y,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Qc();let s=new Zt(((u,h)=>u-h)),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const g=t.get(f);if(g===null)return;let y=r.get(f)||li.empty();y=h.applyToLocalView(g,y),r.set(f,y);const v=(s.get(h.batchId)||at()).add(f);s=s.insert(h.batchId,v)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,v=fD();y.forEach((E=>{if(!o.has(E)){const A=vD(t.get(E),r.get(E));A!==null&&v.set(E,A),o=o.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return oe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return D4(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):oe.resolve(No());let h=ch,f=o;return u.next((g=>oe.forEach(g,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{f=f.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,o))).next((()=>this.computeViews(e,f,g,at()))).next((y=>({batchId:h,changes:hD(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((r=>{let s=zc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=zc();return this.indexManager.getCollectionParents(e,o).next((h=>oe.forEach(h,(f=>{const g=(function(v,E){return new Du(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Fn.newInvalidDocument(y)))}));let h=zc();return u.forEach(((f,g)=>{const y=o.get(f);y!==void 0&&Wc(y.mutation,g,li.empty(),In.now()),ip(t,g)&&(h=h.insert(f,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return oe.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:zi(s.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:_z(s.bundledQuery),readTime:zi(s.readTime)}})(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.overlays=new Zt(xe.comparator),this.Lr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=No();return oe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),oe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const s=No(),o=t.length+1,u=new xe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Zt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let y=o.get(g.largestBatchId);y===null&&(y=No(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=No(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=s)););return oe.resolve(h)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new W4(t,r));let o=this.Lr.get(t);o===void 0&&(o=at(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.kr=new bn(wn.Kr),this.qr=new bn(wn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new wn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new wn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new xe(new nn([])),r=new wn(t,e),s=new wn(t,e+1),o=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new xe(new nn([])),r=new wn(t,e),s=new wn(t,e+1);let o=at();return this.qr.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new wn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return xe.comparator(e.key,t.key)||st(e.Hr,t.Hr)}static Ur(e,t){return st(e.Hr,t.Hr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new bn(wn.Kr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Q4(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Jr=this.Jr.add(new wn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?P_:this.Yn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new wn(t,0),s=new wn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(u=>{const h=this.Zr(u.Hr);o.push(h)})),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(st);return t.forEach((s=>{const o=new wn(s,0),u=new wn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(h=>{r=r.add(h.Hr)}))})),oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const u=new wn(new xe(o),0);let h=new bn(st);return this.Jr.forEachWhile((f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(h=h.add(f.Hr)),!0)}),u),oe.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){bt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return oe.forEach(t.mutations,(s=>{const o=new wn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new wn(t,0),s=this.Jr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.ti=e,this.docs=(function(){return new Zt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Rs();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Fn.newInvalidDocument(s))})),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Rs();const u=t.path,h=new xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||s4(i4(y),r)<=0||(s.has(y.key)||ip(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ze(9500)}ni(e,t){return oe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new kz(this)}getSize(e){return oe.resolve(this.size)}}class kz extends Cz{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),oe.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.persistence=e,this.ri=new Ko((t=>V_(t)),L_),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new F_,this.targetCount=0,this.oi=vu._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),oe.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new vu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.lr(t),oe.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),oe.waitFor(o).next((()=>s))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t){this._i={},this.overlays={},this.ai=new Jg(0),this.ui=!1,this.ui=!0,this.ci=new Mz,this.referenceDelegate=e(this),this.li=new Vz(this),this.indexManager=new Ez,this.remoteDocumentCache=(function(s){return new xz(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new vz(t),this.Pi=new Nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Pz(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const s=new Lz(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Lz extends o4{constructor(e){super(),this.currentSequenceNumber=e}}class q_{constructor(e){this.persistence=e,this.Ri=new F_,this.Ai=null}static Vi(e){return new q_(e)}get di(){if(this.Ai)return this.Ai;throw ze(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,(r=>{const s=xe.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,je.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class gg{constructor(e,t){this.persistence=e,this.fi=new Ko((r=>c4(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Rz(this,t)}static Vi(e,t){return new gg(e,t)}Ti(){}Ii(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return oe.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?oe.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((h=>{h||(r++,o.removeEntry(u,je.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),oe.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ud(e.data.value)),t}wr(e,t,r){return oe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=at(),s=at();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new G_(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gV()?8:l4(Bt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new Uz;return this.ys(e,t,u).next((h=>{if(o.result=h,this.As)return this.ws(e,t,u,h.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Gl()<=Ke.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Yl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(Gl()<=Ke.DEBUG&&Te("QueryEngine","Query:",Yl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Gl()<=Ke.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Yl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(t))):oe.resolve())}gs(e,t){if(Fw(t))return oe.resolve(null);let r=Ui(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Mv(t,null,"F"),r=Ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=at(...o);return this.fs.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const g=this.bs(t,h);return this.Ss(t,g,u,f.readTime)?this.gs(e,Mv(t,null,"F")):this.Ds(e,g,t,f)}))))})))))}ps(e,t,r,s){return Fw(t)||s.isEqual(je.min())?oe.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,s)?oe.resolve(null):(Gl()<=Ke.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Yl(t)),this.Ds(e,u,t,r4(s,ch)).next((h=>h)))}))}bs(e,t){let r=new bn(uD(e));return t.forEach(((s,o)=>{ip(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return Gl()<=Ke.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Yl(t)),this.fs.getDocumentsMatchingQuery(e,t,Na.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LocalStore",Bz=3e8;class jz{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Zt(st),this.Fs=new Ko((o=>V_(o)),L_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dz(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Hz(n,e,t,r){return new jz(n,e,t,r)}async function PD(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=at();for(const g of s){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function Fz(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,y){const v=g.batch,E=v.keys();let A=oe.resolve();return E.forEach((I=>{A=A.next((()=>y.getEntry(f,I))).next((N=>{const O=g.docVersions.get(I);bt(O!==null,48541),N.version.compareTo(O)<0&&(v.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),y.addEntry(N)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=at();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function xD(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function qz(n,e){const t=qe(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const E=s.get(v);if(!E)return;h.push(t.li.removeMatchingKeys(o,y.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,y.addedDocuments,v))));let A=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(cr.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(v,A),(function(N,O,z){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Bz?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,A,y)&&h.push(t.li.updateTargetData(o,A))}));let f=Rs(),g=at();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(Gz(o,u,e.documentUpdates).next((y=>{f=y.Bs,g=y.Ls}))),!r.isEqual(je.min())){const y=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return oe.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(t.vs=s,o)))}function Gz(n,e,t){let r=at(),s=at();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Rs();return t.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Te($_,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function $z(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=P_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Yz(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,oe.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new ba(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Lv(n,e,t){const r=qe(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Iu(u))throw u;Te($_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function nR(n,e,t){const r=qe(n);let s=je.min(),o=at();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,g,y){const v=qe(f),E=v.Fs.get(y);return E!==void 0?oe.resolve(v.vs.get(E)):v.li.getTargetData(g,y)})(r,u,Ui(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:je.min(),t?o:at()))).next((h=>(Qz(r,M4(e),h),{documents:h,ks:o})))))}function Qz(n,e,t){let r=n.Ms.get(e)||je.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class rR{constructor(){this.activeTargetIds=U4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wz{constructor(){this.vo=new rR,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="ConnectivityMonitor";class sR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(iR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(iR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Uv(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RestConnection",Xz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Zz{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===ug?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const u=Uv(),h=this.Qo(e,t.toUriEncodedString());Te(zy,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:g}=new URL(h),y=Ba(g);return this.zo(e,h,f,r,y).then((v=>(Te(zy,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw gu(zy,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,t,r,s,o,u){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=Xz[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection",Oc=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class iu extends Zz{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!iu.c_){const e=kI();Oc(e,xI.STAT_EVENT,(t=>{t.stat===Tv.PROXY?Te(zn,"STAT_EVENT: detected buffering proxy"):t.stat===Tv.NOPROXY&&Te(zn,"STAT_EVENT: detected no buffering proxy")})),iu.c_=!0}}zo(e,t,r,s,o){const u=Uv();return new Promise(((h,f)=>{const g=new MI;g.setWithCredentials(!0),g.listenOnce(PI.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Vd.NO_ERROR:const v=g.getResponseJson();Te(zn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Vd.TIMEOUT:Te(zn,`RPC '${e}' ${u} timed out`),f(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const E=g.getStatus();if(Te(zn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const N=(function(z){const j=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(j)>=0?j:ae.UNKNOWN})(I.status);f(new be(N,I.message))}else f(new be(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new be(ae.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(zn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);Te(zn,`RPC '${e}' ${u} sending request:`,s),g.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=Uv(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");Te(zn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=u.createWebChannel(g,h);this.I_(y);let v=!1,E=!1;const A=new Jz({Ho:I=>{E?Te(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(Te(zn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),Te(zn,`RPC '${e}' stream ${s} sending:`,I),y.send(I))},Jo:()=>y.close()});return Oc(y,Lc.EventType.OPEN,(()=>{E||(Te(zn,`RPC '${e}' stream ${s} transport opened.`),A.i_())})),Oc(y,Lc.EventType.CLOSE,(()=>{E||(E=!0,Te(zn,`RPC '${e}' stream ${s} transport closed`),A.o_(),this.E_(y))})),Oc(y,Lc.EventType.ERROR,(I=>{E||(E=!0,gu(zn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),A.o_(new be(ae.UNAVAILABLE,"The operation could not be completed")))})),Oc(y,Lc.EventType.MESSAGE,(I=>{var N;if(!E){const O=I.data[0];bt(!!O,16349);const z=O,j=(z==null?void 0:z.error)||((N=z[0])==null?void 0:N.error);if(j){Te(zn,`RPC '${e}' stream ${s} received error:`,j);const te=j.status;let he=(function(S){const R=mn[S];if(R!==void 0)return ED(R)})(te),Ee=j.message;he===void 0&&(he=ae.INTERNAL,Ee="Unknown error status: "+te+" with message "+j.message),E=!0,A.o_(new be(he,Ee)),y.close()}else Te(zn,`RPC '${e}' stream ${s} received:`,O),A.__(O)}})),iu.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return VI()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){return new iu(n)}function By(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){return new iz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */iu.c_=!1;class kD{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="PersistentStream";class VD{constructor(e,t,r,s,o,u,h,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kD(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ss(t.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new be(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(aR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Te(aR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t3 extends VD{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return je.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?zi(u.readTime):je.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Vv(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=Nv(f)?{documents:cz(o,f)}:{query:hz(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=TD(o,u.resumeToken);const g=Pv(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(je.min())>0){h.readTime=dg(o,u.snapshotVersion.toTimestamp());const g=Pv(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=dz(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Vv(this.serializer),t.removeTarget=e,this.K_(t)}}class n3 extends VD{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=uz(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Vv(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>lz(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{}class i3 extends r3{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,xv(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ae.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(e,xv(t,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function s3(n,e,t,r){return new i3(n,e,t,r)}class a3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class o3{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Zo(this)&&(Te(jo,"Restarting streams for network reachability change."),await(async function(f){const g=qe(f);g.Ea.add(4),await Vh(g),g.Va.set("Unknown"),g.Ea.delete(4),await up(g)})(this))}))})),this.Va=new a3(r,s)}}async function up(n){if(Zo(n))for(const e of n.Ra)await e(!0)}async function Vh(n){for(const e of n.Ra)await e(!1)}function LD(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),K_(t)?W_(t):Nu(t).O_()&&Q_(t,e))}function Y_(n,e){const t=qe(n),r=Nu(t);t.Ia.delete(e),r.O_()&&UD(t,e),t.Ia.size===0&&(r.O_()?r.L_():Zo(t)&&t.Va.set("Unknown"))}function Q_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nu(n).Z_(e)}function UD(n,e){n.da.$e(e),Nu(n).X_(e)}function W_(n){n.da=new ez({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nu(n).start(),n.Va.ua()}function K_(n){return Zo(n)&&!Nu(n).x_()&&n.Ia.size>0}function Zo(n){return qe(n).Ea.size===0}function zD(n){n.da=void 0}async function l3(n){n.Va.set("Online")}async function u3(n){n.Ia.forEach(((e,t)=>{Q_(n,e)}))}async function c3(n,e){zD(n),K_(n)?(n.Va.ha(e),W_(n)):n.Va.set("Unknown")}async function h3(n,e,t){if(n.Va.set("Online"),e instanceof AD&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.da.removeTarget(h))})(n,e)}catch(r){Te(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pg(n,r)}else if(e instanceof jd?n.da.Xe(e):e instanceof bD?n.da.st(e):n.da.tt(e),!t.isEqual(je.min()))try{const r=await xD(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.da.Tt(u);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(g);y&&o.Ia.set(g,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,g)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(cr.EMPTY_BYTE_STRING,y.snapshotVersion)),UD(o,f);const v=new ba(y.target,f,g,y.sequenceNumber);Q_(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){Te(jo,"Failed to raise snapshot:",r),await pg(n,r)}}async function pg(n,e,t){if(!Iu(e))throw e;n.Ea.add(1),await Vh(n),n.Va.set("Offline"),t||(t=()=>xD(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(jo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await up(n)}))}function BD(n,e){return e().catch((t=>pg(n,t,e)))}async function cp(n){const e=qe(n),t=xa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:P_;for(;f3(e);)try{const s=await $z(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,d3(e,s)}catch(s){await pg(e,s)}jD(e)&&HD(e)}function f3(n){return Zo(n)&&n.Ta.length<10}function d3(n,e){n.Ta.push(e);const t=xa(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function jD(n){return Zo(n)&&!xa(n).x_()&&n.Ta.length>0}function HD(n){xa(n).start()}async function g3(n){xa(n).ra()}async function p3(n){const e=xa(n);for(const t of n.Ta)e.ea(t.mutations)}async function m3(n,e,t){const r=n.Ta.shift(),s=B_.from(r,e,t);await BD(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await cp(n)}async function y3(n,e){e&&xa(n).Y_&&await(async function(r,s){if((function(u){return X4(u)&&u!==ae.ABORTED})(s.code)){const o=r.Ta.shift();xa(r).B_(),await BD(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await cp(r)}})(n,e),jD(n)&&HD(n)}async function oR(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te(jo,"RemoteStore received new credentials");const r=Zo(t);t.Ea.add(3),await Vh(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await up(t)}async function v3(n,e){const t=qe(n);e?(t.Ea.delete(2),await up(t)):e||(t.Ea.add(2),await Vh(t),t.Va.set("Unknown"))}function Nu(n){return n.ma||(n.ma=(function(t,r,s){const o=qe(t);return o.sa(),new t3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:l3.bind(null,n),Yo:u3.bind(null,n),t_:c3.bind(null,n),J_:h3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),K_(n)?W_(n):n.Va.set("Unknown")):(await n.ma.stop(),zD(n))}))),n.ma}function xa(n){return n.fa||(n.fa=(function(t,r,s){const o=qe(t);return o.sa(),new n3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:g3.bind(null,n),t_:y3.bind(null,n),ta:p3.bind(null,n),na:m3.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await cp(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(jo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new X_(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(n,e){if(Ss("AsyncQueue",`${e}: ${n}`),Iu(n))return new be(ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{static emptySet(e){return new su(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=zc(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.ga=new Zt(xe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ze(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class _u{constructor(e,t,r,s,o,u,h,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new _u(e,t,su.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class E3{constructor(){this.queries=uR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=qe(t),o=s.queries;s.queries=uR(),o.forEach(((u,h)=>{for(const f of h.ba)f.onError(r)}))})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function uR(){return new Ko((n=>lD(n)),rp)}async function FD(n,e){const t=qe(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new _3,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Z_(u,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&J_(t)}async function qD(n,e){const t=qe(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function b3(n,e){const t=qe(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.ba)h.Fa(s)&&(r=!0);u.wa=s}}r&&J_(t)}function A3(n,e,t){const r=qe(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function J_(n){n.Ca.forEach((e=>{e.next()}))}var zv,cR;(cR=zv||(zv={})).Ma="default",cR.Cache="cache";class GD{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.key=e}}class YD{constructor(e){this.key=e}}class T3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=uD(e),this.tu=new su(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new lR,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,v)=>{const E=s.get(y),A=ip(this.query,v)?v:null,I=!!E&&this.mutatedKeys.has(E.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?I!==N&&(r.track({type:3,doc:A}),O=!0):this.su(E,A)||(r.track({type:2,doc:A}),O=!0,(f&&this.eu(A,f)>0||g&&this.eu(A,g)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),O=!0):E&&!A&&(r.track({type:1,doc:E}),O=!0,(f||g)&&(h=!0)),O&&(A?(u=u.add(A),o=N?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(A,I){const N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:O})}};return N(A)-N(I)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,g=f!==this.Xa;return this.Xa=f,u.length!==0||g?{snapshot:new _u(this.query,e.tu,o,u,e.mutatedKeys,f===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new YD(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new $D(r))})),t}cu(e){this.Za=e.ks,this.Ya=at();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _u.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const eE="SyncEngine";class S3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class w3{constructor(e){this.key=e,this.hu=!1}}class R3{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ko((h=>lD(h)),rp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Zt(xe.comparator),this.Au=new Map,this.Vu=new F_,this.du={},this.mu=new Map,this.fu=vu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C3(n,e,t=!0){const r=JD(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await QD(r,e,t,!0),s}async function I3(n,e){const t=JD(n);await QD(t,e,!0,!1)}async function QD(n,e,t,r){const s=await Yz(n.localStore,Ui(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await D3(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&LD(n.remoteStore,s),h}async function D3(n,e,t,r,s){n.pu=(v,E,A)=>(async function(N,O,z,j){let te=O.view.ru(z);te.Ss&&(te=await nR(N.localStore,O.query,!1).then((({documents:S})=>O.view.ru(S,te))));const he=j&&j.targetChanges.get(O.targetId),Ee=j&&j.targetMismatches.get(O.targetId)!=null,_e=O.view.applyChanges(te,N.isPrimaryClient,he,Ee);return fR(N,O.targetId,_e.au),_e.snapshot})(n,v,E,A);const o=await nR(n.localStore,e,!0),u=new T3(e,o.ks),h=u.ru(o.documents),f=kh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),g=u.applyChanges(h,n.isPrimaryClient,f);fR(n,t,g.au);const y=new S3(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function N3(n,e,t){const r=qe(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!rp(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Lv(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Y_(r.remoteStore,s.targetId),Bv(r,s.targetId)})).catch(Cu)):(Bv(r,s.targetId),await Lv(r.localStore,s.targetId,!0))}async function O3(n,e){const t=qe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(t.remoteStore,r.targetId))}async function M3(n,e,t){const r=z3(n);try{const s=await(function(u,h){const f=qe(u),g=In.now(),y=h.reduce(((A,I)=>A.add(I.key)),at());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let I=Rs(),N=at();return f.xs.getEntries(A,y).next((O=>{I=O,I.forEach(((z,j)=>{j.isValidDocument()||(N=N.add(z))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,I))).next((O=>{v=O;const z=[];for(const j of h){const te=$4(j,v.get(j.key).overlayedDocument);te!=null&&z.push(new Xo(j.key,te,ZI(te.value.mapValue),ci.exists(!0)))}return f.mutationQueue.addMutationBatch(A,g,z,h)})).next((O=>{E=O;const z=O.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(A,O.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:hD(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let g=u.du[u.currentUser.toKey()];g||(g=new Zt(st)),g=g.insert(h,f),u.du[u.currentUser.toKey()]=g})(r,s.batchId,t),await Lh(r,s.changes),await cp(r.remoteStore)}catch(s){const o=Z_(s,"Failed to persist write");t.reject(o)}}async function WD(n,e){const t=qe(n);try{const r=await qz(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?bt(u.hu,14607):s.removedDocuments.size>0&&(bt(u.hu,42227),u.hu=!1))})),await Lh(t,r,e)}catch(r){await Cu(r)}}function hR(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=qe(u);f.onlineState=h;let g=!1;f.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(g=!0)})),g&&J_(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P3(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new Zt(xe.comparator);u=u.insert(o,Fn.newNoDocument(o,je.min()));const h=at().add(o),f=new op(je.min(),new Map,new Zt(st),u,h);await WD(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),tE(r)}else await Lv(r.localStore,e,!1).then((()=>Bv(r,e,t))).catch(Cu)}async function x3(n,e){const t=qe(n),r=e.batch.batchId;try{const s=await Fz(t.localStore,e);XD(t,r,null),KD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Lh(t,s)}catch(s){await Cu(s)}}async function k3(n,e,t){const r=qe(n);try{const s=await(function(u,h){const f=qe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next((v=>(bt(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(g,v)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>f.localDocuments.getDocuments(g,y)))}))})(r.localStore,e);XD(r,e,t),KD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Lh(r,s)}catch(s){await Cu(s)}}function KD(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function XD(n,e,t){const r=qe(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Bv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||ZD(n,r)}))}function ZD(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Y_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),tE(n))}function fR(n,e,t){for(const r of t)r instanceof $D?(n.Vu.addReference(r.key,e),V3(n,r)):r instanceof YD?(Te(eE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||ZD(n,r.key)):ze(19791,{wu:r})}function V3(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Te(eE,"New document in limbo: "+t),n.Eu.add(r),tE(n))}function tE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(nn.fromString(e)),r=n.fu.next();n.Au.set(r,new w3(t)),n.Ru=n.Ru.insert(t,r),LD(n.remoteStore,new ba(Ui(np(t.path)),r,"TargetPurposeLimboResolution",Jg.ce))}}async function Lh(n,e,t){const r=qe(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((g=>{var y;if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(g){s.push(g);const v=G_.Es(f.targetId,g);o.push(v)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,g){const y=qe(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>oe.forEach(g,(E=>oe.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>oe.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!Iu(v))throw v;Te($_,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const A=y.vs.get(E),I=A.snapshotVersion,N=A.withLastLimboFreeSnapshotVersion(I);y.vs=y.vs.insert(E,N)}}})(r.localStore,o))}async function L3(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te(eE,"User change. New user:",e.toKey());const r=await PD(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new be(ae.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lh(t,r.Ns)}}function U3(n,e){const t=qe(n),r=t.Au.get(e);if(r&&r.hu)return at().add(r.key);{let s=at();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function JD(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P3.bind(null,e),e.Pu.J_=b3.bind(null,e.eventManager),e.Pu.yu=A3.bind(null,e.eventManager),e}function z3(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k3.bind(null,e),e}class mg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Hz(this.persistence,new zz,e.initialUser,this.serializer)}Cu(e){return new MD(q_.Vi,this.serializer)}Du(e){return new Wz}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mg.provider={build:()=>new mg};class B3 extends mg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){bt(this.persistence.referenceDelegate instanceof gg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sz(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new MD((r=>gg.Vi(r,t)),this.serializer)}}class jv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L3.bind(null,this.syncEngine),await v3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E3})()}createDatastore(e){const t=lp(e.databaseInfo.databaseId),r=e3(e.databaseInfo);return s3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,h){return new o3(r,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>hR(this.syncEngine,t,0)),(function(){return sR.v()?new sR:new Kz})())}createSyncEngine(e,t){return(function(s,o,u,h,f,g,y){const v=new R3(s,o,u,h,f,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=qe(s);Te(jo,"RemoteStore shutting down."),o.Ea.add(5),await Vh(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}jv.provider={build:()=>new jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="FirestoreClient";class j3{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=M_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Te(ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Te(ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Z_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jy(n,e){n.asyncQueue.verifyOperationInProgress(),Te(ka,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await PD(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function dR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H3(n);Te(ka,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>oR(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>oR(e.remoteStore,s))),n._onlineComponents=e}async function H3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(ka,"Using user provided OfflineComponentProvider");try{await jy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;gu("Error using user provided cache. Falling back to memory cache: "+t),await jy(n,new mg)}}else Te(ka,"Using default OfflineComponentProvider"),await jy(n,new B3(void 0));return n._offlineComponents}async function t1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(ka,"Using user provided OnlineComponentProvider"),await dR(n,n._uninitializedComponentsProvider._online)):(Te(ka,"Using default OnlineComponentProvider"),await dR(n,new jv))),n._onlineComponents}function F3(n){return t1(n).then((e=>e.syncEngine))}async function Hv(n){const e=await t1(n),t=e.eventManager;return t.onListen=C3.bind(null,e.syncEngine),t.onUnlisten=N3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O3.bind(null,e.syncEngine),t}function q3(n,e,t,r){const s=new e1(r),o=new GD(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>FD(await Hv(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>qD(await Hv(n),o)))}}function G3(n,e,t={}){const r=new Ca;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,g){const y=new e1({next:E=>{y.Nu(),u.enqueueAndForget((()=>qD(o,v)));const A=E.docs.has(h);!A&&E.fromCache?g.reject(new be(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?g.reject(new be(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),v=new GD(np(h.path),y,{includeMetadataChanges:!0,Ka:!0});return FD(o,v)})(await Hv(n),n.asyncQueue,e,t,r))),r.promise}function $3(n,e){const t=new Ca;return n.asyncQueue.enqueueAndForget((async()=>M3(await F3(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="ComponentProvider",gR=new Map;function Q3(n,e,t,r,s){return new d4(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,n1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firestore.googleapis.com",pR=!0;let mR=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r1,this.ssl=pR}else this.host=e.host,this.ssl=e.ssl??pR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Az)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class hp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $U;switch(r.type){case"firstParty":return new KU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=gR.get(t);r&&(Te(Y3,"Removing Datastore"),gR.delete(t),r.terminate())})(this),Promise.resolve()}}function W3(n,e,t,r={}){var g;n=Li(n,hp);const s=Ba(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(LC(`https://${h}`),UC("Firestore",!0)),o.host!==r1&&o.host!==h&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!Lo(f,u)&&(n._setSettings(f),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=jn.MOCK_USER;else{y=uV(r.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new jn(E)}n._authCredentials=new YU(new UI(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=class i1{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new i1(this.firestore,e,this._query)}},Gn=class jc{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jc(this.firestore,e,this._key)}toJSON(){return{type:jc._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ph(t,jc._jsonSchema))return new jc(e,r||null,new xe(nn.fromString(t.referencePath)))}};Gn._jsonSchemaVersion="firestore/documentReference/1.0",Gn._jsonSchema={type:vn("string",Gn._jsonSchemaVersion),referencePath:vn("string")};let au=class s1 extends Uh{constructor(e,t,r){super(e,t,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new xe(e))}withConverter(e){return new s1(this.firestore,e,this._path)}};function Fv(n,e,...t){if(n=Xt(n),BI("collection","path",e),n instanceof hp){const r=nn.fromString(e,...t);return Dw(r),new au(n,null,r)}{if(!(n instanceof Gn||n instanceof au))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return Dw(r),new au(n.firestore,null,r)}}function zh(n,e,...t){if(n=Xt(n),arguments.length===1&&(e=M_.newId()),BI("doc","path",e),n instanceof hp){const r=nn.fromString(e,...t);return Iw(r),new Gn(n,null,new xe(r))}{if(!(n instanceof Gn||n instanceof au))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nn.fromString(e,...t));return Iw(r),new Gn(n.firestore,n instanceof au?n.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="AsyncQueue";class vR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kD(this,"async_queue_retry"),this._c=()=>{const r=By();r&&Te(yR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=By();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=By();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Iu(e))throw e;Te(yR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",_R(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=X_.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ze(47125,{Pc:_R(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function _R(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}let Ho=class extends hp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new vR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vR(e),this._firestoreClient=void 0,await e}}};function K3(n,e){const t=typeof n=="object"?n:YC(),r=typeof n=="string"?n:ug,s=A_(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=oV("firestore");o&&W3(s,...o)}return s}function nE(n){if(n._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X3(n),n._firestoreClient}function X3(n){var r,s,o,u;const e=n._freezeSettings(),t=Q3(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new j3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(cr.fromBase64String(e))}catch(t){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ph(e,Kl._jsonSchema))return Kl.fromBase64String(e.bytes)}};ou._jsonSchemaVersion="firestore/bytes/1.0",ou._jsonSchema={type:vn("string",ou._jsonSchemaVersion),bytes:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rE=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=class Hd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hd._jsonSchemaVersion}}static fromJSON(e){if(Ph(e,Hd._jsonSchema))return new Hd(e.latitude,e.longitude)}};lu._jsonSchemaVersion="firestore/geoPoint/1.0",lu._jsonSchema={type:vn("string",lu._jsonSchemaVersion),latitude:vn("number"),longitude:vn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po=class Fd{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ph(e,Fd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Fd(e.vectorValues);throw new be(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:vn("string",Po._jsonSchemaVersion),vectorValues:vn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^__.*__$/;class J3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new xh(e,this.data,t,this.fieldTransforms)}}function o1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{dataSource:n})}}let e6=class l1{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new l1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(o1(this.dataSource)&&Z3.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},t6=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lp(e)}createContext(e,t,r,s=!1){return new e6({dataSource:e,methodName:t,targetDoc:r,path:ui.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function iE(n){const e=n._freezeSettings(),t=lp(n._databaseId);return new t6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u1(n,e,t,r,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);f1("Data must be an object, but it was:",u,r);const h=c1(r,u);let f,g;if(o.merge)f=new li(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const E=fp(e,v,t);if(!u.contains(E))throw new be(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);s6(y,E)||y.push(E)}f=new li(y),g=u.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,g=u.fieldTransforms;return new J3(new qr(h),f,g)}class sE extends rE{_toFieldTransform(e){return new H4(e.path,new gh)}isEqual(e){return e instanceof sE}}function n6(n,e,t,r=!1){return aE(t,n.createContext(r?4:3,e))}function aE(n,e){if(h1(n=Xt(n)))return f1("Unsupported field value:",e,n),c1(n,e);if(n instanceof rE)return(function(r,s){if(!o1(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let f=aE(h,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=In.fromDate(r);return{timestampValue:dg(s.serializer,o)}}if(r instanceof In){const o=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dg(s.serializer,o)}}if(r instanceof lu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ou)return{bytesValue:TD(s.serializer,r._byteString)};if(r instanceof Gn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Po)return(function(u,h){const f=u instanceof Po?u.toArray():u;return{mapValue:{fields:{[KI]:{stringValue:XI},[cg]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return U_(h.serializer,y)}))}}}}}})(r,s);if(ND(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Zg(r)}`)})(n,e)}function c1(n,e){const t={};return FI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wo(n,((r,s)=>{const o=aE(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof In||n instanceof lu||n instanceof ou||n instanceof Gn||n instanceof rE||n instanceof Po||ND(n))}function f1(n,e,t){if(!h1(t)||!jI(t)){const r=Zg(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function fp(n,e,t){if((e=Xt(e))instanceof a1)return e._internalPath;if(typeof e=="string")return i6(n,e);throw yg("Field path arguments must be of type string or ",n,!1,void 0,t)}const r6=new RegExp("[~\\*/\\[\\]]");function i6(n,e,t){if(e.search(r6)>=0)throw yg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new a1(...e.split("."))._internalPath}catch{throw yg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yg(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new be(ae.INVALID_ARGUMENT,h+n+f)}function s6(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{convertValue(e,t="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wo(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){var r,s,o;const t=(o=(s=(r=e.fields)==null?void 0:r[cg].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>un(u.doubleValue)));return new Po(t)}convertGeoPoint(e){return new lu(un(e.latitude),un(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nn.fromString(e);bt(DD(r),9688,{name:e});const s=new WI(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return s.isEqual(t)||Ss(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends a6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ou(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function o6(){return new sE("serverTimestamp")}const ER="@firebase/firestore",bR="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(fp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class l6 extends g1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let oE=class{},p1=class extends oE{};function c6(n,e,...t){let r=[];e instanceof oE&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof f6)).length,h=o.filter((f=>f instanceof h6)).length;if(u>1||u>0&&h>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}let h6=class m1 extends p1{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new m1(e,t,r)}_apply(e){const t=this._parse(e);return _1(e._query,t),new Uh(e.firestore,e.converter,Ov(e._query,t))}_parse(e){const t=iE(e.firestore);return(function(o,u,h,f,g,y,v){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){SR(v,y);const I=[];for(const N of v)I.push(TR(f,o,N));E={arrayValue:{values:I}}}else E=TR(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||SR(v,y),E=n6(h,u,v,y==="in"||y==="not-in");return Rn.create(g,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}},f6=class y1 extends oE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new y1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ws.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)_1(u,f),u=Ov(u,f)})(e._query,t),new Uh(e.firestore,e.converter,Ov(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};class lE extends p1{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lE(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dh(o,u)})(e._query,this._field,this._direction);return new Uh(e.firestore,e.converter,O4(e._query,t))}}function v1(n,e="asc"){const t=e,r=fp("orderBy",n);return lE._create(r,t)}function TR(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oD(e)&&t.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nn.fromString(t));if(!xe.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lw(n,new xe(r))}if(t instanceof Gn)return Lw(n,t._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(t)}.`)}function SR(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _1(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function E1(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Hc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends g1{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(fp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:vn("string",xo._jsonSchemaVersion),bundleSource:vn("string","DocumentSnapshot"),bundleName:vn("string"),bundle:vn("string")};class qd extends xo{data(e={}){return super.data(e)}}class uu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new qd(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new qd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Hc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new qd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Hc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:d6(h.type),doc:f,oldIndex:g,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=M_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uu._jsonSchemaVersion="firestore/querySnapshot/1.0",uu._jsonSchema={type:vn("string",uu._jsonSchemaVersion),bundleSource:vn("string","QuerySnapshot"),bundleName:vn("string"),bundle:vn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(n){n=Li(n,Gn);const e=Li(n.firestore,Ho),t=nE(e);return G3(t,n._key).then((r=>T1(e,n,r)))}function p6(n,e,t){n=Li(n,Gn);const r=Li(n.firestore,Ho),s=E1(n.converter,e),o=iE(r);return uE(r,[u1(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ci.none())])}function b1(n){return uE(Li(n.firestore,Ho),[new z_(n._key,ci.none())])}function m6(n,e){const t=Li(n.firestore,Ho),r=zh(n),s=E1(n.converter,e),o=iE(n.firestore);return uE(t,[u1(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function A1(n,...e){var g,y,v;n=Xt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AR(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(AR(e[r])){const E=e[r];e[r]=(g=E.next)==null?void 0:g.bind(E),e[r+1]=(y=E.error)==null?void 0:y.bind(E),e[r+2]=(v=E.complete)==null?void 0:v.bind(E)}let o,u,h;if(n instanceof Gn)u=Li(n.firestore,Ho),h=np(n._key.path),o={next:E=>{e[r]&&e[r](T1(u,n,E))},error:e[r+1],complete:e[r+2]};else{const E=Li(n,Uh);u=Li(E.firestore,Ho),h=E._query;const A=new d1(u);o={next:I=>{e[r]&&e[r](new uu(u,A,E,I))},error:e[r+1],complete:e[r+2]},u6(n._query)}const f=nE(u);return q3(f,h,s,o)}function uE(n,e){const t=nE(n);return $3(t,e)}function T1(n,e,t){const r=t.docs.get(e._key),s=new d1(n);return new xo(n,s,e._key,r,new Hc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){GU(Gi),As(new Hi("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Ho(new QU(r.getProvider("auth-internal")),new XU(u,r.getProvider("app-check-internal")),g4(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Qr(ER,bR,e),Qr(ER,bR,"esm2020")})();const y6={apiKey:"AIzaSyBtz3-0rA0I3MzcTkk462AHwJ6sr-HOeR4",authDomain:"appagenda-aa16e.firebaseapp.com",projectId:"appagenda-aa16e",storageBucket:"appagenda-aa16e.firebasestorage.app",messagingSenderId:"941843322277",appId:"1:941843322277:web:feecf7bbcad197c3f1c44c",measurementId:"G-JLY1WZJG3W"},S1=$C(y6),Ia=NI(S1),ko=K3(S1);function v6(){const[n,e]=q.useState(""),[t,r]=q.useState(""),[s,o]=q.useState(""),u=Su();async function h(f){f.preventDefault();try{const y=(await N2(Ia,t,s)).user;await p6(zh(ko,"User",y.uid),{nome:n,email:y.email,createdAt:new Date}).then(()=>{console.log("Usuario cadastrado"),e(""),r(""),o(""),u("/Projeto-AppAgenda/")})}catch(g){console.log(`ERROR: ${g}`),g.code==="auth/email-already-in-use"&&alert("Email ja cadastrado, faa login")}}return ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{className:"flex justify-center items-center h-[200px] text-4xl font-medium",children:ce.jsx("h1",{children:"Bem-Vindo"})}),ce.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[ce.jsxs("form",{onSubmit:h,className:"flex flex-col items-center ",children:[ce.jsx("div",{className:"flex w-[350px] text-xl font-semibold",children:ce.jsx("label",{children:"Nome"})}),ce.jsx("input",{type:"text",placeholder:"Seu nome",value:n,onChange:f=>e(f.target.value),required:!0,minLength:4,maxLength:8,className:"w-[350px] bg-green-200/50 border rounded my-2 h-[50px] p-1 text-lg"}),ce.jsx("label",{className:"flex w-[350px] text-xl font-semibold",children:"Email"}),ce.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:f=>r(f.target.value),required:!0,className:"w-[350px] bg-green-200/50 border rounded my-4 h-[50px] p-1 text-lg"}),ce.jsx("label",{className:"flex w-[350px] text-xl font-semibold",children:"Senha"}),ce.jsx("input",{type:"password",placeholder:"*******",value:s,onChange:f=>o(f.target.value),minLength:6,required:!0,className:"w-[350px] bg-green-200/50 border rounded my-4 h-[50px] p-1 text-lg"}),ce.jsx("button",{type:"submit",className:"bg-green-900 w-[350px] h-[50px] rounded text-white text-xl cursor-pointer",children:"Cadastrar"})]}),ce.jsx("div",{className:"flex",children:ce.jsx(ah,{className:"underline mt-1 font-medium cursor-pointer",to:"/Projeto-AppAgenda/Login",children:"Ja tem uma conta? ENTRAR!"})})]})]})}function _6(){const[n,e]=q.useState(""),[t,r]=q.useState(""),s=Su();async function o(u){u.preventDefault();try{await O2(Ia,n,t),console.log("Usuario logado"),e(""),r(""),s("/Projeto-AppAgenda/")}catch(h){console.log(h),h.code==="auth/invalid-credential"?alert("Email ou senha incorretos, Se no tiver cadastro faa-o"):alert("Erro ao fazer login")}}return ce.jsx(ce.Fragment,{children:ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{className:"flex justify-center items-center h-[200px] text-4xl font-medium",children:ce.jsx("h1",{children:"Que bom que voltou!"})}),ce.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[ce.jsxs("form",{onSubmit:o,className:"flex flex-col items-center ",children:[ce.jsx("label",{className:"flex w-[350px] text-xl font-semibold",children:"Email"}),ce.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:u=>e(u.target.value),required:!0,className:"w-[350px] bg-green-200/50 border rounded my-4 h-[50px] p-1 text-lg"}),ce.jsx("label",{className:"flex w-[350px] text-xl font-semibold",children:"Senha"}),ce.jsx("input",{type:"password",placeholder:"*******",value:t,onChange:u=>r(u.target.value),minLength:6,required:!0,className:"w-[350px] bg-green-200/50 border rounded my-4 h-[50px] p-1 text-lg"}),ce.jsx("button",{type:"submit",className:"bg-green-900 w-[350px] h-[50px] rounded text-white text-xl cursor-pointer",children:"Entrar"})]}),ce.jsx("div",{className:"flex",children:ce.jsx("a",{className:"underline mt-1 font-medium cursor-pointer",children:"No tem uma conta? Cadastrar!"})})]})]})})}function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E6=w1,R1=new ja("auth","Firebase",w1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Ih("@firebase/auth");function b6(n,...e){vg.logLevel<=Ke.WARN&&vg.warn(`Auth (${Gi}): ${n}`,...e)}function Gd(n,...e){vg.logLevel<=Ke.ERROR&&vg.error(`Auth (${Gi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,...e){throw cE(n,...e)}function C1(n,...e){return cE(n,...e)}function I1(n,e,t){const r={...E6(),[e]:t};return new ja("auth","Firebase",r).create(e,{appName:n.name})}function $d(n){return I1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return R1.create(n,...e)}function Et(n,e,...t){if(!n)throw cE(e,...t)}function Kc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gd(e),new Error(e)}function _g(n,e){n||Kc(e)}function A6(){return RR()==="http:"||RR()==="https:"}function RR(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A6()||jC()||"connection"in navigator)?navigator.onLine:!0}function S6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,t){this.shortDelay=e,this.longDelay=t,_g(t>e,"Short delay should be less than long delay!"),this.isMobile=zC()||HC()}get(){return T6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(n,e){_g(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D6=new w6(3e4,6e4);function N1(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function dp(n,e,t,r,s={}){return O1(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Yo({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:f,...o};return BC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(g.credentials="include"),D1.fetch()(await M1(n,n.config.apiHost,t,h),g)})}async function O1(n,e,t){n._canInitEmulator=!1;const r={...C6,...e};try{const s=new N6(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw _d(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw _d(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw _d(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw I1(n,y,g);wR(n,y)}}catch(s){if(s instanceof Zr)throw s;wR(n,"network-request-failed",{message:String(s)})}}async function M1(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?R6(n.config,s):`${n.config.apiScheme}://${s}`;return I6.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class N6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(C1(this.auth,"network-request-failed")),D6.get())})}}function _d(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=C1(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(n,e){return dp(n,"POST","/v1/accounts:delete",e)}async function Eg(n,e){return dp(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M6(n,e=!1){const t=Xt(n),r=await t.getIdToken(e),s=P1(r);Et(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Xc(Hy(s.auth_time)),issuedAtTime:Xc(Hy(s.iat)),expirationTime:Xc(Hy(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hy(n){return Number(n)*1e3}function P1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=E_(t);return s?JSON.parse(s):(Gd("Failed to decode base64 JWT payload"),null)}catch(s){return Gd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CR(n){const e=P1(n);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&P6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function P6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xc(this.lastLoginAt),this.creationTime=Xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(n){var v;const e=n.auth,t=await n.getIdToken(),r=await qv(n,Eg(e,{idToken:t}));Et(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(v=s.providerUserInfo)!=null&&v.length?x1(s.providerUserInfo):[],u=V6(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),g=h?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function k6(n){const e=Xt(n);await bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V6(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(n,e){const t=await O1(n,{},async()=>{const r=Yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await M1(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Ba(n.emulatorConfig.host)&&(f.credentials="include"),D1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function U6(n,e){return dp(n,"POST","/v2/accounts:revokeToken",N1(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const t=CR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await L6(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new cu;return r&&(Et(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Et(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Et(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return Kc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(n,e){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new x6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qv(this,this.stsTokenManager.getToken(this.auth,e));return Et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M6(this,e)}reload(){return k6(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject($d(this.auth));const e=await this.getIdToken();return await qv(this,O6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:I,stsTokenManager:N}=t;Et(v&&N,e,"internal-error");const O=cu.fromJSON(this.name,N);Et(typeof v=="string",e,"internal-error"),fa(r,e.name),fa(s,e.name),Et(typeof E=="boolean",e,"internal-error"),Et(typeof A=="boolean",e,"internal-error"),fa(o,e.name),fa(u,e.name),fa(h,e.name),fa(f,e.name),fa(g,e.name),fa(y,e.name);const z=new Pi({uid:v,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:O,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(z.providerData=I.map(j=>({...j}))),f&&(z._redirectEventId=f),z}static async _fromIdTokenResponse(e,t,r=!1){const s=new cu;s.updateFromServerResponse(t);const o=new Pi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bg(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Et(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?x1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new cu;h.updateFromIdToken(r);const f=new Pi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Map;function Oo(n){_g(n instanceof Function,"Expected a class definition");let e=IR.get(n);return e?(_g(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,IR.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}k1.type="NONE";const DR=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e,t){return`firebase:${n}:${e}:${t}`}class hu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Fy(this.userKey,s.apiKey,o),this.fullPersistenceKey=Fy("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Eg(this.auth,{idToken:e}).catch(()=>{});return t?Pi._fromGetAccountInfoResponse(this.auth,t,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new hu(Oo(DR),e,r);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=s[0]||Oo(DR);const u=Fy(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const E=await Eg(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Pi._fromGetAccountInfoResponse(e,E,y)}else v=Pi._fromJSON(e,y);g!==o&&(h=v),o=g;break}}catch{}const f=s.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new hu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(u)}catch{}})),new hu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q6(e))return"Blackberry";if(G6(e))return"Webos";if(B6(e))return"Safari";if((e.includes("chrome/")||j6(e))&&!e.includes("edge/"))return"Chrome";if(F6(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function z6(n=Bt()){return/firefox\//i.test(n)}function B6(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j6(n=Bt()){return/crios\//i.test(n)}function H6(n=Bt()){return/iemobile/i.test(n)}function F6(n=Bt()){return/android/i.test(n)}function q6(n=Bt()){return/blackberry/i.test(n)}function G6(n=Bt()){return/webos/i.test(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,e=[]){let t;switch(n){case"Browser":t=NR(Bt());break;case"Worker":t=`${NR(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(n,e={}){return dp(n,"GET","/v2/passwordPolicy",N1(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=6;class W6{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Q6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OR(this),this.idTokenSubscription=new OR(this),this.beforeStateQueue=new $6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oo(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await hu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Eg(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(En(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject($d(this));const t=e?Xt(e):null;return t&&Et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject($d(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject($d(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y6(this),t=new W6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ja("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await U6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oo(e)||this._popupRedirectResolver;Et(t,this,"argument-error"),this.redirectPersistenceManager=await hu.create(this,[Oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&b6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function X6(n){return Xt(n)}class OR{constructor(e){this.auth=e,this.observer=null,this.addObserver=FC(t=>this.observer=t)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Z6(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Oo);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J6(n,e,t,r){return Xt(n).onAuthStateChanged(e,t,r)}var MR="@firebase/auth",PR="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nB(n){As(new Hi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Et(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(n)},g=new K6(r,s,o,f);return Z6(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),As(new Hi("auth-internal",e=>{const t=X6(e.getProvider("auth").getImmediate());return(r=>new eB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(MR,PR,tB(n)),Qr(MR,PR,"esm2020")}nB("Cordova");var L1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xR=Yr.createContext&&Yr.createContext(L1),rB=["attr","size","title"];function iB(n,e){if(n==null)return{};var t=sB(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function sB(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Ag(){return Ag=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ag.apply(this,arguments)}function kR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Tg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(t),!0).forEach(function(r){aB(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kR(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aB(n,e,t){return e=oB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function oB(n){var e=lB(n,"string");return typeof e=="symbol"?e:e+""}function lB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function U1(n){return n&&n.map((e,t)=>Yr.createElement(e.tag,Tg({key:t},e.attr),U1(e.child)))}function uB(n){return e=>Yr.createElement(cB,Ag({attr:Tg({},n.attr)},e),U1(n.child))}function cB(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=iB(n,rB),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Yr.createElement("svg",Ag({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Tg(Tg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Yr.createElement("title",null,o),n.children)};return xR!==void 0?Yr.createElement(xR.Consumer,null,t=>e(t)):e(L1)}function hB(n){return uB({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function z1(){const n=Su(),[e,t]=q.useState(!1),[r,s]=q.useState(""),[o,u]=q.useState({width:window.innerWidth,height:window.innerHeight});async function h(){const f=J6(Ia,async g=>{if(!g){n("/Projeto-AppAgenda/Cadastro");return}const y=zh(ko,"User",g.uid),v=await g6(y);v.exists()&&s(v.data().nome)});return()=>f()}return q.useEffect(()=>{h();function f(){u({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[o]),ce.jsx("main",{className:`m-0 ${e?"bg-gray-200":"bg-white"}`,children:o.width<=650&&ce.jsxs("div",{children:[ce.jsx("header",{className:"h-[50px] relative",children:ce.jsxs("section",{className:"flex justify-between px-2 items-center h-[45px]",children:[e?ce.jsx(ce.Fragment,{children:ce.jsxs("div",{onClick:()=>{t(!1)},className:"z-30 absolute mt-2",children:[ce.jsx("div",{className:"bg-black h-[2px] w-[30px] x1"}),ce.jsx("div",{className:"bg-black h-[2px] w-[30px] my-1 x2"})]})}):ce.jsx(ce.Fragment,{}),ce.jsxs("div",{className:"mt-2",onClick:()=>{t(!0)},children:[ce.jsx("div",{className:"bg-black w-[25px] h-[2px]"}),ce.jsx("div",{className:"bg-black w-[25px] h-[2px] my-1 "}),ce.jsx("div",{className:"bg-black w-[25px] h-[2px] my-1 "})]}),ce.jsx("div",{className:"m-2 mt-3 flex w-full items-center",children:ce.jsx(ah,{to:"/Projeto-AppAgenda/",children:ce.jsx("h1",{className:" font-bold z-10 ",children:"Plann"})})}),ce.jsx(ah,{to:"/Projeto-AppAgenda/Login",children:ce.jsxs("div",{className:"flex items-center font-medium",children:[ce.jsx(hB,{size:20}),r]})})]})}),ce.jsx("div",{className:`
                            fixed top-0 left-0 h-screen w-6/12 bg-white z-20
                            transform transition-transform duration-300 ease-in-out
                            ${e?"translate-x-0":"-translate-x-full"}
                        `}),ce.jsx("div",{className:`bg-green-700
                        w-full h-[1px] `})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp="12.8.0";function fB(n){gp=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Ih("@firebase/firestore");function dB(n,...e){if(Sg.logLevel<=Ke.DEBUG){const t=e.map(B1);Sg.debug(`Firestore (${gp}): ${n}`,...t)}}function gB(n,...e){if(Sg.logLevel<=Ke.ERROR){const t=e.map(B1);Sg.error(`Firestore (${gp}): ${n}`,...t)}}function B1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,j1(n,r,t)}function j1(n,e,t){let r=`FIRESTORE (${gp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gB(r),new Error(r)}function wg(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||j1(e,s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ut extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Fr.UNAUTHENTICATED)))}shutdown(){}}class yB{constructor(e){this.auth=null,e.onInit((t=>{this.auth=t}))}getToken(){return this.auth?this.auth.getToken().then((e=>e?(wg(typeof e.accessToken=="string",42297,{t:e}),new pB(e.accessToken,new Fr(this.auth.getUid()))):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}class vB{constructor(e,t,r){this.i=e,this.o=t,this.u=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);const e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}}class _B{constructor(e,t,r){this.i=e,this.o=t,this.u=r}getToken(){return Promise.resolve(new vB(this.i,this.o,this.u))}start(e,t){e.enqueueRetryable((()=>t(Fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EB{constructor(e,t){this.m=t,this.appCheck=null,this.P=null,En(e)&&e.settings.appCheckToken&&(this.P=e.settings.appCheckToken),t.onInit((r=>{this.appCheck=r}))}getToken(){return this.P?Promise.resolve(new VR(this.P)):this.appCheck?this.appCheck.getToken().then((e=>e?(wg(typeof e.token=="string",3470,{tokenResult:e}),new VR(e.token)):null)):Promise.resolve(null)}invalidateToken(){}start(e,t){}shutdown(){}}const LR="(default)";class Rg{constructor(e,t){this.projectId=e,this.database=t||LR}static empty(){return new Rg("","")}get isDefaultDatabase(){return this.database===LR}isEqual(e){return e instanceof Rg&&e.projectId===this.projectId&&e.database===this.database}}function bB(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rg(n.options.projectId,e)}function yn(n,e){return n<e?-1:n>e?1:0}function $v(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return qy(s)===qy(o)?yn(s,o):qy(s)?1:-1}return yn(n.length,e.length)}const AB=55296,TB=57343;function qy(n){const e=n.charCodeAt(0);return e>=AB&&e<=TB}function SB(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Va(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Va(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Oi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return yn(e.length,t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),s=Oi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):$v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class Ir extends Oi{construct(e,t,r){return new Ir(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ut(lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Ir(t)}static emptyPath(){return new Ir([])}}const wB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Co extends Oi{construct(e,t,r){return new Co(e,t,r)}static isValidIdentifier(e){return wB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Co.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UR}static keyField(){return new Co([UR])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ut(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ut(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ut(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new ut(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Co(t)}static emptyPath(){return new Co([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.path=e}static fromPath(e){return new Gr(Ir.fromString(e))}static fromName(e){return new Gr(Ir.fromString(e).popFirst(5))}static empty(){return new Gr(Ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ir.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ir.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gr(new Ir(e.slice()))}}function H1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Va(12329,{type:typeof n})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}function Cg(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zR,ht;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ht=zR||(zR={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function CB(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new IB("Invalid base64 string: "+o):o}})(e);return new Cs(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yh(n){if(wg(!!n,39018),typeof n=="string"){let e=0;const t=DB.exec(n);if(wg(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ig(n){return typeof n=="string"?Cs.fromBase64String(n):Cs.fromUint8Array(n)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bh(n,e){if(!H1(n))throw new ut(lt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ut(lt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=-62135596800,HR=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*HR);return new Zn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jR)throw new ut(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HR}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bh(e,Zn._jsonSchema))return new Zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zn._jsonSchemaVersion="firestore/timestamp/1.0",Zn._jsonSchema={type:Wr("string",Zn._jsonSchemaVersion),seconds:Wr("number"),nanoseconds:Wr("number")};function NB(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{}).__type__)==null?void 0:r.stringValue)==="server_timestamp"}function Dg(n){const e=yh(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__type__",OB="__max__",Ed={},q1="__vector__",Yv="value";function Eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?NB(n)?4:(function(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OB})(n)?9007199254740991:(function(t){var s,o;return((o=(((s=t==null?void 0:t.mapValue)==null?void 0:s.fields)||{})[F1])==null?void 0:o.stringValue)===q1})(n)?10:11:Va(28295,{value:n})}function Qv(n,e){if(n===e)return!0;const t=Eu(n);if(t!==Eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dg(n).isEqual(Dg(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=yh(s.timestampValue),h=yh(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Ig(s.bytesValue).isEqual(Ig(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Hn(s.geoPointValue.latitude)===Hn(o.geoPointValue.latitude)&&Hn(s.geoPointValue.longitude)===Hn(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Hn(s.integerValue)===Hn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Hn(s.doubleValue),h=Hn(o.doubleValue);return u===h?Cg(u)===Cg(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return SB(n.arrayValue.values||[],e.arrayValue.values||[],Qv);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(BR(u)!==BR(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Qv(u[f],h[f])))return!1;return!0})(n,e);default:return Va(52216,{left:n})}}function vh(n,e){return(n.values||[]).find((t=>Qv(t,e)))!==void 0}function Ng(n,e){if(n===e)return 0;const t=Eu(n),r=Eu(e);if(t!==r)return yn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=Hn(o.integerValue||o.doubleValue),f=Hn(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return FR(n.timestampValue,e.timestampValue);case 4:return FR(Dg(n),Dg(e));case 5:return $v(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ig(o),f=Ig(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=yn(h[g],f[g]);if(y!==0)return y}return yn(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=yn(Hn(o.latitude),Hn(u.latitude));return h!==0?h:yn(Hn(o.longitude),Hn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qR(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var E,A,I,N;const h=o.fields||{},f=u.fields||{},g=(E=h[Yv])==null?void 0:E.arrayValue,y=(A=f[Yv])==null?void 0:A.arrayValue,v=yn(((I=g==null?void 0:g.values)==null?void 0:I.length)||0,((N=y==null?void 0:y.values)==null?void 0:N.length)||0);return v!==0?v:qR(g,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Ed&&u===Ed)return 0;if(o===Ed)return 1;if(u===Ed)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const E=$v(f[v],y[v]);if(E!==0)return E;const A=Ng(h[f[v]],g[y[v]]);if(A!==0)return A}return yn(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Va(23264,{C:t})}}function FR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yn(n,e);const t=yh(n),r=yh(e),s=yn(t.seconds,r.seconds);return s!==0?s:yn(t.nanos,r.nanos)}function qR(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Ng(t[s],r[s]);if(o)return o}return yn(t.length,r.length)}function GR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function G1(n){return!!n&&"arrayValue"in n}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{}class $i extends $1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new MB(e,t,r):t==="array-contains"?new kB(e,r):t==="in"?new VB(e,r):t==="not-in"?new LB(e,r):t==="array-contains-any"?new UB(e,r):new $i(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new PB(e,r):new xB(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ng(t,this.value)):t!==null&&Eu(this.value)===Eu(t)&&this.matchesComparison(Ng(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Va(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fE extends $1{constructor(e,t){super(),this.filters=e,this.op=t,this.N=null}static create(e,t){return new fE(e,t)}matches(e){return(function(r){return r.op==="and"})(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.N!==null||(this.N=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.N}getFilters(){return Object.assign([],this.filters)}}class MB extends $i{constructor(e,t,r){super(e,t,r),this.key=Gr.fromName(r.referenceValue)}matches(e){const t=Gr.comparator(e.key,this.key);return this.matchesComparison(t)}}class PB extends $i{constructor(e,t){super(e,"in",t),this.keys=Y1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xB extends $i{constructor(e,t){super(e,"not-in",t),this.keys=Y1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Y1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Gr.fromName(r.referenceValue)))}class kB extends $i{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return G1(t)&&vh(t.arrayValue,this.value)}}class VB extends $i{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vh(this.value.arrayValue,t)}}class LB extends $i{constructor(e,t){super(e,"not-in",t)}matches(e){if(vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vh(this.value.arrayValue,t)}}class UB extends $i{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!G1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>vh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.q=null,this.L=null,this.B=null,this.startAt,this.endAt}}function zB(n){return n.collectionGroup!==null}function Wv(n,e){const t=n.filters.concat([e]);return new Q1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cg(e)?"-0":e}}function BB(n,e){return(function(r){return typeof r=="number"&&Number.isInteger(r)&&!Cg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER})(e)?(function(r){return{integerValue:""+r}})(e):W1(n,e)}class jB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $R(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FB(n,e){return qB(n,e).canonicalString()}function qB(n,e){const t=(function(s){return new Ir(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function K1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(n){return new jB(n,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="ComponentProvider",YR=new Map,$B=1048576,YB="firestore.googleapis.com",QR=!0;class WR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YB,this.ssl=QR}else this.host=e.host,this.ssl=e.ssl??QR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$B)throw new ut(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(r,s,o,u){if(s===!0&&u===!0)throw new ut(lt.INVALID_ARGUMENT,`${r} and ${o} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RB(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ut(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ut(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ut(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class QB{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new mB;switch(r.type){case"firstParty":return new _B(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ut(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=YR.get(t);r&&(dB(GB,"Removing Datastore"),YR.delete(t),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dE(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}toJSON(){return{type:$r._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Bh(t,$r._jsonSchema))return new $r(e,r||null,new Gr(Ir.fromString(t.referencePath)))}}$r._jsonSchemaVersion="firestore/documentReference/1.0",$r._jsonSchema={type:Wr("string",$r._jsonSchemaVersion),referencePath:Wr("string")};class dE extends jh{constructor(e,t,r){super(e,t,(function(o){return new Q1(o)})(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Gr(e))}withConverter(e){return new dE(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(Cs.fromBase64String(e))}catch(t){throw new ut(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oi(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bh(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Wr("string",oi._jsonSchemaVersion),bytes:Wr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Es._jsonSchemaVersion}}static fromJSON(e){if(Bh(e,Es._jsonSchema))return new Es(e.latitude,e.longitude)}}Es._jsonSchemaVersion="firestore/geoPoint/1.0",Es._jsonSchema={type:Wr("string",Es._jsonSchemaVersion),latitude:Wr("number"),longitude:Wr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bh(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Bi(e.vectorValues);throw new ut(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Wr("string",Bi._jsonSchemaVersion),vectorValues:Wr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=/^__.*__$/;function J1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Va(40011,{dataSource:n})}}class gE{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return tj(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(J1(this.dataSource)&&WB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||X1(e)}createContext(e,t,r,s=!1){return new gE({dataSource:e,methodName:t,targetDoc:r,path:Co.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XB(n){const e=n._freezeSettings(),t=X1(n._databaseId);return new KB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZB(n,e,t,r=!1){return pE(t,n.createContext(r?4:3,e))}function pE(n,e){if(eN(n=Xt(n)))return ej("Unsupported field value:",e,n),JB(n,e);if(n instanceof Z1)return(function(r,s){if(!J1(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let f=pE(h,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Zn.fromDate(r);return{timestampValue:$R(s.serializer,o)}}if(r instanceof Zn){const o=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$R(s.serializer,o)}}if(r instanceof Es)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oi)return{bytesValue:HB(s.serializer,r._byteString)};if(r instanceof $r){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bi)return(function(u,h){const f=u instanceof Bi?u.toArray():u;return{mapValue:{fields:{[F1]:{stringValue:q1},[Yv]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return W1(h.serializer,y)}))}}}}}})(r,s);if(K1(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${hE(r)}`)})(n,e)}function JB(n,e){const t={};return(function(s){for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o))return!1;return!0})(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):CB(n,((r,s)=>{const o=pE(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function eN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof Es||n instanceof oi||n instanceof $r||n instanceof Z1||n instanceof Bi||K1(n))}function ej(n,e,t){if(!eN(t)||!H1(t)){const r=hE(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function tj(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ut(lt.INVALID_ARGUMENT,h+n+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{}class nj extends mE{}function rj(n,e,...t){let r=[];e instanceof mE&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof vE)).length,h=o.filter((f=>f instanceof yE)).length;if(u>1||u>0&&h>0)throw new ut(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class yE extends nj{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yE(e,t,r)}_apply(e){const t=this._parse(e);return tN(e._query,t),new jh(e.firestore,e.converter,Wv(e._query,t))}_parse(e){const t=XB(e.firestore);return(function(o,u,h,f,g,y,v){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){XR(v,y);const I=[];for(const N of v)I.push(KR(f,o,N));E={arrayValue:{values:I}}}else E=KR(f,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||XR(v,y),E=ZB(h,u,v,y==="in"||y==="not-in");return $i.create(g,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class vE extends mE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vE(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:fE.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)tN(u,f),u=Wv(u,f)})(e._query,t),new jh(e.firestore,e.converter,Wv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KR(n,e,t){if(typeof(t=Xt(t))=="string"){if(t==="")throw new ut(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zB(e)&&t.indexOf("/")!==-1)throw new ut(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ir.fromString(t));if(!Gr.isDocumentKey(r))throw new ut(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GR(n,new Gr(r))}if(t instanceof $r)return GR(n,t._key);throw new ut(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hE(t)}.`)}function XR(n,e){if(!Array.isArray(n)||n.length===0)throw new ut(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tN(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ut(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}const ZR="4.10.0";(function(){fB(`${Gi}_lite`),As(new Hi("firestore/lite",((e,{instanceIdentifier:t,options:r})=>{const s=e.getProvider("app").getImmediate(),o=new QB(new yB(e.getProvider("auth-internal")),new EB(s,e.getProvider("app-check-internal")),bB(s,t),s);return r&&o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),Qr("firestore-lite",ZR,""),Qr("firestore-lite",ZR,"esm2020")})();var pp,Me,nN,rN,bu,Io,JR,iN,sN,Og={},aN=[],ij=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Aa(n,e){for(var t in e)n[t]=e[t];return n}function oN(n){var e=n.parentNode;e&&e.removeChild(n)}function ee(n,e,t){var r,s,o,u={};for(o in e)o=="key"?r=e[o]:o=="ref"?s=e[o]:u[o]=e[o];if(arguments.length>2&&(u.children=arguments.length>3?pp.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)u[o]===void 0&&(u[o]=n.defaultProps[o]);return Yd(n,u,r,s,null)}function Yd(n,e,t,r,s){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++nN};return s==null&&Me.vnode!=null&&Me.vnode(o),o}function Is(){return{current:null}}function rn(n){return n.children}function sj(n,e,t,r,s){var o;for(o in t)o==="children"||o==="key"||o in e||Mg(n,o,null,t[o],r);for(o in e)s&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||Mg(n,o,e[o],t[o],r)}function e0(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||ij.test(e)?t:t+"px"}function Mg(n,e,t,r,s){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||e0(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||e0(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r||n.addEventListener(e,o?n0:t0,o):n.removeEventListener(e,o?n0:t0,o);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function t0(n){bu=!0;try{return this.l[n.type+!1](Me.event?Me.event(n):n)}finally{bu=!1}}function n0(n){bu=!0;try{return this.l[n.type+!0](Me.event?Me.event(n):n)}finally{bu=!1}}function Dr(n,e){this.props=n,this.context=e}function _h(n,e){if(e==null)return n.__?_h(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?_h(n):null}function lN(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return lN(n)}}function aj(n){bu?setTimeout(n):iN(n)}function Kv(n){(!n.__d&&(n.__d=!0)&&Io.push(n)&&!Pg.__r++||JR!==Me.debounceRendering)&&((JR=Me.debounceRendering)||aj)(Pg)}function Pg(){var n,e,t,r,s,o,u,h;for(Io.sort(function(f,g){return f.__v.__b-g.__v.__b});n=Io.shift();)n.__d&&(e=Io.length,r=void 0,s=void 0,u=(o=(t=n).__v).__e,(h=t.__P)&&(r=[],(s=Aa({},o)).__v=o.__v+1,_E(h,o,s,t.__n,h.ownerSVGElement!==void 0,o.__h!=null?[u]:null,r,u??_h(o),o.__h),dN(r,o),o.__e!=u&&lN(o)),Io.length>e&&Io.sort(function(f,g){return f.__v.__b-g.__v.__b}));Pg.__r=0}function uN(n,e,t,r,s,o,u,h,f,g){var y,v,E,A,I,N,O,z=r&&r.__k||aN,j=z.length;for(t.__k=[],y=0;y<e.length;y++)if((A=t.__k[y]=(A=e[y])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Yd(null,A,null,null,A):Array.isArray(A)?Yd(rn,{children:A},null,null,null):A.__b>0?Yd(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=t,A.__b=t.__b+1,(E=z[y])===null||E&&A.key==E.key&&A.type===E.type)z[y]=void 0;else for(v=0;v<j;v++){if((E=z[v])&&A.key==E.key&&A.type===E.type){z[v]=void 0;break}E=null}_E(n,A,E=E||Og,s,o,u,h,f,g),I=A.__e,(v=A.ref)&&E.ref!=v&&(O||(O=[]),E.ref&&O.push(E.ref,null,A),O.push(v,A.__c||I,A)),I!=null?(N==null&&(N=I),typeof A.type=="function"&&A.__k===E.__k?A.__d=f=cN(A,f,n):f=hN(n,A,E,z,I,f),typeof t.type=="function"&&(t.__d=f)):f&&E.__e==f&&f.parentNode!=n&&(f=_h(E))}for(t.__e=N,y=j;y--;)z[y]!=null&&(typeof t.type=="function"&&z[y].__e!=null&&z[y].__e==t.__d&&(t.__d=fN(r).nextSibling),pN(z[y],z[y]));if(O)for(y=0;y<O.length;y++)gN(O[y],O[++y],O[++y])}function cN(n,e,t){for(var r,s=n.__k,o=0;s&&o<s.length;o++)(r=s[o])&&(r.__=n,e=typeof r.type=="function"?cN(r,e,t):hN(t,r,r,s,r.__e,e));return e}function xg(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){xg(t,e)}):e.push(n)),e}function hN(n,e,t,r,s,o){var u,h,f;if(e.__d!==void 0)u=e.__d,e.__d=void 0;else if(t==null||s!=o||s.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(s),u=null;else{for(h=o,f=0;(h=h.nextSibling)&&f<r.length;f+=1)if(h==s)break e;n.insertBefore(s,o),u=o}return u!==void 0?u:s.nextSibling}function fN(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=fN(t)))return r}return null}function _E(n,e,t,r,s,o,u,h,f){var g,y,v,E,A,I,N,O,z,j,te,he,Ee,_e,S,R=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(f=t.__h,h=e.__e=t.__e,e.__h=null,o=[h]),(g=Me.__b)&&g(e);try{e:if(typeof R=="function"){if(O=e.props,z=(g=R.contextType)&&r[g.__c],j=g?z?z.props.value:g.__:r,t.__c?N=(y=e.__c=t.__c).__=y.__E:("prototype"in R&&R.prototype.render?e.__c=y=new R(O,j):(e.__c=y=new Dr(O,j),y.constructor=R,y.render=lj),z&&z.sub(y),y.props=O,y.state||(y.state={}),y.context=j,y.__n=r,v=y.__d=!0,y.__h=[],y._sb=[]),y.__s==null&&(y.__s=y.state),R.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Aa({},y.__s)),Aa(y.__s,R.getDerivedStateFromProps(O,y.__s))),E=y.props,A=y.state,y.__v=e,v)R.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(R.getDerivedStateFromProps==null&&O!==E&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(O,j),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(O,y.__s,j)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(y.props=O,y.state=y.__s,y.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(D){D&&(D.__=e)}),te=0;te<y._sb.length;te++)y.__h.push(y._sb[te]);y._sb=[],y.__h.length&&u.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(O,y.__s,j),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(E,A,I)})}if(y.context=j,y.props=O,y.__P=n,he=Me.__r,Ee=0,"prototype"in R&&R.prototype.render){for(y.state=y.__s,y.__d=!1,he&&he(e),g=y.render(y.props,y.state,y.context),_e=0;_e<y._sb.length;_e++)y.__h.push(y._sb[_e]);y._sb=[]}else do y.__d=!1,he&&he(e),g=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++Ee<25);y.state=y.__s,y.getChildContext!=null&&(r=Aa(Aa({},r),y.getChildContext())),v||y.getSnapshotBeforeUpdate==null||(I=y.getSnapshotBeforeUpdate(E,A)),S=g!=null&&g.type===rn&&g.key==null?g.props.children:g,uN(n,Array.isArray(S)?S:[S],e,t,r,s,o,u,h,f),y.base=e.__e,e.__h=null,y.__h.length&&u.push(y),N&&(y.__E=y.__=null),y.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=oj(t.__e,e,t,r,s,o,u,f);(g=Me.diffed)&&g(e)}catch(D){e.__v=null,(f||o!=null)&&(e.__e=h,e.__h=!!f,o[o.indexOf(h)]=null),Me.__e(D,e,t)}}function dN(n,e){Me.__c&&Me.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){Me.__e(r,t.__v)}})}function oj(n,e,t,r,s,o,u,h){var f,g,y,v=t.props,E=e.props,A=e.type,I=0;if(A==="svg"&&(s=!0),o!=null){for(;I<o.length;I++)if((f=o[I])&&"setAttribute"in f==!!A&&(A?f.localName===A:f.nodeType===3)){n=f,o[I]=null;break}}if(n==null){if(A===null)return document.createTextNode(E);n=s?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,E.is&&E),o=null,h=!1}if(A===null)v===E||h&&n.data===E||(n.data=E);else{if(o=o&&pp.call(n.childNodes),g=(v=t.props||Og).dangerouslySetInnerHTML,y=E.dangerouslySetInnerHTML,!h){if(o!=null)for(v={},I=0;I<n.attributes.length;I++)v[n.attributes[I].name]=n.attributes[I].value;(y||g)&&(y&&(g&&y.__html==g.__html||y.__html===n.innerHTML)||(n.innerHTML=y&&y.__html||""))}if(sj(n,E,v,s,h),y)e.__k=[];else if(I=e.props.children,uN(n,Array.isArray(I)?I:[I],e,t,r,s&&A!=="foreignObject",o,u,o?o[0]:t.__k&&_h(t,0),h),o!=null)for(I=o.length;I--;)o[I]!=null&&oN(o[I]);h||("value"in E&&(I=E.value)!==void 0&&(I!==n.value||A==="progress"&&!I||A==="option"&&I!==v.value)&&Mg(n,"value",I,v.value,!1),"checked"in E&&(I=E.checked)!==void 0&&I!==n.checked&&Mg(n,"checked",I,v.checked,!1))}return n}function gN(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){Me.__e(r,t)}}function pN(n,e,t){var r,s;if(Me.unmount&&Me.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||gN(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Me.__e(o,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(s=0;s<r.length;s++)r[s]&&pN(r[s],e,t||typeof n.type!="function");t||n.__e==null||oN(n.__e),n.__=n.__e=n.__d=void 0}function lj(n,e,t){return this.constructor(n,t)}function Eh(n,e,t){var r,s,o;Me.__&&Me.__(n,e),s=(r=!1)?null:e.__k,o=[],_E(e,n=e.__k=ee(rn,null,[n]),s||Og,Og,e.ownerSVGElement!==void 0,s?null:e.firstChild?pp.call(e.childNodes):null,o,s?s.__e:e.firstChild,r),dN(o,n)}function uj(n,e){var t={__c:e="__cC"+sN++,__:n,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,o;return this.getChildContext||(s=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&s.some(function(h){h.__e=!0,Kv(h)})},this.sub=function(u){s.push(u);var h=u.componentWillUnmount;u.componentWillUnmount=function(){s.splice(s.indexOf(u),1),h&&h.call(u)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}pp=aN.slice,Me={__e:function(n,e,t,r){for(var s,o,u;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,r||{}),u=s.__d),u)return s.__E=s}catch(h){n=h}throw n}},nN=0,rN=function(n){return n!=null&&n.constructor===void 0},bu=!1,Dr.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Aa({},this.state),typeof n=="function"&&(n=n(Aa({},t),this.props)),n&&Aa(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Kv(this))},Dr.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Kv(this))},Dr.prototype.render=rn,Io=[],iN=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pg.__r=0,sN=0;var Mi,Gy,r0,mN=[],$y=[],i0=Me.__b,s0=Me.__r,a0=Me.diffed,o0=Me.__c,l0=Me.unmount;function cj(){for(var n;n=mN.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Qd),n.__H.__h.forEach(Xv),n.__H.__h=[]}catch(e){n.__H.__h=[],Me.__e(e,n.__v)}}Me.__b=function(n){Mi=null,i0&&i0(n)},Me.__r=function(n){s0&&s0(n);var e=(Mi=n.__c).__H;e&&(Gy===Mi?(e.__h=[],Mi.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=$y,t.__N=t.i=void 0})):(e.__h.forEach(Qd),e.__h.forEach(Xv),e.__h=[])),Gy=Mi},Me.diffed=function(n){a0&&a0(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(mN.push(e)!==1&&r0===Me.requestAnimationFrame||((r0=Me.requestAnimationFrame)||hj)(cj)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==$y&&(t.__=t.__V),t.i=void 0,t.__V=$y})),Gy=Mi=null},Me.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Qd),t.__h=t.__h.filter(function(r){return!r.__||Xv(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Me.__e(r,t.__v)}}),o0&&o0(n,e)},Me.unmount=function(n){l0&&l0(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Qd(r)}catch(s){e=s}}),t.__H=void 0,e&&Me.__e(e,t.__v))};var u0=typeof requestAnimationFrame=="function";function hj(n){var e,t=function(){clearTimeout(r),u0&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);u0&&(e=requestAnimationFrame(t))}function Qd(n){var e=Mi,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),Mi=e}function Xv(n){var e=Mi;n.__c=n.__(),Mi=e}function fj(n,e){for(var t in e)n[t]=e[t];return n}function c0(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function h0(n){this.props=n}(h0.prototype=new Dr).isPureReactComponent=!0,h0.prototype.shouldComponentUpdate=function(n,e){return c0(this.props,n)||c0(this.state,e)};var f0=Me.__b;Me.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),f0&&f0(n)};var dj=Me.__e;Me.__e=function(n,e,t,r){if(n.then){for(var s,o=e;o=o.__;)if((s=o.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(n,e)}dj(n,e,t,r)};var d0=Me.unmount;function yN(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=fj({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return yN(r,e,t)})),n}function vN(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return vN(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Yy(){this.__u=0,this.t=null,this.__b=null}function _N(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function bd(){this.u=null,this.o=null}Me.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),d0&&d0(n)},(Yy.prototype=new Dr).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var s=_N(r.__v),o=!1,u=function(){o||(o=!0,t.__R=null,s?s(h):h())};t.__R=u;var h=function(){if(!--r.__u){if(r.state.__a){var g=r.state.__a;r.__v.__k[0]=vN(g,g.__c.__P,g.__c.__O)}var y;for(r.setState({__a:r.__b=null});y=r.t.pop();)y.forceUpdate()}},f=e.__h===!0;r.__u++||f||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(u,u)},Yy.prototype.componentWillUnmount=function(){this.t=[]},Yy.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=yN(this.__b,t,r.__O=r.__P)}this.__b=null}var s=e.__a&&ee(rn,null,n.fallback);return s&&(s.__h=null),[ee(rn,null,e.__a?null:n.children),s]};var g0=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function gj(n){return this.getChildContext=function(){return n.context},n.children}function pj(n){var e=this,t=n.i;e.componentWillUnmount=function(){Eh(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Eh(ee(gj,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function mj(n,e){var t=ee(pj,{__v:n,i:e});return t.containerInfo=e,t}(bd.prototype=new Dr).__a=function(n){var e=this,t=_N(e.__v),r=e.o.get(n);return r[0]++,function(s){var o=function(){e.props.revealOrder?(r.push(s),g0(e,n,r)):s()};t?t(o):o()}},bd.prototype.render=function(n){this.u=null,this.o=new Map;var e=xg(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},bd.prototype.componentDidUpdate=bd.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){g0(n,t,e)})};var yj=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,vj=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_j=typeof document<"u",Ej=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Dr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Dr.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var p0=Me.event;function bj(){}function Aj(){return this.cancelBubble}function Tj(){return this.defaultPrevented}Me.event=function(n){return p0&&(n=p0(n)),n.persist=bj,n.isPropagationStopped=Aj,n.isDefaultPrevented=Tj,n.nativeEvent=n};var m0={configurable:!0,get:function(){return this.class}},y0=Me.vnode;Me.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var o in r={},t){var u=t[o];_j&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&u==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&u===!0?u="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Ej(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():s&&vj.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():u===null&&(u=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=u)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=xg(t.children).forEach(function(h){h.props.selected=r.value.indexOf(h.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=xg(t.children).forEach(function(h){h.props.selected=r.multiple?r.defaultValue.indexOf(h.props.value)!=-1:r.defaultValue==h.props.value})),n.props=r,t.class!=t.className&&(m0.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",m0))}n.$$typeof=yj,y0&&y0(n)};var v0=Me.__r;Me.__r=function(n){v0&&v0(n),n.__c};const EN=[],Zv=new Map;function bN(n){EN.push(n),Zv.forEach(e=>{TN(e,n)})}function Sj(n){n.isConnected&&n.getRootNode&&AN(n.getRootNode())}function AN(n){let e=Zv.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=Rj();t&&(e.nonce=t);const r=n===document?document.head:n,s=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,s)}Zv.set(n,e),wj(e)}}function wj(n){for(const e of EN)TN(n,e)}function TN(n,e){const{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((s,o)=>{s=s.trim(),s&&t.insertRule(s+"}",r+o)})}let Qy;function Rj(){return Qy===void 0&&(Qy=Cj()),Qy}function Cj(){const n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&AN(document);var Ij=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';bN(Ij);class EE{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function bE(n){n.parentNode&&n.parentNode.removeChild(n)}function qn(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(Dj(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Dj(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function Nj(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let s=0;s<t.length;s+=1){let o=t[s].querySelectorAll(e);for(let u=0;u<o.length;u+=1)r.push(o[u])}return r}const Oj=/(top|left|right|bottom|width|height)$/i;function Zc(n,e){for(let t in e)SN(n,t,e[t])}function SN(n,e,t){t==null?n.style[e]="":typeof t=="number"&&Oj.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function wN(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}let _0=0;function mp(){return _0+=1,"fc-dom-"+_0}function yp(n){n.preventDefault()}function Mj(n,e){return t=>{let r=qn(t.target,n);r&&e.call(r,t,r)}}function RN(n,e,t,r){let s=Mj(t,r);return n.addEventListener(e,s),()=>{n.removeEventListener(e,s)}}function Pj(n,e,t,r){let s;return RN(n,"mouseover",e,(o,u)=>{if(u!==s){s=u,t(o,u);let h=f=>{s=null,r(f,u),u.removeEventListener("mouseleave",h)};u.addEventListener("mouseleave",h)}})}const E0=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function xj(n,e){let t=r=>{e(r),E0.forEach(s=>{n.removeEventListener(s,t)})};E0.forEach(r=>{n.addEventListener(r,t)})}function CN(n){return Object.assign({onClick:n},IN(n))}function IN(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}let b0=0;function Jo(){return b0+=1,String(b0)}function AE(){document.body.classList.add("fc-not-allowed")}function TE(){document.body.classList.remove("fc-not-allowed")}function kj(n){n.style.userSelect="none",n.style.webkitUserSelect="none",n.addEventListener("selectstart",yp)}function Vj(n){n.style.userSelect="",n.style.webkitUserSelect="",n.removeEventListener("selectstart",yp)}function Lj(n){n.addEventListener("contextmenu",yp)}function Uj(n){n.removeEventListener("contextmenu",yp)}function zj(n){let e=[],t=[],r,s;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)s=t[r],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function Bj(n,e,t){let r,s;for(r=0;r<t.length;r+=1)if(s=jj(n,e,t[r]),s)return s;return 0}function jj(n,e,t){return t.func?t.func(n,e):Hj(n[t.field],e[t.field])*(t.order||1)}function Hj(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Wy(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Jc(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,s,o)=>r.replace("$"+o,s||""),n):t}function Fj(n,e){return n-e}function Ky(n){return n%1===0}function qj(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const Gj=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function _t(n,e){return typeof n=="string"?$j(n):typeof n=="object"&&n?A0(n):typeof n=="number"?A0({[e||"milliseconds"]:n}):null}function $j(n){let e=Gj.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function A0(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function Yj(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Qj(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function Wj(n){return fu(n)/365}function Kj(n){return fu(n)/30}function fu(n){return bh(n)/864e5}function bh(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Jv(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function La(n,e,t){if(n===e)return!0;let r=n.length,s;if(r!==e.length)return!1;for(s=0;s<r;s+=1)if(!(t?t(n[s],e[s]):n[s]===e[s]))return!1;return!0}const Xj=["sun","mon","tue","wed","thu","fri","sat"];function T0(n,e){let t=Ta(n);return t[2]+=e*7,ur(t)}function Dn(n,e){let t=Ta(n);return t[2]+=e,ur(t)}function Ua(n,e){let t=Ta(n);return t[6]+=e,ur(t)}function Zj(n,e){return Ou(n,e)/7}function Ou(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function Jj(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function eH(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function tH(n,e){return(e.valueOf()-n.valueOf())/1e3}function nH(n,e){let t=Gt(n),r=Gt(e);return{years:0,months:0,days:Math.round(Ou(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function rH(n,e){let t=kg(n,e);return t!==null&&t%7===0?t/7:null}function kg(n,e){return Sa(n)===Sa(e)?Math.round(Ou(n,e)):null}function Gt(n){return ur([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function iH(n){return ur([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function sH(n){return ur([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function aH(n){return ur([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function oH(n,e,t){let r=n.getUTCFullYear(),s=Xy(n,r,e,t);if(s<1)return Xy(n,r-1,e,t);let o=Xy(n,r+1,e,t);return o>=1?Math.min(s,o):s}function Xy(n,e,t,r){let s=ur([e,0,1+lH(e,t,r)]),o=Gt(n),u=Math.round(Ou(s,o));return Math.floor(u/7)+1}function lH(n,e,t){let r=7+e-t;return-((7+ur([n,0,r]).getUTCDay()-e)%7)+r-1}function S0(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function w0(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function Ta(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function ur(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function DN(n){return!isNaN(n.valueOf())}function Sa(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function uH(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",wE(e,!0)))),r}function SE(n){return n.toISOString().replace(/T.*$/,"")}function cH(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function wE(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),s=Math.floor(r/60),o=Math.round(r%60);return e?`${t+Wy(s,2)}:${Wy(o,2)}`:`GMT${t}${s}${o?`:${Wy(o,2)}`:""}`}function pt(n,e,t){let r,s;return function(...o){if(!r)s=n.apply(this,o);else if(!La(r,o)){let u=n.apply(this,o);(!e||!e(u,s))&&(s=u)}return r=o,s}}function Wd(n,e,t){let r,s;return o=>(r?di(r,o)||(s=n.call(this,o)):s=n.call(this,o),r=o,s)}const Zy={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Vg={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ad=/\s*([ap])\.?m\.?/i,hH=/,/g,fH=/\s+/g,dH=/\u200e/g,gH=/UTC|GMT/;class pH{constructor(e){let t={},r={},s=9;for(let o in e)o in Zy?(r[o]=e[o],Zy[o]<9&&(s=Math.min(Zy[o],s))):(t[o]=e[o],o in Vg&&(s=Math.min(Vg[o],s)));this.standardDateProps=t,this.extendedSettings=r,this.smallestUnitNum=s,this.buildFormattingFunc=pt(R0)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,s){let{standardDateProps:o,extendedSettings:u}=this,h=bH(e.marker,t.marker,r.calendarSystem);if(!h)return this.format(e,r);let f=h;f>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(f=1);let g=this.format(e,r),y=this.format(t,r);if(g===y)return g;let v=AH(o,f),E=R0(v,u,r),A=E(e),I=E(t),N=TH(g,A,y,I),O=u.separator||s||r.defaultSeparator||"";return N?N.before+A+O+I+N.after:g+O+y}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function R0(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?s=>wE(s.timeZoneOffset):r===0&&e.week?s=>EH(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):mH(n,e,t)}function mH(n,e,t){n=Object.assign({},n),e=Object.assign({},e),yH(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),s;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,s=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:u}=o,h;s&&!u.getUTCMinutes()?h=s:h=r;let f=h.format(u);return vH(f,o,n,e,t)}}function yH(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function vH(n,e,t,r,s){return n=n.replace(dH,""),t.timeZoneName==="short"&&(n=_H(n,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":wE(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(hH,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(Ad,"").trim():r.meridiem==="narrow"?n=n.replace(Ad,(o,u)=>u.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(Ad,(o,u)=>`${u.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(Ad,o=>o.toLocaleLowerCase())),n=n.replace(fH," "),n=n.trim(),n}function _H(n,e){let t=!1;return n=n.replace(gH,()=>(t=!0,e)),t||(n+=` ${e}`),n}function EH(n,e,t,r,s){let o=[];return s==="long"?o.push(t):(s==="short"||s==="narrow")&&o.push(e),(s==="long"||s==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function bH(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:Sa(n)!==Sa(e)?1:0}function AH(n,e){let t={};for(let r in n)(!(r in Vg)||Vg[r]<=e)&&(t[r]=n[r]);return t}function TH(n,e,t,r){let s=0;for(;s<n.length;){let o=n.indexOf(e,s);if(o===-1)break;let u=n.substr(0,o);s=o+e.length;let h=n.substr(s),f=0;for(;f<t.length;){let g=t.indexOf(r,f);if(g===-1)break;let y=t.substr(0,g);f=g+r.length;let v=t.substr(f);if(u===y&&h===v)return{before:u,after:h}}}return null}function C0(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Lg(n,e,t,r){let s=C0(n,t.calendarSystem),o=e?C0(e,t.calendarSystem):null;return{date:s,start:s,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}class SH{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,Lg(e,null,t,r))}formatRange(e,t,r,s){return r.cmdFormatter(this.cmdStr,Lg(e,t,r,s))}}class wH{constructor(e){this.func=e}format(e,t,r){return this.func(Lg(e,null,t,r))}formatRange(e,t,r,s){return this.func(Lg(e,t,r,s))}}function Cn(n){return typeof n=="object"&&n?new pH(n):typeof n=="string"?new SH(n):typeof n=="function"?new wH(n):null}const I0={navLinkDayClick:Z,navLinkWeekClick:Z,duration:_t,bootstrapFontAwesome:Z,buttonIcons:Z,customButtons:Z,defaultAllDayEventDuration:_t,defaultTimedEventDuration:_t,nextDayThreshold:_t,scrollTime:_t,scrollTimeReset:Boolean,slotMinTime:_t,slotMaxTime:_t,dayPopoverFormat:Cn,slotDuration:_t,snapDuration:_t,headerToolbar:Z,footerToolbar:Z,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Cn,dayHeaderClassNames:Z,dayHeaderContent:Z,dayHeaderDidMount:Z,dayHeaderWillUnmount:Z,dayCellClassNames:Z,dayCellContent:Z,dayCellDidMount:Z,dayCellWillUnmount:Z,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Z,weekNumbers:Boolean,weekNumberClassNames:Z,weekNumberContent:Z,weekNumberDidMount:Z,weekNumberWillUnmount:Z,editable:Boolean,viewClassNames:Z,viewDidMount:Z,viewWillUnmount:Z,nowIndicator:Boolean,nowIndicatorSnap:Z,nowIndicatorClassNames:Z,nowIndicatorContent:Z,nowIndicatorDidMount:Z,nowIndicatorWillUnmount:Z,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Z,locale:Z,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Z,eventOrder:zj,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Z,contentHeight:Z,direction:String,weekNumberFormat:Cn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Z,initialDate:Z,now:Z,eventDataTransform:Z,stickyHeaderDates:Z,stickyFooterScrollbar:Z,viewHeight:Z,defaultAllDay:Boolean,eventSourceFailure:Z,eventSourceSuccess:Z,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Z,eventConstraint:Z,eventAllow:Z,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Z,eventContent:Z,eventDidMount:Z,eventWillUnmount:Z,selectConstraint:Z,selectOverlap:Z,selectAllow:Z,droppable:Boolean,unselectCancel:String,slotLabelFormat:Z,slotLaneClassNames:Z,slotLaneContent:Z,slotLaneDidMount:Z,slotLaneWillUnmount:Z,slotLabelClassNames:Z,slotLabelContent:Z,slotLabelDidMount:Z,slotLabelWillUnmount:Z,dayMaxEvents:Z,dayMaxEventRows:Z,dayMinWidth:Number,slotLabelInterval:_t,allDayText:String,allDayClassNames:Z,allDayContent:Z,allDayDidMount:Z,allDayWillUnmount:Z,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Cn,rerenderDelay:Number,moreLinkText:Z,moreLinkHint:Z,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Z,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:_t,hiddenDays:Z,fixedWeekCount:Boolean,validRange:Z,visibleRange:Z,titleFormat:Z,eventInteractive:Boolean,noEventsText:String,viewHint:Z,navLinkHint:Z,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Z,moreLinkClassNames:Z,moreLinkContent:Z,moreLinkDidMount:Z,moreLinkWillUnmount:Z,monthStartFormat:Cn,handleCustomRendering:Z,customRenderingMetaMap:Z,customRenderingReplaces:Boolean},eh={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},D0={datesSet:Z,eventsSet:Z,eventAdd:Z,eventChange:Z,eventRemove:Z,windowResize:Z,eventClick:Z,eventMouseEnter:Z,eventMouseLeave:Z,select:Z,unselect:Z,loading:Z,_unmount:Z,_beforeprint:Z,_afterprint:Z,_noEventDrop:Z,_noEventResize:Z,_resize:Z,_scrollRequest:Z},N0={buttonText:Z,buttonHints:Z,views:Z,plugins:Z,initialEvents:Z,events:Z,eventSources:Z},wo={headerToolbar:Ro,footerToolbar:Ro,buttonText:Ro,buttonHints:Ro,buttonIcons:Ro,dateIncrement:Ro,plugins:Td,events:Td,eventSources:Td,resources:Td};function Ro(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?di(n,e):n===e}function Td(n,e){return Array.isArray(n)&&Array.isArray(e)?La(n,e):n===e}const RH={type:String,component:Z,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Z,usesMinMaxTime:Boolean,classNames:Z,content:Z,didMount:Z,willUnmount:Z};function Jy(n){return CE(n,wo)}function RE(n,e){let t={},r={};for(let s in e)s in n&&(t[s]=e[s](n[s]));for(let s in n)s in e||(r[s]=n[s]);return{refined:t,extra:r}}function Z(n){return n}const{hasOwnProperty:Ug}=Object.prototype;function CE(n,e){let t={};if(e){for(let r in e)if(e[r]===Ro){let s=[];for(let o=n.length-1;o>=0;o-=1){let u=n[o][r];if(typeof u=="object"&&u)s.unshift(u);else if(u!==void 0){t[r]=u;break}}s.length&&(t[r]=CE(s))}}for(let r=n.length-1;r>=0;r-=1){let s=n[r];for(let o in s)o in t||(t[o]=s[o])}return t}function Fo(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function el(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function NN(n){let e={};for(let t of n)e[t]=!0;return e}function IE(n){let e=[];for(let t in n)e.push(n[t]);return e}function di(n,e){if(n===e)return!0;for(let t in n)if(Ug.call(n,t)&&!(t in e))return!1;for(let t in e)if(Ug.call(e,t)&&n[t]!==e[t])return!1;return!0}const CH=/^on[A-Z]/;function IH(n,e){const t=DH(n,e);for(let r of t)if(!CH.test(r))return!1;return!0}function DH(n,e){let t=[];for(let r in n)Ug.call(n,r)&&(r in e||t.push(r));for(let r in e)Ug.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function ev(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&NH(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function NH(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function OH(n,e=0,t,r=1){let s=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=r){let u=n[o];u!==void 0&&s.push(u)}return s}let ON={};function MH(n,e){ON[n]=e}function PH(n){return new ON[n]}class xH{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return ur(e)}markerToArray(e){return Ta(e)}}MH("gregory",xH);const kH=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function VH(n){let e=kH.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(DN(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class LH{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=PH(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):ur(S0(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=ur(e)),t===null||!DN(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=VH(e);if(t===null)return null;let{marker:r}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return Sa(e)===Sa(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return Sa(e)===Sa(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=rH(e,t),r!==null?{unit:"week",value:r}:(r=kg(e,t),r!==null?{unit:"day",value:r}:(r=Jj(e,t),Ky(r)?{unit:"hour",value:r}:(r=eH(e,t),Ky(r)?{unit:"minute",value:r}:(r=tH(e,t),Ky(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let s;return r.years&&(s=this.diffWholeYears(e,t),s!==null)?s/Wj(r):r.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/Kj(r):r.days&&(s=kg(e,t),s!==null)?s/fu(r):(t.valueOf()-e.valueOf())/bh(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?Gt(e):t==="hour"?iH(e):t==="minute"?sH(e):t==="second"?aH(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):oH(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,s={}){return s.isEndExclusive&&(t=Ua(t,-1)),r.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),uH(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?ur(S0(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):ur(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-w0(Ta(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ta(e)):null}toDate(e,t){return this.timeZone==="local"?w0(Ta(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ta(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class Hh{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}Hh.prototype.classes={};Hh.prototype.iconClasses={};Hh.prototype.baseIconClass="";Hh.prototype.iconOverridePrefix="";function zg(n){n();let e=Me.debounceRendering,t=[];function r(s){t.push(s)}for(Me.debounceRendering=r,Eh(ee(UH,{}),document.createElement("div"));t.length;)t.shift()();Me.debounceRendering=e}class UH extends Dr{render(){return ee("div",{})}componentDidMount(){this.setState({})}}function MN(n){let e=uj(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,s=t.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=u=>{this.props.value!==u.value&&o.forEach(h=>{h.context=u.value,h.forceUpdate()})},this.sub=u=>{o.push(u);let h=u.componentWillUnmount;u.componentWillUnmount=()=>{o.splice(o.indexOf(u),1),h&&h.call(u)}}}return s},e}class zH{constructor(e,t,r,s){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=s,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const tl=MN({});function BH(n,e,t,r,s,o,u,h,f,g,y,v,E,A){return{dateEnv:s,nowManager:o,options:t,pluginHooks:h,emitter:y,dispatch:f,getCurrentData:g,calendarApi:v,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:u,isRtl:t.direction==="rtl",addResizeHandler(I){y.on("_resize",I)},removeResizeHandler(I){y.off("_resize",I)},createScrollResponder(I){return new zH(I,y,_t(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:E,unregisterInteractiveComponent:A}}class nl extends Dr{shouldComponentUpdate(e,t){return!ev(this.props,e,this.propEquality)||!ev(this.state,t,this.stateEquality)}safeSetState(e){ev(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}nl.addPropsEquality=jH;nl.addStateEquality=HH;nl.contextType=tl;nl.prototype.propEquality={};nl.prototype.stateEquality={};class Jt extends nl{}Jt.contextType=tl;function jH(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function HH(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function qi(n,e){typeof n=="function"?n(e):n&&(n.current=e)}class DE extends Jt{constructor(){super(...arguments),this.id=Jo(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!e_(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&qi(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:r}=t,{customGenerator:s,defaultGenerator:o,renderProps:u}=e,h=PN(e,[],this.handleEl);let f=!1,g,y=[],v;if(s!=null){const E=typeof s=="function"?s(u,ee):s;if(E===!0)f=!0;else{const A=E&&typeof E=="object";A&&"html"in E?h.dangerouslySetInnerHTML={__html:E.html}:A&&"domNodes"in E?y=Array.prototype.slice.call(E.domNodes):(A?rN(E):typeof E!="function")?g=E:v=E}}else f=!e_(e.generatorName,r);return f&&o&&(g=o(u)),this.queuedDomNodes=y,this.currentGeneratorMeta=v,ee(e.elTag,h,g)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:r,context:s}=this,{handleCustomRendering:o,customRenderingMetaMap:u}=s.options;if(o){const h=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:u==null?void 0:u[r.generatorName];h&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:h},r),{elClasses:(r.elClasses||[]).filter(FH)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!La(e,t)){t.forEach(bE);for(let s of e)r.appendChild(s);this.currentDomNodes=e}}}DE.addPropsEquality({elClasses:La,elStyle:di,elAttrs:IH,renderProps:di});function e_(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function PN(n,e,t){const r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function FH(n){return!!n}const xN=MN(0);class Ds extends Dr{constructor(){super(...arguments),this.InnerContent=qH.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(qi(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=GH(e.classNameGenerator,e.renderProps);if(e.children){const r=PN(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,r);return e.elTag?ee(e.elTag,r,s):s}else return ee(DE,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ds.contextType=xN;function qH(n,e){const t=n.props;return ee(DE,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function GH(n,e){const t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}class O0 extends Jt{render(){let{props:e,context:t}=this,{options:r}=t,s={view:t.viewApi};return ee(Ds,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...kN(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount},()=>e.children)}}function kN(n){return[`fc-${n.type}-view`,"fc-view"]}function $H(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function M0(n,e){let t=[],{start:r}=e,s,o;for(n.sort(YH),s=0;s<n.length;s+=1)o=n[s],o.start>r&&t.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&t.push({start:r,end:e.end}),t}function YH(n,e){return n.start.valueOf()-e.start.valueOf()}function Au(n,e){let{start:t,end:r}=n,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(s={start:t,end:r}),s}function QH(n,e){return(n.start===null?null:n.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(n.end===null?null:n.end.valueOf())===(e.end===null?null:e.end.valueOf())}function NE(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function vp(n,e){return(n.start===null||e.start!==null&&e.start>=n.start)&&(n.end===null||e.end!==null&&e.end<=n.end)}function Da(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function WH(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function VN(n){let e=Math.floor(Ou(n.start,n.end))||1,t=Gt(n.start),r=Dn(t,e);return{start:t,end:r}}function LN(n,e=_t(0)){let t=null,r=null;if(n.end){r=Gt(n.end);let s=n.end.valueOf()-r.valueOf();s&&s>=bh(e)&&(r=Dn(r,1))}return n.start&&(t=Gt(n.start),r&&r<=t&&(r=Dn(t,1))),{start:t,end:r}}function tu(n,e,t,r){return r==="year"?_t(t.diffWholeYears(n,e),"year"):r==="month"?_t(t.diffWholeMonths(n,e),"month"):nH(n,e)}class UN{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:s}=this.props,o=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,t,r){let{dateEnv:s}=this.props,o=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,t,r=!0){let{props:s}=this,o,u,h,f,g,y;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=WH(e,o)),u=this.buildCurrentRangeInfo(e,t),h=/^(year|month|week|day)$/.test(u.unit),f=this.buildRenderRange(this.trimHiddenDays(u.range),u.unit,h),f=this.trimHiddenDays(f),g=f,s.showNonCurrentDates||(g=Au(g,u.range)),g=this.adjustActiveRange(g),g=Au(g,o),y=NE(u.range,o),Da(f,e)||(e=f.start),{currentDate:e,validRange:o,currentRange:u.range,currentRangeUnit:u.unit,isRangeAllDay:h,activeRange:g,renderRange:f,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:y,dateIncrement:this.buildDateIncrement(u.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,s=null,o=null,u=null,h;return r.duration?(s=r.duration,o=r.durationUnit,u=this.buildRangeFromDuration(e,t,s,o)):(h=this.props.dayCount)?(o="day",u=this.buildRangeFromDayCount(e,t,h)):(u=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(u.start,u.end).unit:(s=this.getFallbackDuration(),o=Jv(s).unit,u=this.buildRangeFromDuration(e,t,s,o)),{duration:s,unit:o,range:u}}getFallbackDuration(){return _t({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:s,slotMaxTime:o}=this.props,{start:u,end:h}=e;return r&&(fu(s)<0&&(u=Gt(u),u=t.add(u,s)),fu(o)>1&&(h=Gt(h),h=Dn(h,-1),h=t.add(h,o))),{start:u,end:h}}buildRangeFromDuration(e,t,r,s){let{dateEnv:o,dateAlignment:u}=this.props,h,f,g;if(!u){let{dateIncrement:v}=this.props;v&&bh(v)<bh(r)?u=Jv(v).unit:u=s}fu(r)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,t),h=Gt(h));function y(){h=o.startOf(e,u),f=o.add(h,r),g={start:h,end:f}}return y(),this.trimHiddenDays(g)||(e=this.skipHiddenDays(e,t),y()),g}buildRangeFromDayCount(e,t,r){let{dateEnv:s,dateAlignment:o}=this.props,u=0,h=e,f;o&&(h=s.startOf(h,o)),h=Gt(h),h=this.skipHiddenDays(h,t),f=h;do f=Dn(f,1),this.isHiddenDay(f)||(u+=1);while(u<r);return{start:h,end:f}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,s=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,o=this.refineRange(s);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?_t(1,r):e||_t({days:1}))}refineRange(e){if(e){let t=$H(e,this.props.dateEnv);return t&&(t=LN(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=Dn(e,t);return e}}function OE(n,e,t,r){return{instanceId:Jo(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function KH(n,e,t,r){for(let s=0;s<r.length;s+=1){let o=r[s].parse(n,t);if(o){let{allDay:u}=n;return u==null&&(u=e,u==null&&(u=o.allDayGuess,u==null&&(u=!1))),{allDay:u,duration:o.duration,typeData:o.typeData,typeId:s}}}return null}function qo(n,e,t){let{dateEnv:r,pluginHooks:s,options:o}=t,{defs:u,instances:h}=n;h=Fo(h,f=>!u[f.defId].recurringDef);for(let f in u){let g=u[f];if(g.recurringDef){let{duration:y}=g.recurringDef;y||(y=g.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let v=XH(g,y,e,r,s.recurringTypes);for(let E of v){let A=OE(f,{start:E,end:r.add(E,y)});h[A.instanceId]=A}}}return{defs:u,instances:h}}function XH(n,e,t,r,s){let u=s[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(u=u.map(Gt)),u}const Kd={id:String,groupId:String,title:String,url:String,interactive:Boolean},zN={start:Z,end:Z,date:Z,allDay:Boolean},ZH=Object.assign(Object.assign(Object.assign({},Kd),zN),{extendedProps:Z});function BN(n,e,t,r,s=ME(t),o,u){let{refined:h,extra:f}=jN(n,t,s),g=eF(e,t),y=KH(h,g,t.dateEnv,t.pluginHooks.recurringTypes);if(y){let E=t_(h,f,e?e.sourceId:"",y.allDay,!!y.duration,t,o);return E.recurringDef={typeId:y.typeId,typeData:y.typeData,duration:y.duration},{def:E,instance:null}}let v=JH(h,g,t,r);if(v){let E=t_(h,f,e?e.sourceId:"",v.allDay,v.hasEnd,t,o),A=OE(E.defId,v.range,v.forcedStartTzo,v.forcedEndTzo);return u&&E.publicId&&u[E.publicId]&&(A.instanceId=u[E.publicId]),{def:E,instance:A}}return null}function jN(n,e,t=ME(e)){return RE(n,t)}function ME(n){return Object.assign(Object.assign(Object.assign({},Bg),ZH),n.pluginHooks.eventRefiners)}function t_(n,e,t,r,s,o,u){let h={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(u&&n.id?u[n.id]:"")||Jo(),sourceId:t,allDay:r,hasEnd:s,interactive:n.interactive,ui:jg(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let f of o.pluginHooks.eventDefMemberAdders)Object.assign(h,f(n));return Object.freeze(h.ui.classNames),Object.freeze(h.extendedProps),h}function JH(n,e,t,r){let{allDay:s}=n,o,u=null,h=!1,f,g=null,y=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(y),o)u=o.marker;else if(!r)return null;return n.end!=null&&(f=t.dateEnv.createMarkerMeta(n.end)),s==null&&(e!=null?s=e:s=(!o||o.isTimeUnspecified)&&(!f||f.isTimeUnspecified)),s&&u&&(u=Gt(u)),f&&(g=f.marker,s&&(g=Gt(g)),u&&g<=u&&(g=null)),g?h=!0:r||(h=t.options.forceEventDuration||!1,g=t.dateEnv.add(u,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:h,range:{start:u,end:g},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:f?f.forcedTzo:null}}function eF(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Ah(n,e,t,r,s,o){let u=hi(),h=ME(t);for(let f of n){let g=BN(f,e,t,r,h,s,o);g&&n_(g,u)}return u}function n_(n,e=hi()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function PE(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],s=_p(n,o=>tF(r,o));return s.defs[r.defId]=r,s.instances[t.instanceId]=t,s}return hi()}function tF(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function hi(){return{defs:{},instances:{}}}function xE(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function _p(n,e){let t=Fo(n.defs,e),r=Fo(n.instances,s=>t[s.defId]);return{defs:t,instances:r}}function nF(n,e){let{defs:t,instances:r}=n,s={},o={};for(let u in t)e.defs[u]||(s[u]=t[u]);for(let u in r)!e.instances[u]&&s[r[u].defId]&&(o[u]=r[u]);return{defs:s,instances:o}}function rF(n,e){return Array.isArray(n)?Ah(n,null,e,!0):typeof n=="object"&&n?Ah([n],null,e,!0):n!=null?String(n):null}function P0(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}const Bg={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Z,overlap:Z,allow:Z,className:P0,classNames:P0,color:String,backgroundColor:String,borderColor:String,textColor:String},iF={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function jg(n,e){let t=rF(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function sF(n){return n.reduce(aF,iF)}function aF(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}const oF={id:String,defaultAllDay:Boolean,url:String,format:String,events:Z,eventDataTransform:Z,success:Z,failure:Z};function HN(n,e,t=FN(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:s,extra:o}=RE(r,t),u=lF(s,e);if(u)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Jo(),sourceDefId:u.sourceDefId,meta:u.meta,ui:jg(s,e),extendedProps:o}}return null}function FN(n){return Object.assign(Object.assign(Object.assign({},Bg),oF),n.pluginHooks.eventSourceRefiners)}function lF(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let o=t[r].parseMeta(n);if(o)return{sourceDefId:r,meta:o}}return null}function uF(n,e,t,r,s){switch(e.type){case"RECEIVE_EVENTS":return cF(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return hF(n,t[e.sourceId],e.rawEvents,r.activeRange,s);case"ADD_EVENTS":return fF(n,e.eventStore,r?r.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return xE(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?qo(n,r.activeRange,s):n;case"REMOVE_EVENTS":return nF(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return GN(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return _p(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return hi();default:return n}}function cF(n,e,t,r,s,o){if(e&&t===e.latestFetchId){let u=Ah(qN(s,e,o),e,o);return r&&(u=qo(u,r,o)),xE(GN(n,e.sourceId),u)}return n}function hF(n,e,t,r,s){const{defIdMap:o,instanceIdMap:u}=gF(n);let h=Ah(qN(t,e,s),e,s,!1,o,u);return qo(h,r,s)}function qN(n,e,t){let r=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(n=x0(n,s)),r&&(n=x0(n,r)),n}function x0(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let s=e(r);s?t.push(s):s==null&&t.push(r)}}return t}function fF(n,e,t,r){return t&&(e=qo(e,t,r)),xE(n,e)}function k0(n,e,t){let{defs:r}=n,s=el(n.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:s}}function GN(n,e){return _p(n,t=>t.sourceId!==e)}function dF(n,e){return{defs:n.defs,instances:Fo(n.instances,t=>!e[t.instanceId])}}function gF(n){const{defs:e,instances:t}=n,r={},s={};for(let o in e){const u=e[o],{publicId:h}=u;h&&(r[h]=o)}for(let o in t){const u=t[o],h=e[u.defId],{publicId:f}=h;f&&(s[f]=o)}return{defIdMap:r,instanceIdMap:s}}class Ep{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){pF(this.handlers,e,t)}off(e,t){mF(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],s=this.options&&this.options[e],o=[].concat(s||[],r);for(let u of o)u.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function pF(n,e,t){(n[e]||(n[e]=[])).push(t)}function mF(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}const yF={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function vF(n,e){return Ah(_F(n),null,e)}function _F(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},yF),t)),e}function $N(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},kE(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function EF(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function kE(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,kF(n,e.dateEnv)),t}function V0(n,e,t){let{dateEnv:r,options:s}=t,o=e;return n?(o=Gt(o),o=r.add(o,s.defaultAllDayEventDuration)):o=r.add(o,s.defaultTimedEventDuration),o}function VE(n,e,t,r){let s=Hg(n.defs,e),o=hi();for(let u in n.defs){let h=n.defs[u];o.defs[u]=bF(h,s[u],t,r)}for(let u in n.instances){let h=n.instances[u],f=o.defs[h.defId];o.instances[u]=AF(h,f,s[h.defId],t,r)}return o}function bF(n,e,t,r){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),s),{ui:Object.assign(Object.assign({},n.ui),s.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let u of r.pluginHooks.eventDefMutationAppliers)u(o,t,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function AF(n,e,t,r,s){let{dateEnv:o}=s,u=r.standardProps&&r.standardProps.allDay===!0,h=r.standardProps&&r.standardProps.hasEnd===!1,f=Object.assign({},n);return u&&(f.range=VN(f.range)),r.datesDelta&&t.startEditable&&(f.range={start:o.add(f.range.start,r.datesDelta),end:o.add(f.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(f.range={start:o.add(f.range.start,r.startDelta),end:f.range.end}),r.endDelta&&t.durationEditable&&(f.range={start:f.range.start,end:o.add(f.range.end,r.endDelta)}),h&&(f.range={start:f.range.start,end:V0(e.allDay,f.range.start,s)}),e.allDay&&(f.range={start:Gt(f.range.start),end:Gt(f.range.end)}),f.range.end<f.range.start&&(f.range.end=V0(e.allDay,f.range.start,s)),f}class Xl{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class $t{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in zN)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Kd[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Kd)t=Kd[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Bg){let r=Bg[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,s=r.createMarker(e);if(s&&this._instance){let o=this._instance.range,u=tu(o.start,s,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:u}):this.mutate({startDelta:u})}}setEnd(e,t={}){let{dateEnv:r}=this._context,s;if(!(e!=null&&(s=r.createMarker(e),!s))&&this._instance)if(s){let o=tu(this._instance.range.end,s,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:s}=this._context,o={allDay:r.allDay},u=s.createMarker(e),h;if(u&&!(t!=null&&(h=s.createMarker(t),!h))&&this._instance){let f=this._instance.range;r.allDay===!0&&(f=VN(f));let g=tu(f.start,u,s,r.granularity);if(h){let y=tu(f.end,h,s,r.granularity);Yj(g,y)?this.mutate({datesDelta:g,standardProps:o}):this.mutate({startDelta:g,endDelta:y,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:g,standardProps:o})}}moveStart(e){let t=_t(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=_t(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=_t(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=s),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,s=Cn(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,s,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,s,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,s=this._context,{eventStore:o}=s.getCurrentData(),u=PE(o,t.instanceId);u=VE(u,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let f=new $t(s,r,t);this._def=u.defs[r.defId],this._instance=u.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:u}),s.emitter.trigger("eventChange",{oldEvent:f,event:this,relatedEvents:Vo(u,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=YN(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Xl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:s,endStr:o}=this,u={allDay:t.allDay};return t.title&&(u.title=t.title),s&&(u.start=s),o&&(u.end=o),t.publicId&&(u.id=t.publicId),t.groupId&&(u.groupId=t.groupId),t.url&&(u.url=t.url),r.display&&r.display!=="auto"&&(u.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?u.color=r.backgroundColor:(r.backgroundColor&&(u.backgroundColor=r.backgroundColor),r.borderColor&&(u.borderColor=r.borderColor)),r.textColor&&(u.textColor=r.textColor),r.classNames.length&&(u.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(u,t.extendedProps):u.extendedProps=t.extendedProps),u}toJSON(){return this.toPlainObject()}}function YN(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Vo(n,e,t){let{defs:r,instances:s}=n,o=[],u=t?t.instanceId:"";for(let h in s){let f=s[h],g=r[f.defId];f.instanceId!==u&&o.push(new $t(e,g,f))}return o}function L0(n,e,t,r){let s={},o={},u={},h=[],f=[],g=Hg(n.defs,e);for(let y in n.defs){let v=n.defs[y];g[v.defId].display==="inverse-background"&&(v.groupId?(s[v.groupId]=[],u[v.groupId]||(u[v.groupId]=v)):o[y]=[])}for(let y in n.instances){let v=n.instances[y],E=n.defs[v.defId],A=g[E.defId],I=v.range,N=!E.allDay&&r?LN(I,r):I,O=Au(N,t);O&&(A.display==="inverse-background"?E.groupId?s[E.groupId].push(O):o[v.defId].push(O):A.display!=="none"&&(A.display==="background"?h:f).push({def:E,ui:A,instance:v,range:O,isStart:N.start&&N.start.valueOf()===O.start.valueOf(),isEnd:N.end&&N.end.valueOf()===O.end.valueOf()}))}for(let y in s){let v=s[y],E=M0(v,t);for(let A of E){let I=u[y],N=g[I.defId];h.push({def:I,ui:N,instance:null,range:A,isStart:!1,isEnd:!1})}}for(let y in o){let v=o[y],E=M0(v,t);for(let A of E)h.push({def:n.defs[y],ui:g[y],instance:null,range:A,isStart:!1,isEnd:!1})}return{bg:h,fg:f}}function U0(n,e){n.fcSeg=e}function Tu(n){return n.fcSeg||n.parentNode.fcSeg||null}function Hg(n,e){return el(n,t=>QN(t,e))}function QN(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),sF(t)}function TF(n,e){let t=n.map(SF);return t.sort((r,s)=>Bj(r,s,e)),t.map(r=>r._seg)}function SF(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,s=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:o,duration:o-s,allDay:Number(t.allDay),_seg:n})}function wF(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:s,ui:o}=n.eventRange,u=o.startEditable;for(let h of r)u=h(u,s,o,e);return u}function RF(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function CF(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function WN(n,e,t,r,s,o,u){let{dateEnv:h,options:f}=t,{displayEventTime:g,displayEventEnd:y}=f,v=n.eventRange.def,E=n.eventRange.instance;g==null&&(g=r!==!1),y==null&&(y=s!==!1);let A=E.range.start,I=E.range.end,N=n.start||n.eventRange.range.start,O=n.end||n.eventRange.range.end,z=Gt(A).valueOf()===Gt(N).valueOf(),j=Gt(Ua(I,-1)).valueOf()===Gt(Ua(O,-1)).valueOf();return g&&!v.allDay&&(z||j)?(N=z?A:N,O=j?I:O,y&&v.hasEnd?h.formatRange(N,O,e,{forcedStartTzo:E.forcedStartTzo,forcedEndTzo:E.forcedEndTzo}):h.format(N,e,{forcedTzo:E.forcedStartTzo})):""}function th(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Da(e,r.start)}}function IF(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function DF(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function KN(n,e){let{def:t,instance:r}=n.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:o,options:u}=e,{eventInteractive:h}=u;return h==null&&(h=t.interactive,h==null&&(h=!!o.hasHandlers("eventClick"))),h?IN(f=>{o.trigger("eventClick",{el:f.target,event:new $t(e,t,r),jsEvent:f,view:e.viewApi})}):{}}const NF={start:Z,end:Z,allDay:Boolean};function OF(n,e,t){let r=MF(n,e),{range:s}=r;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return r}function MF(n,e){let{refined:t,extra:r}=RE(n,NF),s=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:u}=t;return u==null&&(u=s&&s.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:o?o.marker:null},allDay:u},r)}function PF(n,e){return QH(n.range,e.range)&&n.allDay===e.allDay&&xF(n,e)}function xF(n,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&n[t]!==e[t])return!1;for(let t in n)if(!(t in e))return!1;return!0}function kF(n,e){return Object.assign(Object.assign({},ZN(n.range,e,n.allDay)),{allDay:n.allDay})}function XN(n,e,t){return Object.assign(Object.assign({},ZN(n,e,t)),{timeZone:e.timeZone})}function ZN(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function VF(n,e,t){let r=jN({editable:!1},t),s=t_(r.refined,r.extra,"",n.allDay,!0,t);return{def:s,ui:QN(s,e),instance:OE(s.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function LF(n,e,t){let r=!1,s=function(h){r||(r=!0,e(h))},o=function(h){r||(r=!0,t(h))},u=n(s,o);u&&typeof u.then=="function"&&u.then(s,o)}class z0 extends Error{constructor(e,t){super(e),this.response=t}}function UF(n,e,t){n=n.toUpperCase();const r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(s=>{if(s.ok)return s.json().then(o=>[o,s],()=>{throw new z0("Failure parsing JSON",s)});throw new z0("Request failed",s)})}let tv;function JN(){return tv==null&&(tv=zF()),tv}function zF(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}class BF extends Jt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zg(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zg(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,s=r||t.height==="auto"||t.contentHeight==="auto",o=!s&&t.height!=null?t.height:"",u=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return JN()||u.push("fc-liquid-hack"),e.children(u,o,s,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Mu{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function jF(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function LE(n){return{[n.component.uid]:n}}const r_={};class bp extends Dr{constructor(e,t){super(e,t),this.handleRefresh=()=>{let r=this.computeTiming();r.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(r.state),this.clearTimeout(),this.setTimeout(r.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,r=t.nowManager.getDateMarker(),{nowIndicatorSnap:s}=t.options;s==="auto"&&(s=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let o,u;return s?(o=t.dateEnv.startOf(r,e.unit),u=t.dateEnv.add(o,_t(1,e.unit)).valueOf()-r.valueOf()):(o=r,u=1e3*60),u=Math.min(1e3*60*60*24,u),{state:{nowDate:o,todayRange:HF(o)},waitMs:u}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}bp.contextType=tl;function HF(n){let e=Gt(n),t=Dn(e,1);return{start:e,end:t}}class FF{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),s;t=t||"day",s=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,u;for(let h in t)s.push(h);for(o=0;o<s.length;o+=1)if(u=t[s[o]],u&&u.singleUnit===e)return u;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=_t(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Cn(t))}formatRange(e,t,r){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),Cn(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let s=this.getCurrentData(),o=OF(r,s.dateEnv,_t({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),$N(o,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),EF(e,t))}addEvent(e,t){if(e instanceof $t){let u=e._def,h=e._instance;return this.getCurrentData().eventStore.defs[u.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:n_({def:u,instance:h})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),s;if(t instanceof Xl)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=IE(r.eventSources));else if(t!=null){let u=this.getEventSourceById(t);if(!u)return console.warn(`Could not find an event source with ID "${t}"`),null;s=u.internalEventSource}let o=BN(e,s,r,!1);if(o){let u=new $t(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:n_(o)}),this.triggerEventAdd(u),u}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:YN(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:s}=t.eventStore;e=String(e);for(let o in r){let u=r[o];if(u.publicId===e){if(u.recurringDef)return new $t(t,u,null);for(let h in s){let f=s[h];if(f.defId===u.defId)return new $t(t,u,f)}}}return null}getEvents(){let e=this.getCurrentData();return Vo(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let s in t)r.push(new Xl(e,t[s]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let s in r)if(r[s].publicId===e)return new Xl(t,r[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Xl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=HN(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Xl(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=_t(e);t&&this.trigger("_scrollRequest",{time:t})}}function qF(n,e){return n.left>=e.left&&n.left<e.right&&n.top>=e.top&&n.top<e.bottom}function eO(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function GF(n,e){return{left:Math.min(Math.max(n.left,e.left),e.right),top:Math.min(Math.max(n.top,e.top),e.bottom)}}function $F(n){return{left:(n.left+n.right)/2,top:(n.top+n.bottom)/2}}function YF(n,e){return{left:n.left-e.left,top:n.top-e.top}}function tO(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&(!r.activeRange||!Da(r.activeRange,n))),isOther:!!(r&&!Da(r.currentRange,n)),isToday:!!(e&&Da(e,n)),isPast:!!(e&&n<e.start),isFuture:!!(e&&n>=e.end)}}function UE(n,e){let t=["fc-day",`fc-day-${Xj[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}const QF=Cn({year:"numeric",month:"long",day:"numeric"}),WF=Cn({week:"long"});function i_(n,e,t="day",r=!0){const{dateEnv:s,options:o,calendarApi:u}=n;let h=s.format(e,t==="week"?WF:QF);if(o.navLinks){let f=s.toDate(e);const g=y=>{let v=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof v=="function"?v.call(u,s.toDate(e),y):(typeof v=="string"&&(t=v),u.zoomTo(e,t))};return Object.assign({title:Jc(o.navLinkHint,[h,f],h),"data-navlink":""},r?CN(g):{onClick:g})}return{"aria-label":h}}let nv=null;function KF(){return nv===null&&(nv=XF()),nv}function XF(){let n=document.createElement("div");Zc(n,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),n.innerHTML="<div></div>",document.body.appendChild(n);let t=n.firstChild.getBoundingClientRect().left>n.getBoundingClientRect().left;return bE(n),t}let rv;function ZF(){return rv||(rv=JF()),rv}function JF(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=nO(n);return document.body.removeChild(n),e}function nO(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function e9(n,e=!1){let t=window.getComputedStyle(n),r=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,o=parseInt(t.borderTopWidth,10)||0,u=parseInt(t.borderBottomWidth,10)||0,h=nO(n),f=h.y-r-s,g=h.x-o-u,y={borderLeft:r,borderRight:s,borderTop:o,borderBottom:u,scrollbarBottom:g,scrollbarLeft:0,scrollbarRight:0};return KF()&&t.direction==="rtl"?y.scrollbarLeft=f:y.scrollbarRight=f,e&&(y.paddingLeft=parseInt(t.paddingLeft,10)||0,y.paddingRight=parseInt(t.paddingRight,10)||0,y.paddingTop=parseInt(t.paddingTop,10)||0,y.paddingBottom=parseInt(t.paddingBottom,10)||0),y}function t9(n,e=!1,t){let r=zE(n),s=e9(n,e),o={left:r.left+s.borderLeft+s.scrollbarLeft,right:r.right-s.borderRight-s.scrollbarRight,top:r.top+s.borderTop,bottom:r.bottom-s.borderBottom-s.scrollbarBottom};return e&&(o.left+=s.paddingLeft,o.right-=s.paddingRight,o.top+=s.paddingTop,o.bottom-=s.paddingBottom),o}function zE(n){let e=n.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function n9(n){let e=rO(n),t=n.getBoundingClientRect();for(let r of e){let s=eO(t,r.getBoundingClientRect());if(s)t=s;else return null}return t}function rO(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}class Fg{constructor(e,t,r,s){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),s&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],r=[];for(let s of this.els){let o=s.getBoundingClientRect();t.push(o.left-e),r.push(o.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let s of this.els){let o=s.getBoundingClientRect();t.push(o.top-e),r.push(o.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,s=t.length,o;for(o=0;o<s;o+=1)if(e>=t[o]&&e<r[o])return o}topToIndex(e){let{tops:t,bottoms:r}=this,s=t.length,o;for(o=0;o<s;o+=1)if(e>=t[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Sd(this.tops||[],e.tops||[])&&Sd(this.bottoms||[],e.bottoms||[])&&Sd(this.lefts||[],e.lefts||[])&&Sd(this.rights||[],e.rights||[])}}function Sd(n,e){const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}class BE{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class r9 extends BE{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class i9 extends BE{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class rl extends Jt{constructor(){super(...arguments),this.uid=Jo()}prepareHits(){}queryHit(e,t,r,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!qn(e,".fc-event-mirror")}isValidDateDownEl(e){return!qn(e,".fc-event:not(.fc-bg-event)")&&!qn(e,".fc-more-link")&&!qn(e,"a[data-navlink]")&&!qn(e,".fc-popover")}}class s9{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:iO(t.span,e.touchingEntry.span)});r.push(s),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let s=e.span,o=t.span;s.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:o.start}},r),s.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:s.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:s}=this;t.lateral===-1?(iv(s,t.level,t.levelCoord),iv(r,t.level,[e])):iv(r[t.level],t.lateral,e),this.stackCnts[nh(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:s,stackCnts:o}=this,u=t.length,h=0,f=-1,g=-1,y=null,v=0;for(let I=0;I<u;I+=1){const N=t[I];if(!s&&N>=h+this.getEntryThickness(e))break;let O=r[I],z,j=j0(O,e.span.start,B0),te=j[0]+j[1];for(;(z=O[te])&&z.span.start<e.span.end;){let he=N+this.getEntryThickness(z);he>h&&(h=he,y=z,f=I,g=te),he===h&&(v=Math.max(v,o[nh(z)]+1)),te+=1}}let E=0;if(y)for(E=f+1;E<u&&t[E]<h;)E+=1;let A=-1;return E<u&&t[E]===h&&(A=j0(r[E],e.span.end,B0)[0]),{touchingLevel:f,touchingLateral:g,touchingEntry:y,stackCnt:v,levelCoord:h,level:E,lateral:A}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,s=[];for(let o=0;o<r;o+=1){let u=e[o],h=t[o];for(let f of u)s.push(Object.assign(Object.assign({},f),{thickness:this.getEntryThickness(f),levelCoord:h}))}return s}}function B0(n){return n.span.end}function nh(n){return n.index+":"+n.span.start}function iO(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function iv(n,e,t){n.splice(e,0,t)}function j0(n,e,t){let r=0,s=n.length;if(!s||e<t(n[r]))return[0,0];if(e>t(n[s-1]))return[s,0];for(;r<s;){let o=Math.floor(r+(s-r)/2),u=t(n[o]);if(e<u)s=o;else if(e>u)r=o+1;else return[o,1]}return[r,0]}class a9{constructor(e,t){this.emitter=new Ep}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const jE={};function o9(n,e){return!n||e>10?Cn({weekday:"short"}):e>1?Cn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Cn({weekday:"long"})}const sO="fc-col-header-cell";function aO(n){return n.text}class l9 extends Jt{render(){let{dateEnv:e,options:t,theme:r,viewApi:s}=this.context,{props:o}=this,{date:u,dateProfile:h}=o,f=tO(u,o.todayRange,null,h),g=[sO].concat(UE(f,r)),y=e.format(u,o.dayHeaderFormat),v=!f.isDisabled&&o.colCnt>1?i_(this.context,u):{},E=e.toDate(u);e.namedTimeZoneImpl&&(E=Ua(E,36e5));let A=Object.assign(Object.assign(Object.assign({date:E,view:s},o.extraRenderProps),{text:y}),f);return ee(Ds,{elTag:"th",elClasses:g,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":f.isDisabled?void 0:SE(u)},o.extraDataAttrs),renderProps:A,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:aO,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},I=>ee("div",{className:"fc-scrollgrid-sync-inner"},!f.isDisabled&&ee(I,{elTag:"a",elAttrs:v,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}}const u9=Cn({weekday:"long"});class c9 extends Jt{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:s,options:o}=this.context,u=Dn(new Date(2592e5),e.dow),h={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},f=t.format(u,e.dayHeaderFormat),g=Object.assign(Object.assign(Object.assign(Object.assign({date:u},h),{view:s}),e.extraRenderProps),{text:f});return ee(Ds,{elTag:"th",elClasses:[sO,...UE(h,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:aO,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},y=>ee("div",{className:"fc-scrollgrid-sync-inner"},ee(y,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(u,u9)}})))}}class h9 extends Jt{constructor(){super(...arguments),this.createDayHeaderFormatter=pt(f9)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:s,renderIntro:o}=this.props,u=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return ee(bp,{unit:"day"},(h,f)=>ee("tr",{role:"row"},o&&o("day"),t.map(g=>s?ee(l9,{key:g.toISOString(),date:g,dateProfile:r,todayRange:f,colCnt:t.length,dayHeaderFormat:u}):ee(c9,{key:g.getUTCDay(),dow:g.getUTCDay(),dayHeaderFormat:u}))))}}function f9(n,e,t){return n||o9(e,t)}class d9{constructor(e,t){let r=e.start,{end:s}=e,o=[],u=[],h=-1;for(;r<s;)t.isHiddenDay(r)?o.push(h+.5):(h+=1,o.push(h),u.push(r)),r=Dn(r,1);this.dates=u,this.indices=o,this.cnt=u.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(Dn(e.end,-1)),s=Math.max(0,t),o=Math.min(this.cnt-1,r);return s=Math.ceil(s),o=Math.floor(o),s<=o?{firstIndex:s,lastIndex:o,isStart:t===s,isEnd:r===o}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(Ou(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}}class g9{constructor(e,t){let{dates:r}=e,s,o,u;if(t){for(o=r[0].getUTCDay(),s=1;s<r.length&&r[s].getUTCDay()!==o;s+=1);u=Math.ceil(r.length/s)}else u=1,s=r.length;this.rowCnt=u,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let s=0;s<this.colCnt;s+=1)r.push(this.buildCell(t,s));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),s=[];if(r){let{firstIndex:o,lastIndex:u}=r,h=o;for(;h<=u;){let f=Math.floor(h/t),g=Math.min((f+1)*t,u+1);s.push({row:f,firstCol:h%t,lastCol:(g-1)%t,isStart:r.isStart&&h===o,isEnd:r.isEnd&&g-1===u}),h=g}}return s}}class p9{constructor(){this.sliceBusinessHours=pt(this._sliceBusinessHours),this.sliceDateSelection=pt(this._sliceDateSpan),this.sliceEventStore=pt(this._sliceEventStore),this.sliceEventDrag=pt(this._sliceInteraction),this.sliceEventResize=pt(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,s,...o){let{eventUiBases:u}=e,h=this.sliceEventStore(e.eventStore,u,t,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,u,s,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,s,...o),fgEventSegs:h.fg,bgEventSegs:h.bg,eventDrag:this.sliceEventDrag(e.eventDrag,u,t,r,...o),eventResize:this.sliceEventResize(e.eventResize,u,t,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,s,...o){return this._sliceDateSpan({range:{start:e,end:Ua(e,1)},allDay:!1},t,r,{},s,...o)}_sliceBusinessHours(e,t,r,s,...o){return e?this._sliceEventStore(qo(e,wd(t,!!r),s),{},t,r,...o).bg:[]}_sliceEventStore(e,t,r,s,...o){if(e){let u=L0(e,t,wd(r,!!s),s);return{bg:this.sliceEventRanges(u.bg,o),fg:this.sliceEventRanges(u.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,s,...o){if(!e)return null;let u=L0(e.mutatedEvents,t,wd(r,!!s),s);return{segs:this.sliceEventRanges(u.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,s,o,...u){if(!e)return[];let h=wd(t,!!r),f=Au(e.range,h);if(f){e=Object.assign(Object.assign({},e),{range:f});let g=VF(e,s,o),y=this.sliceRange(e.range,...u);for(let v of y)v.eventRange=g;return y}return[]}sliceEventRanges(e,t){let r=[];for(let s of e)r.push(...this.sliceEventRange(s,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:Dn(r.start,1)});let s=this.sliceRange(r,...t);for(let o of s)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return s}}function wd(n,e){let t=n.activeRange;return e?t:{start:Ua(t.start,n.slotMinTime.milliseconds),end:Ua(t.end,n.slotMaxTime.milliseconds-864e5)}}function oO(n,e,t){let{instances:r}=n.mutatedEvents;for(let s in r)if(!vp(e.validRange,r[s].range))return!1;return lO({eventDrag:n},t)}function m9(n,e,t){return vp(e.validRange,n.range)?lO({dateSelection:n},t):!1}function lO(n,e){let t=e.getCurrentData(),r=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},n);return(e.pluginHooks.isPropsValid||y9)(r,e)}function y9(n,e,t={},r){return!(n.eventDrag&&!v9(n,e,t,r)||n.dateSelection&&!_9(n,e,t,r))}function v9(n,e,t,r){let s=e.getCurrentData(),o=n.eventDrag,u=o.mutatedEvents,h=u.defs,f=u.instances,g=Hg(h,o.isEvent?n.eventUiBases:{"":s.selectionConfig});r&&(g=el(g,r));let y=dF(n.eventStore,o.affectedEvents.instances),v=y.defs,E=y.instances,A=Hg(v,n.eventUiBases);for(let I in f){let N=f[I],O=N.range,z=g[N.defId],j=h[N.defId];if(!uO(z.constraints,O,y,n.businessHours,e))return!1;let{eventOverlap:te}=e.options,he=typeof te=="function"?te:null;for(let _e in E){let S=E[_e];if(NE(O,S.range)&&(A[S.defId].overlap===!1&&o.isEvent||z.overlap===!1||he&&!he(new $t(e,v[S.defId],S),new $t(e,j,N))))return!1}let Ee=s.eventStore;for(let _e of z.allows){let S=Object.assign(Object.assign({},t),{range:N.range,allDay:j.allDay}),R=Ee.defs[j.defId],D=Ee.instances[I],V;if(R?V=new $t(e,R,D):V=new $t(e,j),!_e(kE(S,e),V))return!1}}return!0}function _9(n,e,t,r){let s=n.eventStore,o=s.defs,u=s.instances,h=n.dateSelection,f=h.range,{selectionConfig:g}=e.getCurrentData();if(r&&(g=r(g)),!uO(g.constraints,f,s,n.businessHours,e))return!1;let{selectOverlap:y}=e.options,v=typeof y=="function"?y:null;for(let E in u){let A=u[E];if(NE(f,A.range)&&(g.overlap===!1||v&&!v(new $t(e,o[A.defId],A),null)))return!1}for(let E of g.allows){let A=Object.assign(Object.assign({},t),h);if(!E(kE(A,e),null))return!1}return!0}function uO(n,e,t,r,s){for(let o of n)if(!b9(E9(o,e,t,r,s),e))return!1;return!0}function E9(n,e,t,r,s){return n==="businessHours"?sv(qo(r,e,s)):typeof n=="string"?sv(_p(t,o=>o.groupId===n)):typeof n=="object"&&n?sv(qo(n,e,s)):[]}function sv(n){let{instances:e}=n,t=[];for(let r in e)t.push(e[r].range);return t}function b9(n,e){for(let t of n)if(vp(t,e))return!0;return!1}const Rd=/^(visible|hidden)$/;class A9 extends Jt{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,qi(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,s=t&&r,o=["fc-scroller"];return t&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),ee("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Rd.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Rd.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let s=0;s<r.length;s+=1)if(r[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Rd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Rd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Mo{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:s,currentMap:o}=this,u=!1,h=!1;t!==null?(u=r in o,o[r]=t,s[r]=(s[r]||0)+1,h=!0):(s[r]-=1,s[r]||(delete o[r],delete this.callbackMap[r],u=!0)),this.masterCallback&&(u&&this.masterCallback(null,String(r)),h&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return OH(this.currentMap,e,t,r)}getAll(){return IE(this.currentMap)}}function T9(n){let e=Nj(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,qj(r));return Math.ceil(t)}function cO(n,e){return n.liquid&&e.liquid}function S9(n,e){return e.maxHeight!=null||cO(n,e)}function w9(n,e,t,r){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):ee("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,ee(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function R9(n,e){return La(n,e,di)}function C9(n,e){let t=[];for(let r of n){let s=r.span||1;for(let o=0;o<s;o+=1)t.push(ee("col",{style:{width:r.width==="shrink"?I9(e):r.width||"",minWidth:r.minWidth||""}}))}return ee("colgroup",{},...t)}function I9(n){return n??4}function D9(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function N9(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function O9(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function M9(n){return ee("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function H0(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function P9(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}class hO extends Jt{constructor(){super(...arguments),this.processCols=pt(e=>e,R9),this.renderMicroColGroup=pt(C9),this.scrollerRefs=new Mo,this.scrollerElRefs=new Mo(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,s=e.sections||[],o=this.processCols(e.cols),u=this.renderMicroColGroup(o,t.shrinkWidth),h=N9(e.liquid,r);e.collapsibleWidth&&h.push("fc-scrollgrid-collapsible");let f=s.length,g=0,y,v=[],E=[],A=[];for(;g<f&&(y=s[g]).type==="header";)v.push(this.renderSection(y,u,!0)),g+=1;for(;g<f&&(y=s[g]).type==="body";)E.push(this.renderSection(y,u,!1)),g+=1;for(;g<f&&(y=s[g]).type==="footer";)A.push(this.renderSection(y,u,!0)),g+=1;let I=!JN();const N={role:"rowgroup"};return ee("table",{role:"grid",className:h.join(" "),style:{height:e.height}},!!(!I&&v.length)&&ee("thead",N,...v),!!(!I&&E.length)&&ee("tbody",N,...E),!!(!I&&A.length)&&ee("tfoot",N,...A),I&&ee("tbody",N,...v,...E,...A))}renderSection(e,t,r){return"outerContent"in e?ee(rn,{key:e.key},e.outerContent):ee("tr",{key:e.key,role:"presentation",className:O9(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,s){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:u,scrollerClientWidths:h,scrollerClientHeights:f}=this.state,g=S9(o,e),y=cO(o,e),v=o.liquid?u?"scroll":g?"auto":"hidden":"visible",E=e.key,A=w9(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&h[E]!==void 0?h[E]:null,clientHeight:f[E]!==void 0?f[E]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return ee(s?"th":"td",{ref:r.elRef,role:"presentation"},ee("div",{className:`fc-scroller-harness${y?" fc-scroller-harness-liquid":""}`},ee(A9,{ref:this.scrollerRefs.createRef(E),elRef:this.scrollerElRefs.createRef(E),overflowY:v,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:y,liquidIsAbsolute:!0},A)))}_handleScrollerEl(e,t){let r=x9(this.props.sections,t);r&&qi(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return D9(this.props.cols)?T9(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=ZF(),{scrollerRefs:t,scrollerElRefs:r}=this,s=!1,o={},u={};for(let h in t.currentMap){let f=t.currentMap[h];if(f&&f.needsYScrolling()){s=!0;break}}for(let h of this.props.sections){let f=h.key,g=r.currentMap[f];if(g){let y=g.parentNode;o[f]=Math.floor(y.getBoundingClientRect().width-(s?e.y:0)),u[f]=Math.floor(y.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:o,scrollerClientHeights:u}}}hO.addStateEquality({scrollerClientWidths:di,scrollerClientHeights:di});function x9(n,e){for(let t of n)if(t.key===e)return t;return null}class HE extends Jt{constructor(){super(...arguments),this.buildPublicEvent=pt((e,t,r)=>new $t(e,t,r)),this.handleEl=e=>{this.el=e,qi(this.props.elRef,e),e&&U0(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:r}=t,{seg:s}=e,{eventRange:o}=s,{ui:u}=o,h={event:this.buildPublicEvent(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:u.textColor,backgroundColor:u.backgroundColor,borderColor:u.borderColor,isDraggable:!e.disableDragging&&wF(s,t),isStartResizable:!e.disableResizing&&RF(s,t),isEndResizable:!e.disableResizing&&CF(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ee(Ds,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...IF(h),...s.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:h,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&U0(this.el,this.props.seg)}}class fO extends Jt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:s}=e,{ui:o}=s.eventRange,u=r.eventTimeFormat||e.defaultTimeFormat,h=WN(s,u,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ee(HE,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:KN(s,t),defaultGenerator:k9,timeText:h}),(f,g)=>ee(rn,null,ee(f,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:g.textColor}}),!!g.isStartResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!g.isEndResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}fO.addPropsEquality({seg:di});function k9(n){return ee("div",{className:"fc-event-main-frame"},n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title-container"},ee("div",{className:"fc-event-title fc-sticky"},n.event.title||ee(rn,null,""))))}const V9=Cn({day:"numeric"});class dO extends Jt{constructor(){super(...arguments),this.refineRenderProps=Wd(L9)}render(){let{props:e,context:t}=this,{options:r}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return ee(Ds,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":SE(e.date)}),elClasses:[...UE(s,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount},e.children)}}function gO(n){return!!(n.dayCellContent||e_("dayCellContent",n))}function L9(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:s}=n,o=tO(e,n.todayRange,null,r),u=n.showDayNumber?t.format(e,s?n.monthStartFormat:V9):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:s,dayNumberText:u}),n.extraRenderProps)}class U9 extends Jt{render(){let{props:e}=this,{seg:t}=e;return ee(HE,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:z9,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function z9(n){let{title:e}=n.event;return e&&ee("div",{className:"fc-event-title"},n.event.title)}function B9(n){return ee("div",{className:`fc-${n}`})}const j9=n=>ee(tl.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:s}=n,o=r.weekNumberFormat||n.defaultFormat,u=t.computeWeekNumber(s),h=t.format(s,o),f={num:u,text:h,date:s};return ee(Ds,{elRef:n.elRef,elTag:n.elTag,elAttrs:n.elAttrs,elClasses:n.elClasses,elStyle:n.elStyle,renderProps:f,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:H9,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount},n.children)});function H9(n){return n.text}const av=10;class F9 extends Jt{constructor(){super(...arguments),this.state={titleId:mp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&qi(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=wN(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:s}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return mj(ee("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),ee("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ee("span",{className:"fc-popover-title",id:s.titleId},r.title),ee("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),ee("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:s}=this,o=n9(t);if(o){let u=s.getBoundingClientRect(),h=r?qn(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,f=e?o.right-u.width:o.left;h=Math.max(h,av),f=Math.min(f,document.documentElement.clientWidth-av-u.width),f=Math.max(f,av);let g=s.offsetParent.getBoundingClientRect();Zc(s,{top:h-g.top,left:f-g.left})}}}class q9 extends rl{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:s,todayRange:o,dateProfile:u}=r,h=t.format(s,e.dayPopoverFormat);return ee(dO,{elRef:this.handleRootEl,date:s,dateProfile:u,todayRange:o},(f,g,y)=>ee(F9,{elRef:y.ref,id:r.id,title:h,extraClassNames:["fc-more-popover"].concat(y.className||[]),extraAttrs:y,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},gO(e)&&ee(f,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,s){let{rootEl:o,props:u}=this;return e>=0&&e<r&&t>=0&&t<s?{dateProfile:u.dateProfile,dateSpan:Object.assign({allDay:!u.forceTimed,range:{start:u.startDate,end:u.endDate}},u.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:s},layer:1}:null}}class G9 extends Jt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:mp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&qi(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:s}=r.options,o=F0(t).start;function u(h){let{def:f,instance:g,range:y}=h.eventRange;return{event:new $t(r,f,g),start:r.dateEnv.toDate(y.start),end:r.dateEnv.toDate(y.end),isStart:h.isStart,isEnd:h.isEnd}}typeof s=="function"&&(s=s({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(u),hiddenSegs:t.hiddenSegs.map(u),jsEvent:e,view:r.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&r.calendarApi.zoomTo(o,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return ee(tl.Consumer,null,r=>{let{viewApi:s,options:o,calendarApi:u}=r,{moreLinkText:h}=o,{moreCnt:f}=e,g=F0(e),y=typeof h=="function"?h.call(u,f):`+${f} ${h}`,v=Jc(o.moreLinkHint,[f],y),E={num:f,shortText:`+${f}`,text:y,view:s};return ee(rn,null,!!e.moreCnt&&ee(Ds,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),CN(this.handleClick)),{title:v,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:E,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||$9,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&ee(q9,{id:t.popoverId,startDate:g.start,endDate:g.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=qn(this.linkEl,".fc-view-harness"))}}function $9(n){return n.text}function F0(n){if(n.allDayDate)return{start:n.allDayDate,end:Dn(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:Y9(e),end:W9(e)}}function Y9(n){return n.reduce(Q9).eventRange.range.start}function Q9(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function W9(n){return n.reduce(K9).eventRange.range.end}function K9(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}class X9{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Z9 extends X9{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}}const J9=[],pO={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},mO=Object.assign(Object.assign({},pO),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function e5(n){let e=n.length>0?n[0].code:"en",t=J9.concat(n),r={en:mO};for(let s of t)r[s.code]=s;return{map:r,defaultCode:e}}function yO(n,e){return typeof n=="object"&&!Array.isArray(n)?vO(n.code,[n.code],n):t5(n,e)}function t5(n,e){let t=[].concat(n||[]),r=n5(t,e)||mO;return vO(n,t,r)}function n5(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let s=r.length;s>0;s-=1){let o=r.slice(0,s).join("-");if(e[o])return e[o]}}return null}function vO(n,e,t){let r=CE([pO,t],["buttonText"]);delete r.code;let{week:s}=r;return delete r.week,{codeArg:n,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function qa(n){return{id:Jo(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function r5(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(o){for(let u of o){const h=u.name,f=t[h];f===void 0?(t[h]=u.id,s(u.deps),r=s5(r,u)):f!==u.id&&console.warn(`Duplicate plugin '${h}'`)}}return n&&s(n),s(e),r}function i5(){let n=[],e=[],t;return(r,s)=>((!t||!La(r,n)||!La(s,e))&&(t=r5(r,s)),n=r,e=s,t)}function s5(n,e){return{premiumReleaseDate:a5(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function a5(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}class Ga extends Hh{}Ga.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Ga.prototype.baseIconClass="fc-icon";Ga.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Ga.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Ga.prototype.iconOverrideOption="buttonIcons";Ga.prototype.iconOverrideCustomButtonOption="icon";Ga.prototype.iconOverridePrefix="fc-icon-";function o5(n,e){let t={},r;for(r in n)s_(r,t,n,e);for(r in e)s_(r,t,n,e);return t}function s_(n,e,t,r){if(e[n])return e[n];let s=l5(n,e,t,r);return s&&(e[n]=s),s}function l5(n,e,t,r){let s=t[n],o=r[n],u=y=>s&&s[y]!==null?s[y]:o&&o[y]!==null?o[y]:null,h=u("component"),f=u("superType"),g=null;if(f){if(f===n)throw new Error("Can't have a custom view type that references itself");g=s_(f,e,t,r)}return!h&&g&&(h=g.component),h?{type:n,component:h,defaults:Object.assign(Object.assign({},g?g.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},g?g.overrides:{}),o?o.rawOptions:{})}:null}function q0(n){return el(n,u5)}function u5(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=G0(e):t&&!(t.prototype instanceof Jt)&&(t=G0(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function G0(n){return e=>ee(tl.Consumer,null,t=>ee(Ds,{elTag:"div",elClasses:kN(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function c5(n,e,t,r){let s=q0(n),o=q0(e.views),u=o5(s,o);return el(u,h=>h5(h,o,e,t,r))}function h5(n,e,t,r,s){let o=n.overrides.duration||n.defaults.duration||r.duration||t.duration,u=null,h="",f="",g={};if(o&&(u=f5(o),u)){let E=Jv(u);h=E.unit,E.value===1&&(f=h,g=e[h]?e[h].rawOptions:{})}let y=E=>{let A=E.buttonText||{},I=n.defaults.buttonTextKey;return I!=null&&A[I]!=null?A[I]:A[n.type]!=null?A[n.type]:A[f]!=null?A[f]:null},v=E=>{let A=E.buttonHints||{},I=n.defaults.buttonTextKey;return I!=null&&A[I]!=null?A[I]:A[n.type]!=null?A[n.type]:A[f]!=null?A[f]:null};return{type:n.type,component:n.component,duration:u,durationUnit:h,singleUnit:f,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},g),n.overrides),buttonTextOverride:y(r)||y(t)||n.overrides.buttonText,buttonTextDefault:y(s)||n.defaults.buttonText||y(eh)||n.type,buttonTitleOverride:v(r)||v(t)||n.overrides.buttonHint,buttonTitleDefault:v(s)||n.defaults.buttonHint||v(eh)}}let $0={};function f5(n){let e=JSON.stringify(n),t=$0[e];return t===void 0&&(t=_t(n),$0[e]=t),t}function d5(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function g5(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function p5(n,e,t){let r=n.initialDate;return r!=null?e.createMarker(r):t.getDateMarker()}function m5(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function y5(n,e,t,r){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(s=r.buildPrev(n,t),s.isValid)return s;break;case"NEXT":if(s=r.buildNext(n,t),s.isValid)return s;break}return n}function v5(n,e,t){let r=e?e.activeRange:null;return EO({},w5(n,t),r,t)}function _5(n,e,t,r){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return EO(n,e.sources,s,r);case"REMOVE_EVENT_SOURCE":return b5(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?bO(n,s,r):n;case"FETCH_EVENT_SOURCES":return FE(n,e.sourceIds?NN(e.sourceIds):AO(n,r),s,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return S5(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function E5(n,e,t){let r=e?e.activeRange:null;return FE(n,AO(n,t),r,!0,t)}function _O(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function EO(n,e,t,r){let s={};for(let o of e)s[o.sourceId]=o;return t&&(s=bO(s,t,r)),Object.assign(Object.assign({},n),s)}function b5(n,e){return Fo(n,t=>t.sourceId!==e)}function bO(n,e,t){return FE(n,Fo(n,r=>A5(r,e,t)),e,!1,t)}function A5(n,e,t){return TO(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function FE(n,e,t,r,s){let o={};for(let u in n){let h=n[u];e[u]?o[u]=T5(h,t,r,s):o[u]=h}return o}function T5(n,e,t,r){let{options:s,calendarApi:o}=r,u=r.pluginHooks.eventSourceDefs[n.sourceDefId],h=Jo();return u.fetch({eventSource:n,range:e,isRefetch:t,context:r},f=>{let{rawEvents:g}=f;s.eventSourceSuccess&&(g=s.eventSourceSuccess.call(o,g,f.response)||g),n.success&&(g=n.success.call(o,g,f.response)||g),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:h,fetchRange:e,rawEvents:g})},f=>{let g=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(o,f),g=!0),n.failure&&(n.failure(f),g=!0),g||console.warn(f.message,f),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:h,fetchRange:e,error:f})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:h})}function S5(n,e,t,r){let s=n[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:r})}):n}function AO(n,e){return Fo(n,t=>TO(t,e))}function w5(n,e){let t=FN(e),r=[].concat(n.eventSources||[]),s=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let o of r){let u=HN(o,e,t);u&&s.push(u)}return s}function TO(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function R5(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function C5(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function I5(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function D5(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function N5(n,e,t,r,s){let o=n.headerToolbar?Y0(n.headerToolbar,n,e,t,r,s):null,u=n.footerToolbar?Y0(n.footerToolbar,n,e,t,r,s):null;return{header:o,footer:u}}function Y0(n,e,t,r,s,o){let u={},h=[],f=!1;for(let g in n){let y=n[g],v=O5(y,e,t,r,s,o);u[g]=v.widgets,h.push(...v.viewsWithButtons),f=f||v.hasTitle}return{sectionWidgets:u,viewsWithButtons:h,hasTitle:f}}function O5(n,e,t,r,s,o){let u=e.direction==="rtl",h=e.customButtons||{},f=t.buttonText||{},g=e.buttonText||{},y=t.buttonHints||{},v=e.buttonHints||{},E=n?n.split(" "):[],A=[],I=!1;return{widgets:E.map(O=>O.split(",").map(z=>{if(z==="title")return I=!0,{buttonName:z};let j,te,he,Ee,_e,S;if(j=h[z])he=R=>{j.click&&j.click.call(R.target,R,R.target)},(Ee=r.getCustomButtonIconClass(j))||(Ee=r.getIconClass(z,u))||(_e=j.text),S=j.hint||j.text;else if(te=s[z]){A.push(z),he=()=>{o.changeView(z)},(_e=te.buttonTextOverride)||(Ee=r.getIconClass(z,u))||(_e=te.buttonTextDefault);let R=te.buttonTextOverride||te.buttonTextDefault;S=Jc(te.buttonTitleOverride||te.buttonTitleDefault||e.viewHint,[R,z],R)}else if(o[z])if(he=()=>{o[z]()},(_e=f[z])||(Ee=r.getIconClass(z,u))||(_e=g[z]),z==="prevYear"||z==="nextYear"){let R=z==="prevYear"?"prev":"next";S=Jc(y[R]||v[R],[g.year||"year","year"],g[z])}else S=R=>Jc(y[z]||v[z],[g[R]||R,R],g[z]);return{buttonName:z,buttonClick:he,buttonIcon:Ee,buttonText:_e,buttonHint:S}})),viewsWithButtons:A,hasTitle:I}}class M5{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let P5={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}};const x5=qa({name:"array-event-source",eventSourceDefs:[P5]});let k5={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){const{dateEnv:r}=n.context,s=n.eventSource.meta;LF(s.bind(null,XN(n.range,r)),o=>e({rawEvents:o}),t)}};const V5=qa({name:"func-event-source",eventSourceDefs:[k5]}),L5={method:String,extraParams:Z,startParam:String,endParam:String,timeZoneParam:String};let U5={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){const{meta:r}=n.eventSource,s=B5(r,n.range,n.context);UF(r.method,r.url,s).then(([o,u])=>{e({rawEvents:o,response:u})},t)}};const z5=qa({name:"json-event-source",eventSourceRefiners:L5,eventSourceDefs:[U5]});function B5(n,e,t){let{dateEnv:r,options:s}=t,o,u,h,f,g={};return o=n.startParam,o==null&&(o=s.startParam),u=n.endParam,u==null&&(u=s.endParam),h=n.timeZoneParam,h==null&&(h=s.timeZoneParam),typeof n.extraParams=="function"?f=n.extraParams():f=n.extraParams||{},Object.assign(g,f),g[o]=r.formatIso(e.start),g[u]=r.formatIso(e.end),r.timeZone!=="local"&&(g[h]=r.timeZone),g}const j5={daysOfWeek:Z,startTime:_t,endTime:_t,duration:_t,startRecur:Z,endRecur:Z};let H5={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null,dateEnv:e},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=Qj(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=Au(e,{start:n.startRecur,end:n.endRecur});return r?q5(n.daysOfWeek,n.startTime,n.dateEnv,t,r):[]}};const F5=qa({name:"simple-recurring-event",recurringTypes:[H5],eventRefiners:j5});function q5(n,e,t,r,s){let o=n?NN(n):null,u=Gt(s.start),h=s.end,f=[];for(e&&(e.milliseconds<0?h=Dn(h,1):e.milliseconds>=1e3*60*60*24&&(u=Dn(u,-1)));u<h;){let g;(!o||o[u.getUTCDay()])&&(e?g=r.add(u,e):g=u,f.push(r.createMarker(t.toDate(g)))),u=Dn(u,1)}return f}const G5=qa({name:"change-handler",optionChangeHandlers:{events(n,e){Q0([n],e)},eventSources:Q0}});function Q0(n,e){let t=IE(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let s of n){let o=!1;for(let u=0;u<t.length;u+=1)if(t[u]._raw===s){t.splice(u,1),o=!0;break}o||r.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of r)e.calendarApi.addEventSource(s)}function $5(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},XN(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function Y5(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Vo(n,e))}const Q5=[x5,V5,z5,F5,G5,qa({name:"misc",isLoadingFuncs:[n=>_O(n.eventSources)],propSetHandlers:{dateProfile:$5,eventStore:Y5}})];class W5{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new EE(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function K5(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,Cn(e.titleFormat||X5(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function X5(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=kg(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class W0{constructor(){this.resetListeners=new Set}handleInput(e,t){const r=this.dateEnv;if(e!==r&&(typeof t=="function"?this.nowFn=t:r||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,r))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class Z5{constructor(e){this.computeCurrentViewData=pt(this._computeCurrentViewData),this.organizeRawLocales=pt(e5),this.buildLocale=pt(yO),this.buildPluginHooks=i5(),this.buildDateEnv=pt(J5),this.buildTheme=pt(eq),this.parseToolbars=pt(N5),this.buildViewSpecs=pt(c5),this.buildDateProfileGenerator=Wd(tq),this.buildViewApi=pt(nq),this.buildViewUiProps=Wd(sq),this.buildEventUiBySource=pt(rq,di),this.buildEventUiBases=pt(iq),this.parseContextBusinessHours=Wd(aq),this.buildTitle=pt(K5),this.nowManager=new W0,this.emitter=new Ep,this.actionRunner=new W5(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=E=>{this.actionRunner.request(E)},this.props=e,this.actionRunner.pause(),this.nowManager=new W0;let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(s,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let u={nowManager:this.nowManager,dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},h=p5(r.calendarOptions,r.dateEnv,this.nowManager),f=o.dateProfileGenerator.build(h);Da(f.activeRange,h)||(h=f.currentRange.start);for(let E of r.pluginHooks.contextInit)E(u);let g=v5(r.calendarOptions,f,u),y={dynamicOptionOverrides:t,currentViewType:s,currentDate:h,dateProfile:f,businessHours:this.parseContextBusinessHours(u),eventSources:g,eventUiBases:{},eventStore:hi(),renderableEventStore:hi(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(u).selectionConfig},v=Object.assign(Object.assign({},u),y);for(let E of r.pluginHooks.reducers)Object.assign(y,E(null,null,v));ov(y,u)&&this.emitter.trigger("loading",!0),this.state=y,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:s}=this,o=m5(r.dynamicOptionOverrides,e),u=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),h=d5(r.currentViewType,e),f=this.computeCurrentViewData(h,u,t.optionOverrides,o);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(f.options);let g={nowManager:this.nowManager,dateEnv:u.dateEnv,options:u.calendarOptions,pluginHooks:u.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:y,dateProfile:v}=r;this.data&&this.data.dateProfileGenerator!==f.dateProfileGenerator&&(v=f.dateProfileGenerator.build(y)),y=g5(y,e),v=y5(v,e,y,f.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Da(v.currentRange,y))&&(y=v.currentRange.start);let E=_5(r.eventSources,e,v,g),A=uF(r.eventStore,e,E,v,g),N=_O(E)&&!f.options.progressiveEventRendering&&r.renderableEventStore||A,{eventUiSingleBase:O,selectionConfig:z}=this.buildViewUiProps(g),j=this.buildEventUiBySource(E),te=this.buildEventUiBases(N.defs,O,j),he={dynamicOptionOverrides:o,currentViewType:h,currentDate:y,dateProfile:v,eventSources:E,eventStore:A,renderableEventStore:N,selectionConfig:z,eventUiBases:te,businessHours:this.parseContextBusinessHours(g),dateSelection:R5(r.dateSelection,e),eventSelection:C5(r.eventSelection,e),eventDrag:I5(r.eventDrag,e),eventResize:D5(r.eventResize,e)},Ee=Object.assign(Object.assign({},g),he);for(let R of u.pluginHooks.reducers)Object.assign(he,R(r,e,Ee));let _e=ov(r,g),S=ov(he,g);!_e&&S?s.trigger("loading",!0):_e&&!S&&s.trigger("loading",!1),this.state=he,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),u=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,o.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),o),t),h=s.pluginHooks.optionChangeHandlers,f=r&&r.calendarOptions,g=s.calendarOptions;if(f&&f!==g){f.timeZone!==g.timeZone&&(t.eventSources=u.eventSources=E5(u.eventSources,t.dateProfile,u),t.eventStore=u.eventStore=k0(u.eventStore,r.dateEnv,u.dateEnv),t.renderableEventStore=u.renderableEventStore=k0(u.renderableEventStore,r.dateEnv,u.dateEnv));for(let y in h)(this.optionsForHandling.indexOf(y)!==-1||f[y]!==g[y])&&h[y](g[y],u)}this.optionsForHandling=[],e.onData&&e.onData(u)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:o,localeDefaults:u,availableLocaleData:h,extra:f}=this.processRawCalendarOptions(e,t);K0(f);let g=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,o,h,s.defaultRangeSeparator),y=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,u),v=this.buildTheme(s,o),E=this.parseToolbars(s,this.stableOptionOverrides,v,y,r);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:o,dateEnv:g,viewSpecs:y,theme:v,toolbarConfig:E,localeDefaults:u,availableRawLocales:h.map}}processRawCalendarOptions(e,t){let{locales:r,locale:s}=Jy([eh,e,t]),o=this.organizeRawLocales(r),u=o.map,h=this.buildLocale(s||o.defaultCode,u).options,f=this.buildPluginHooks(e.plugins||[],Q5),g=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},I0),D0),N0),f.listenerRefiners),f.optionRefiners),y={},v=Jy([eh,h,e,t]),E={},A=this.currentCalendarOptionsInput,I=this.currentCalendarOptionsRefined,N=!1;for(let O in v)this.optionsForRefining.indexOf(O)===-1&&(v[O]===A[O]||wo[O]&&O in A&&wo[O](A[O],v[O]))?E[O]=I[O]:g[O]?(E[O]=g[O](v[O]),N=!0):y[O]=A[O];return N&&(this.currentCalendarOptionsInput=v,this.currentCalendarOptionsRefined=E,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:f,availableLocaleData:o,localeDefaults:h,extra:y}}_computeCurrentViewData(e,t,r,s){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:u,extra:h}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,r,s);K0(h),this.nowManager.handleInput(t.dateEnv,u.now);let f=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:u.slotMinTime,slotMaxTime:u.slotMaxTime,showNonCurrentDates:u.showNonCurrentDates,dayCount:u.dayCount,dateAlignment:u.dateAlignment,dateIncrement:u.dateIncrement,hiddenDays:u.hiddenDays,weekends:u.weekends,validRangeInput:u.validRange,visibleRangeInput:u.visibleRange,fixedWeekCount:u.fixedWeekCount}),g=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:u,dateProfileGenerator:f,viewApi:g}}processRawViewOptions(e,t,r,s,o){let u=Jy([eh,e.optionDefaults,r,s,e.optionOverrides,o]),h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},I0),D0),N0),RH),t.listenerRefiners),t.optionRefiners),f={},g=this.currentViewOptionsInput,y=this.currentViewOptionsRefined,v=!1,E={};for(let A in u)u[A]===g[A]||wo[A]&&wo[A](u[A],g[A])?f[A]=y[A]:(u[A]===this.currentCalendarOptionsInput[A]||wo[A]&&wo[A](u[A],this.currentCalendarOptionsInput[A])?A in this.currentCalendarOptionsRefined&&(f[A]=this.currentCalendarOptionsRefined[A]):h[A]?f[A]=h[A](u[A]):E[A]=u[A],v=!0);return v&&(this.currentViewOptionsInput=u,this.currentViewOptionsRefined=f),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:E}}}function J5(n,e,t,r,s,o,u,h){let f=yO(e||u.defaultCode,u.map);return new LH({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:f,weekNumberCalculation:t,firstDay:r,weekText:s,cmdFormatter:o.cmdFormatter,defaultSeparator:h})}function eq(n,e){let t=e.themeClasses[n.themeSystem]||Ga;return new t(n)}function tq(n){let e=n.dateProfileGeneratorClass||UN;return new e(n)}function nq(n,e,t){return new M5(n,e,t)}function rq(n){return el(n,e=>e.ui)}function iq(n,e,t){let r={"":e};for(let s in n){let o=n[s];o.sourceId&&t[o.sourceId]&&(r[s]=t[o.sourceId])}return r}function sq(n){let{options:e}=n;return{eventUiSingleBase:jg({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:jg({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function ov(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function aq(n){return vF(n.options.businessHours,n)}function K0(n,e){for(let t in n)console.warn(`Unknown option '${t}'`)}class oq extends Jt{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return ee("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,s=[],o=!0;for(let u of e){let{buttonName:h,buttonClick:f,buttonText:g,buttonIcon:y,buttonHint:v}=u;if(h==="title")o=!1,s.push(ee("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let E=h===t.activeButton,A=!t.isTodayEnabled&&h==="today"||!t.isPrevEnabled&&h==="prev"||!t.isNextEnabled&&h==="next",I=[`fc-${h}-button`,r.getClass("button")];E&&I.push(r.getClass("buttonActive")),s.push(ee("button",{type:"button",title:typeof v=="function"?v(t.navUnit):v,disabled:A,"aria-pressed":E,className:I.join(" "),onClick:f},g||(y?ee("span",{className:y,role:"img"}):"")))}}if(s.length>1){let u=o&&r.getClass("buttonGroup")||"";return ee("div",{className:u},...s)}return s[0]}}class X0 extends Jt{render(){let{model:e,extraClassName:t}=this.props,r=!1,s,o,u=e.sectionWidgets,h=u.center;return u.left?(r=!0,s=u.left):s=u.start,u.right?(r=!0,o=u.right):o=u.end,ee("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",h||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:r}=this;return ee(oq,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class lq extends Jt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,qi(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,s=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",u="";return r?t.availableWidth!==null?o=t.availableWidth/r:u=`${1/r*100}%`:o=e.height||"",ee("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:o,paddingBottom:u}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class uq extends Mu{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:s}=this,{context:o}=s,u=Tu(r);if(u&&s.isValidSegDownEl(t.target)){let h=qn(t.target,".fc-event-forced-url"),f=h?h.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new $t(s.context,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi}),f&&!t.defaultPrevented&&(window.location.href=f)}},this.destroy=RN(e.el,"click",".fc-event",this.handleSegClick)}}class cq extends Mu{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{Tu(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=Pj(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:s}=this,{context:o}=s,u=Tu(r);(!t||s.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:r,event:new $t(o,u.eventRange.def,u.eventRange.instance),jsEvent:t,view:o.viewApi})}}class hq extends nl{constructor(){super(...arguments),this.buildViewContext=pt(BH),this.buildViewPropTransformers=pt(dq),this.buildToolbarProps=pt(fq),this.headerRef=Is(),this.footerRef=Is(),this.interactionsStore={},this.state={viewLabelId:mp()},this.registerInteractiveComponent=(e,t)=>{let r=jF(e,t),u=[uq,cq].concat(this.props.pluginHooks.componentInteractions).map(h=>new h(r));this.interactionsStore[e.uid]=u,r_[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete r_[e.uid]},this.resizeRunner=new EE(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,s=!1,o="",u;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:u=Math.max(r.aspectRatio,.5);let h=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),f=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return ee(tl.Provider,{value:h},ee(bp,{unit:"day"},g=>{let y=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,g,e.viewTitle);return ee(rn,null,t.header&&ee(X0,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:f},y)),ee(lq,{liquid:s,height:o,aspectRatio:u,labeledById:f},this.renderView(e),this.buildAppendContent()),t.footer&&ee(X0,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},y)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let s in r)t[s]!==e[s]&&r[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return ee(rn,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let h of o)Object.assign(s,h.transform(s,e));let u=r.component;return ee(u,Object.assign({},s))}}function fq(n,e,t,r,s,o){let u=t.build(s,void 0,!1),h=t.buildPrev(e,r,!1),f=t.buildNext(e,r,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:u.isValid&&!Da(e.currentRange,s),isPrevEnabled:h.isValid,isNextEnabled:f.isValid}}function dq(n){return n.map(e=>new e)}let gq=class extends FF{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;zg(()=>{Eh(ee(BF,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(s,o,u,h)=>(this.setClassNames(s),this.setHeight(o),ee(xN.Provider,{value:this.customContentRenderId},ee(hq,Object.assign({isHeightAuto:u,forPrint:h},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Eh(null,this.el),this.setClassNames([]),this.setHeight(""))},Sj(e),this.el=e,this.renderRunner=new EE(this.handleRenderRequest),new Z5({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zg(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!La(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){SN(this.el,"height",e)}};const pq=parseInt(String(Yr.version).split(".")[0]),mq=pq<18;class SO extends q.Component{constructor(){super(...arguments),this.elRef=q.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Yr.createElement(yq,{key:t.id,customRendering:t}));return Yr.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Z9;this.handleCustomRendering=e.handle.bind(e),this.calendar=new gq(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Jd.flushSync(()=>{})});let t;e.subscribe(r=>{const s=Date.now(),o=!t;(mq||o||this.isUpdating||this.isUnmounting||s-t<100?wO:Jd.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{t=s,o?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}SO.act=wO;class yq extends q.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,r=typeof t=="function"?t(e.renderProps):t;return Jd.createPortal(r,e.containerEl)}}function wO(n){n()}class vq extends rl{constructor(){super(...arguments),this.headerElRef=Is()}renderSimpleLayout(e,t){let{props:r,context:s}=this,o=[],u=H0(s.options);return e&&o.push({type:"header",key:"header",isSticky:u,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),ee(O0,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},ee(hO,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,r,s){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:u,context:h}=this,f=!u.forPrint&&H0(h.options),g=!u.forPrint&&P9(h.options),y=[];return e&&y.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),y.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),g&&y.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:M9}]}),ee(O0,{elClasses:["fc-daygrid"],viewSpec:h.viewSpec},ee(o,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:u.forPrint,colGroups:[{cols:[{span:r,minWidth:s}]}],sections:y}))}}function Xd(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function Cd(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function Z0(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}const RO=Cn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function CO(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}class IO extends Jt{render(){let{props:e}=this;return ee(fO,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:RO,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class DO extends Jt{render(){let{props:e,context:t}=this,{options:r}=t,{seg:s}=e,o=r.eventTimeFormat||RO,u=WN(s,o,t,!0,e.defaultDisplayEventEnd);return ee(HE,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:KN(e.seg,t),defaultGenerator:_q,timeText:u,isResizing:!1,isDateSelecting:!1}))}}function _q(n){return ee(rn,null,ee("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&ee("div",{className:"fc-event-time"},n.timeText),ee("div",{className:"fc-event-title"},n.event.title||ee(rn,null,"")))}class Eq extends Jt{constructor(){super(...arguments),this.compileSegs=pt(bq)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return ee(G9,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ee(rn,null,t.map(o=>{let u=o.eventRange.instance.instanceId;return ee("div",{className:"fc-daygrid-event-harness",key:u,style:{visibility:s[u]?"hidden":""}},CO(o)?ee(DO,Object.assign({seg:o,isDragging:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},th(o,e.todayRange))):ee(IO,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:u===e.eventSelection,defaultDisplayEventEnd:!1},th(o,e.todayRange))))}))}})}}function bq(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}const Aq=Cn({week:"narrow"});class Tq extends rl{constructor(){super(...arguments),this.rootElRef=Is(),this.state={dayNumberId:mp()},this.handleRootEl=e=>{qi(this.rootElRef,e),qi(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:s}=this,{options:o,dateEnv:u}=e,{date:h,dateProfile:f}=t;const g=t.showDayNumber&&wq(h,f.currentRange,u);return ee(dO,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Sq,date:h,dateProfile:f,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:g,extraRenderProps:t.extraRenderProps},(y,v)=>ee("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&ee(j9,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:i_(e,h,"week"),date:h,defaultFormat:Aq}),!v.isDisabled&&(t.showDayNumber||gO(o)||t.forceDayTop)?ee("div",{className:"fc-daygrid-day-top"},ee(y,{elTag:"a",elClasses:["fc-daygrid-day-number",g&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},i_(e,h)),{id:r.dayNumberId})})):t.showDayNumber?ee("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ee("a",{className:"fc-daygrid-day-number"},"")):void 0,ee("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,ee("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},ee(Eq,{allDayDate:h,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),ee("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Sq(n){return n.dayNumberText||ee(rn,null,"")}function wq(n,e,t){const{start:r,end:s}=e,o=Ua(s,-1),u=t.getYear(r),h=t.getMonth(r),f=t.getYear(o),g=t.getMonth(o);return!(u===f&&h===g)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<s.valueOf())}function NO(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function OO(n){return NO(n)+":"+n.lastCol}function Rq(n,e,t,r,s,o,u){let h=new Dq(z=>{let j=n[z.index].eventRange.instance.instanceId+":"+z.span.start+":"+(z.span.end-1);return s[j]||1});h.allowReslicing=!0,h.strictOrder=r,e===!0||t===!0?(h.maxCoord=o,h.hiddenConsumes=!0):typeof e=="number"?h.maxStackCnt=e:typeof t=="number"&&(h.maxStackCnt=t,h.hiddenConsumes=!0);let f=[],g=[];for(let z=0;z<n.length;z+=1){let j=n[z],te=OO(j);s[te]!=null?f.push({index:z,span:{start:j.firstCol,end:j.lastCol+1}}):g.push(j)}let y=h.addSegs(f),v=h.toRects(),{singleColPlacements:E,multiColPlacements:A,leftoverMargins:I}=Cq(v,n,u),N=[],O=[];for(let z of g){A[z.firstCol].push({seg:z,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let j=z.firstCol;j<=z.lastCol;j+=1)E[j].push({seg:du(z,j,j+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let z=0;z<u.length;z+=1)N.push(0);for(let z of y){let j=n[z.index],te=z.span;A[te.start].push({seg:du(j,te.start,te.end,u),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let he=te.start;he<te.end;he+=1)N[he]+=1,E[he].push({seg:du(j,he,he+1,u),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let z=0;z<u.length;z+=1)O.push(I[z]);return{singleColPlacements:E,multiColPlacements:A,moreCnts:N,moreMarginTops:O}}function Cq(n,e,t){let r=Iq(n,t.length),s=[],o=[],u=[];for(let h=0;h<t.length;h+=1){let f=r[h],g=[],y=0,v=0;for(let A of f){let I=e[A.index];g.push({seg:du(I,h,h+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:A.levelCoord,marginTop:A.levelCoord-y}),y=A.levelCoord+A.thickness}let E=[];y=0,v=0;for(let A of f){let I=e[A.index],N=A.span.end-A.span.start>1,O=A.span.start===h;v+=A.levelCoord-y,y=A.levelCoord+A.thickness,N?(v+=A.thickness,O&&E.push({seg:du(I,A.span.start,A.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:A.levelCoord,marginTop:0})):O&&(E.push({seg:du(I,A.span.start,A.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:A.levelCoord,marginTop:v}),v=0)}s.push(g),o.push(E),u.push(v)}return{singleColPlacements:s,multiColPlacements:o,leftoverMargins:u}}function Iq(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let s=r.span.start;s<r.span.end;s+=1)t[s].push(r);return t}function du(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let s=n.eventRange,o=s.range,u=Au(o,{start:r[e].date,end:Dn(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:u},isStart:n.isStart&&u.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&u.end.valueOf()===o.end.valueOf()})}class Dq extends s9{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:r}=this,s=o=>!this.forceHidden[nh(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(s);return t}handleInvalidInsertion(e,t,r){const{entriesByLevel:s,forceHidden:o}=this,{touchingEntry:u,touchingLevel:h,touchingLateral:f}=e;if(this.hiddenConsumes&&u){const g=nh(u);if(!o[g])if(this.allowReslicing){const y=Object.assign(Object.assign({},u),{span:iO(u.span,t.span)}),v=nh(y);o[v]=!0,s[h][f]=y,r.push(y),this.splitEntry(u,t,r)}else o[g]=!0,r.push(u)}super.handleInvalidInsertion(e,t,r)}}class MO extends rl{constructor(){super(...arguments),this.cellElRefs=new Mo,this.frameElRefs=new Mo,this.fgElRefs=new Mo,this.segHarnessRefs=new Mo,this.rootElRef=Is(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:s}=r,o=e.cells.length,u=Cd(e.businessHourSegs,o),h=Cd(e.bgEventSegs,o),f=Cd(this.getHighlightSegs(),o),g=Cd(this.getMirrorSegs(),o),{singleColPlacements:y,multiColPlacements:v,moreCnts:E,moreMarginTops:A}=Rq(TF(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),I=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ee("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((N,O)=>{let z=this.renderFgSegs(O,e.forPrint?y[O]:v[O],e.todayRange,I),j=this.renderFgSegs(O,Nq(g[O],v),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ee(Tq,{key:N.key,elRef:this.cellElRefs.createRef(N.key),innerElRef:this.frameElRefs.createRef(N.key),dateProfile:e.dateProfile,date:N.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&O===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:N.extraRenderProps,extraDataAttrs:N.extraDataAttrs,extraClassNames:N.extraClassNames,extraDateSpan:N.extraDateSpan,moreCnt:E[O],moreMarginTop:A[O],singlePlacements:y[O],fgContentElRef:this.fgElRefs.createRef(N.key),fgContent:ee(rn,null,ee(rn,null,z),ee(rn,null,j)),bgContent:ee(rn,null,this.renderFillSegs(f[O],"highlight"),this.renderFillSegs(u[O],"non-business"),this.renderFillSegs(h[O],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!di(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,s,o,u,h){let{context:f}=this,{eventSelection:g}=this.props,{framePositions:y}=this.state,v=this.props.cells.length===1,E=o||u||h,A=[];if(y)for(let I of t){let{seg:N}=I,{instanceId:O}=N.eventRange.instance,z=I.isVisible&&!s[O],j=I.isAbsolute,te="",he="";j&&(f.isRtl?(he=0,te=y.lefts[N.lastCol]-y.lefts[N.firstCol]):(te=0,he=y.rights[N.firstCol]-y.rights[N.lastCol])),A.push(ee("div",{className:"fc-daygrid-event-harness"+(j?" fc-daygrid-event-harness-abs":""),key:NO(N),ref:E?null:this.segHarnessRefs.createRef(OO(N)),style:{visibility:z?"":"hidden",marginTop:j?"":I.marginTop,top:j?I.absoluteTop:"",left:te,right:he}},CO(N)?ee(DO,Object.assign({seg:N,isDragging:o,isSelected:O===g,defaultDisplayEventEnd:v},th(N,r))):ee(IO,Object.assign({seg:N,isDragging:o,isResizing:u,isDateSelecting:h,isSelected:O===g,defaultDisplayEventEnd:v},th(N,r)))))}return A}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:s}=this.props,{framePositions:o}=this.state,u=[];if(o)for(let h of e){let f=r?{right:0,left:o.lefts[h.lastCol]-o.lefts[h.firstCol]}:{left:0,right:o.rights[h.firstCol]-o.rights[h.lastCol]};u.push(ee("div",{key:DF(h.eventRange),className:"fc-daygrid-bg-harness",style:f},t==="bg-event"?ee(U9,Object.assign({seg:h},th(h,s))):B9(t)))}return ee(rn,{},...u)}updateSizing(e){let{props:t,state:r,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let f=t.cells.map(g=>s.currentMap[g.key]);if(f.length){let g=this.rootElRef.current,y=new Fg(g,f,!0,!1);(!r.framePositions||!r.framePositions.similarTo(y))&&this.setState({framePositions:new Fg(g,f,!0,!1)})}}const o=this.state.segHeights,u=this.querySegHeights(),h=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),u),maxContentHeight:h?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let s=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}MO.addStateEquality({segHeights:di});function Nq(n,e){if(!n.length)return[];let t=Oq(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function Oq(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class Mq extends rl{constructor(){super(...arguments),this.splitBusinessHourSegs=pt(Xd),this.splitBgEventSegs=pt(Pq),this.splitFgEventSegs=pt(Xd),this.splitDateSelectionSegs=pt(Xd),this.splitEventDrag=pt(Z0),this.splitEventResize=pt(Z0),this.rowRefs=new Mo}render(){let{props:e,context:t}=this,r=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),u=this.splitFgEventSegs(e.fgEventSegs,r),h=this.splitDateSelectionSegs(e.dateSelectionSegs,r),f=this.splitEventDrag(e.eventDrag,r),g=this.splitEventResize(e.eventResize,r),y=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return ee(bp,{unit:"day"},(v,E)=>ee(rn,null,e.cells.map((A,I)=>ee(MO,{ref:this.rowRefs.createRef(I),key:A.length?A[0].date.toISOString():I,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:E,dateProfile:e.dateProfile,cells:A,renderIntro:e.renderRowIntro,businessHourSegs:s[I],eventSelection:e.eventSelection,bgEventSegs:o[I],fgEventSegs:u[I],dateSelectionSegs:h[I],eventDrag:f[I],eventResize:g[I],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:y,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Fg(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Fg(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:s}=this,o=r.leftToIndex(e),u=s.topToIndex(t);if(u!=null&&o!=null){let h=this.props.cells[u][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(u,o),allDay:!0},h.extraDateSpan),dayEl:this.getCellEl(u,o),rect:{left:r.lefts[o],right:r.rights[o],top:s.tops[u],bottom:s.bottoms[u]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,s=Dn(r,1);return{start:r,end:s}}}function Pq(n,e){return Xd(n.filter(xq),e)}function xq(n){return n.eventRange.def.allDay}class kq extends rl{constructor(){super(...arguments),this.elRef=Is(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:s}=e,o=r===!0||t===!0;o&&!s&&(o=!1,t=null,r=null);let u=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return ee("div",{ref:this.elRef,className:u.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ee("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,ee("tbody",{role:"presentation"},ee(Mq,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Vq(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function Vq(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${cH(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${SE(e.currentDate)}"]`)),t}class Lq extends p9{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Uq extends rl{constructor(){super(...arguments),this.slicer=new Lq,this.tableRef=Is()}render(){let{props:e,context:t}=this;return ee(kq,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class zq extends vq{constructor(){super(...arguments),this.buildDayTableModel=pt(Bq),this.headerRef=Is(),this.tableRef=Is()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,s=this.buildDayTableModel(r.dateProfile,t),o=e.dayHeaders&&ee(h9,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),u=h=>ee(Uq,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:h.tableColGroupNode,tableMinWidth:h.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:h.clientWidth,clientHeight:h.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,u,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,u)}}function Bq(n,e){let t=new d9(n.renderRange,e);return new g9(t,/year|month|week/.test(n.currentRangeUnit))}class jq extends UN{buildRenderRange(e,t,r){let s=super.buildRenderRange(e,t,r),{props:o}=this;return Hq({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}}function Hq(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:s}=t,o;if(n.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(s),o.valueOf()!==s.valueOf()&&(s=T0(o,1))),n.fixedWeekCount){let u=e.startOfWeek(e.startOfMonth(Dn(t.end,-1))),h=Math.ceil(Zj(u,s));s=T0(s,6-h)}return{start:r,end:s}}var Fq=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';bN(Fq);var qq=qa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:zq,dateProfileGeneratorClass:jq},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});jE.touchMouseIgnoreWait=500;let a_=0,qg=0,o_=!1;class PO{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&Gq(t)&&this.tryStart(t)){let r=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let r=this.createEventFromMouse(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let r=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let r=this.createEventFromTouch(t);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=t=>{if(this.isDragging){let r=t.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,$q()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:s,deltaX:r-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new Ep,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Yq()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Qq()}tryStart(e){let t=this.querySubjectEl(e),r=e.target;return t&&(!this.handleSelector||qn(r,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){o_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?qn(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return a_||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(o_=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let r=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:s}}createEventFromTouch(e,t){let r=e.touches,s,o,u=0,h=0;return r&&r.length?(s=r[0].pageX,o=r[0].pageY):(s=e.pageX,o=e.pageY),t?(this.origPageX=s,this.origPageY=o):(u=s-this.origPageX,h=o-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:o,deltaX:u,deltaY:h}}}function Gq(n){return n.button===0&&!n.ctrlKey}function $q(){a_+=1,setTimeout(()=>{a_-=1},jE.touchMouseIgnoreWait)}function Yq(){qg+=1,qg===1&&window.addEventListener("touchmove",xO,{passive:!1})}function Qq(){qg-=1,qg||window.removeEventListener("touchmove",xO,{passive:!1})}function xO(n){o_&&n.preventDefault()}class Wq{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let r=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,t){let r=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",Zc(r,{left:s.left,top:s.top}),xj(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(bE(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Zc(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Zc(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class kO extends BE{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class VO extends kO{constructor(e,t){super(new r9(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return t9(this.scrollController.el)}}class Kq extends kO{constructor(e){super(new i9,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const J0=typeof performance=="function"?performance.now:Date.now;class Xq{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=J0();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let r=e-window.scrollX,s=t-window.scrollY,o=this.pointerScreenY===null?0:s-this.pointerScreenY,u=this.pointerScreenX===null?0:r-this.pointerScreenX;o<0?this.everMovedUp=!0:o>0&&(this.everMovedDown=!0),u<0?this.everMovedLeft=!0:u>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(J0()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:r}=e,{edgeThreshold:s}=this,o=s-e.distance,u=o*o/(s*s)*this.maxVelocity*t,h=1;switch(e.name){case"left":h=-1;case"right":r.setScrollLeft(r.getScrollLeft()+u*h);break;case"top":h=-1;case"bottom":r.setScrollTop(r.getScrollTop()+u*h);break}}computeBestEdge(e,t){let{edgeThreshold:r}=this,s=null,o=this.scrollCaches||[];for(let u of o){let h=u.clientRect,f=e-h.left,g=h.right-e,y=t-h.top,v=h.bottom-t;f>=0&&g>=0&&y>=0&&v>=0&&(y<=r&&this.everMovedUp&&u.canScrollUp()&&(!s||s.distance>y)&&(s={scrollCache:u,name:"top",distance:y}),v<=r&&this.everMovedDown&&u.canScrollDown()&&(!s||s.distance>v)&&(s={scrollCache:u,name:"bottom",distance:v}),f<=r&&this.everMovedLeft&&u.canScrollLeft()&&(!s||s.distance>f)&&(s={scrollCache:u,name:"left",distance:f}),g<=r&&this.everMovedRight&&u.canScrollRight()&&(!s||s.distance>g)&&(s={scrollCache:u,name:"right",distance:g}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new Kq(!1):new VO(t,!1))}queryScrollEls(e){let t=[];for(let r of this.scrollQuery)typeof r=="object"?t.push(r):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return t}}class Fh extends a9{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,kj(document.body),Lj(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let o=this.minDistance,u,{deltaX:h,deltaY:f}=s;u=h*h+f*f,u>=o*o&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,Vj(document.body),Uj(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new PO(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),t&&(r.selector=t),this.mirror=new Wq,this.autoScroller=new Xq}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class Zq{constructor(e){this.el=e,this.origRect=zE(e),this.scrollCaches=rO(e).map(t=>new VO(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let r={left:e,top:t};for(let s of this.scrollCaches)if(!Jq(s.getEventTarget())&&!qF(r,s.clientRect))return!1;return!0}}function Jq(n){let e=n.tagName;return e==="HTML"||e==="BODY"}class Ap{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):s.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Ep}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},r=t,s=e.subjectEl,o;s instanceof HTMLElement&&(o=zE(s),r=GF(r,o));let u=this.initialHit=this.queryHitForOffset(r.left,r.top);if(u){if(this.useSubjectCenter&&o){let h=eO(o,u.rect);h&&(r=$F(h))}this.coordAdjust=YF(r,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Tp(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=el(this.droppableStore,e=>(e.component.prepareHits(),new Zq(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:r,offsetTrackers:s}=this,o=null;for(let u in r){let h=r[u].component,f=s[u];if(f&&f.isWithinClipping(e,t)){let g=f.computeLeft(),y=f.computeTop(),v=e-g,E=t-y,{origRect:A}=f,I=A.right-A.left,N=A.bottom-A.top;if(v>=0&&v<I&&E>=0&&E<N){let O=h.queryHit(v,E,I,N);O&&vp(O.dateProfile.activeRange,O.dateSpan.range)&&(this.disablePointCheck||f.el.contains(f.el.getRootNode().elementFromPoint(v+g-window.scrollX,E+y-window.scrollY)))&&(!o||O.layer>o.layer)&&(O.componentId=u,O.context=h.context,O.rect.left+=g,O.rect.right+=g,O.rect.top+=y,O.rect.bottom+=y,o=O)}}}return o}}function Tp(n,e){return!n&&!e?!0:!!n!=!!e?!1:PF(n.dateSpan,e.dateSpan)}function LO(n,e){let t={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(t,r(n,e));return Object.assign(t,e8(n,e.dateEnv)),t}function e8(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}class t8 extends Mu{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:s}=this,o=r.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(o))},this.handleDragEnd=r=>{let{component:s}=this,{pointer:o}=this.dragging;if(!o.wasTouchScroll){let{initialHit:u,finalHit:h}=this.hitDragging;if(u&&h&&Tp(u,h)){let{context:f}=s,g=Object.assign(Object.assign({},LO(u.dateSpan,f)),{dayEl:u.dayEl,jsEvent:r.origEvent,view:f.viewApi||f.calendarApi.view});f.emitter.trigger("dateClick",g)}}},this.dragging=new Fh(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new Ap(this.dragging,LE(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class n8 extends Mu{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=u=>{let{component:h,dragging:f}=this,{options:g}=h.context,y=g.selectable&&h.isValidDateDownEl(u.origEvent.target);f.setIgnoreMove(!y),f.delay=u.isTouch?r8(h):null},this.handleDragStart=u=>{this.component.context.calendarApi.unselect(u)},this.handleHitUpdate=(u,h)=>{let{context:f}=this.component,g=null,y=!1;if(u){let v=this.hitDragging.initialHit;u.componentId===v.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(v,u)||(g=i8(v,u,f.pluginHooks.dateSelectionTransformers)),(!g||!m9(g,u.dateProfile,f))&&(y=!0,g=null)}g?f.dispatch({type:"SELECT_DATES",selection:g}):h||f.dispatch({type:"UNSELECT_DATES"}),y?AE():TE(),h||(this.dragSelection=g)},this.handlePointerUp=u=>{this.dragSelection&&($N(this.dragSelection,u,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:r}=t.context,s=this.dragging=new Fh(e.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Ap(this.dragging,LE(e));o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function r8(n){let{options:e}=n.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function i8(n,e,t){let r=n.dateSpan,s=e.dateSpan,o=[r.range.start,r.range.end,s.range.start,s.range.end];o.sort(Fj);let u={};for(let h of t){let f=h(n,e);if(f===!1)return null;f&&Object.assign(u,f)}return u.range={start:o[0],end:o[3]},u.allDay=r.allDay,u}class qh extends Mu{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=u=>{let h=u.origEvent.target,{component:f,dragging:g}=this,{mirror:y}=g,{options:v}=f.context,E=f.context;this.subjectEl=u.subjectEl;let A=this.subjectSeg=Tu(u.subjectEl),N=(this.eventRange=A.eventRange).instance.instanceId;this.relevantEvents=PE(E.getCurrentData().eventStore,N),g.minDistance=u.isTouch?0:v.eventDragMinDistance,g.delay=u.isTouch&&N!==f.props.eventSelection?a8(f):null,v.fixedMirrorParent?y.parentNode=v.fixedMirrorParent:y.parentNode=qn(h,".fc"),y.revertDuration=v.dragRevertDuration;let O=f.isValidSegDownEl(h)&&!qn(h,".fc-event-resizer");g.setIgnoreMove(!O),this.isDragging=O&&u.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=u=>{let h=this.component.context,f=this.eventRange,g=f.instance.instanceId;u.isTouch?g!==this.component.props.eventSelection&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):h.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(h.calendarApi.unselect(u),h.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new $t(h,f.def,f.instance),jsEvent:u.origEvent,view:h.viewApi}))},this.handleHitUpdate=(u,h)=>{if(!this.isDragging)return;let f=this.relevantEvents,g=this.hitDragging.initialHit,y=this.component.context,v=null,E=null,A=null,I=!1,N={affectedEvents:f,mutatedEvents:hi(),isEvent:!0};if(u){v=u.context;let O=v.options;y===v||O.editable&&O.droppable?(E=s8(g,u,this.eventRange.instance.range.start,v.getCurrentData().pluginHooks.eventDragMutationMassagers),E&&(A=VE(f,v.getCurrentData().eventUiBases,E,v),N.mutatedEvents=A,oO(N,u.dateProfile,v)||(I=!0,E=null,A=null,N.mutatedEvents=hi()))):v=null}this.displayDrag(v,N),I?AE():TE(),h||(y===v&&Tp(g,u)&&(E=null),this.dragging.setMirrorNeedsRevert(!E),this.dragging.setMirrorIsVisible(!u||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=v,this.validMutation=E,this.mutatedRelevantEvents=A)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=u=>{if(this.isDragging){let h=this.component.context,f=h.viewApi,{receivingContext:g,validMutation:y}=this,v=this.eventRange.def,E=this.eventRange.instance,A=new $t(h,v,E),I=this.relevantEvents,N=this.mutatedRelevantEvents,{finalHit:O}=this.hitDragging;if(this.clearDrag(),h.emitter.trigger("eventDragStop",{el:this.subjectEl,event:A,jsEvent:u.origEvent,view:f}),y){if(g===h){let z=new $t(h,N.defs[v.defId],E?N.instances[E.instanceId]:null);h.dispatch({type:"MERGE_EVENTS",eventStore:N});let j={oldEvent:A,event:z,relatedEvents:Vo(N,h,E),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:I})}},te={};for(let he of h.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(te,he(y,h));h.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},j),te),{el:u.subjectEl,delta:y.datesDelta,jsEvent:u.origEvent,view:f})),h.emitter.trigger("eventChange",j)}else if(g){let z={event:A,relatedEvents:Vo(I,h,E),revert(){h.dispatch({type:"MERGE_EVENTS",eventStore:I})}};h.emitter.trigger("eventLeave",Object.assign(Object.assign({},z),{draggedEl:u.subjectEl,view:f})),h.dispatch({type:"REMOVE_EVENTS",eventStore:I}),h.emitter.trigger("eventRemove",z);let j=N.defs[v.defId],te=N.instances[E.instanceId],he=new $t(g,j,te);g.dispatch({type:"MERGE_EVENTS",eventStore:N});let Ee={event:he,relatedEvents:Vo(N,g,te),revert(){g.dispatch({type:"REMOVE_EVENTS",eventStore:N})}};g.emitter.trigger("eventAdd",Ee),u.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:E.instanceId}),g.emitter.trigger("drop",Object.assign(Object.assign({},LO(O.dateSpan,g)),{draggedEl:u.subjectEl,jsEvent:u.origEvent,view:O.context.viewApi})),g.emitter.trigger("eventReceive",Object.assign(Object.assign({},Ee),{draggedEl:u.subjectEl,view:O.context.viewApi}))}}else h.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:r}=t.context,s=this.dragging=new Fh(e.el);s.pointer.selector=qh.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=r.dragScroll;let o=this.hitDragging=new Ap(this.dragging,r_);o.useSubjectCenter=e.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let r=this.component.context,s=this.receivingContext;s&&s!==e&&(s===r?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:hi(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}qh.SELECTOR=".fc-event-draggable, .fc-event-resizable";function s8(n,e,t,r){let s=n.dateSpan,o=e.dateSpan,u=s.range.start,h=o.range.start,f={};s.allDay!==o.allDay&&(f.allDay=o.allDay,f.hasEnd=e.context.options.allDayMaintainDuration,o.allDay?u=Gt(t):u=t);let g=tu(u,h,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);g.milliseconds&&(f.allDay=!1);let y={datesDelta:g,standardProps:f};for(let v of r)v(y,n,e);return y}function a8(n){let{options:e}=n.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class o8 extends Mu{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let{component:u}=this,h=this.querySegEl(o),f=Tu(h),g=this.eventRange=f.eventRange;this.dragging.minDistance=u.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(o.origEvent.target)||o.isTouch&&this.component.props.eventSelection!==g.instance.instanceId)},this.handleDragStart=o=>{let{context:u}=this.component,h=this.eventRange;this.relevantEvents=PE(u.getCurrentData().eventStore,this.eventRange.instance.instanceId);let f=this.querySegEl(o);this.draggingSegEl=f,this.draggingSeg=Tu(f),u.calendarApi.unselect(),u.emitter.trigger("eventResizeStart",{el:f,event:new $t(u,h.def,h.instance),jsEvent:o.origEvent,view:u.viewApi})},this.handleHitUpdate=(o,u,h)=>{let{context:f}=this.component,g=this.relevantEvents,y=this.hitDragging.initialHit,v=this.eventRange.instance,E=null,A=null,I=!1,N={affectedEvents:g,mutatedEvents:hi(),isEvent:!0};o&&(o.componentId===y.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(y,o)||(E=l8(y,o,h.subjectEl.classList.contains("fc-event-resizer-start"),v.range))),E&&(A=VE(g,f.getCurrentData().eventUiBases,E,f),N.mutatedEvents=A,oO(N,o.dateProfile,f)||(I=!0,E=null,A=null,N.mutatedEvents=null)),A?f.dispatch({type:"SET_EVENT_RESIZE",state:N}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),I?AE():TE(),u||(E&&Tp(y,o)&&(E=null),this.validMutation=E,this.mutatedRelevantEvents=A)},this.handleDragEnd=o=>{let{context:u}=this.component,h=this.eventRange.def,f=this.eventRange.instance,g=new $t(u,h,f),y=this.relevantEvents,v=this.mutatedRelevantEvents;if(u.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:g,jsEvent:o.origEvent,view:u.viewApi}),this.validMutation){let E=new $t(u,v.defs[h.defId],f?v.instances[f.instanceId]:null);u.dispatch({type:"MERGE_EVENTS",eventStore:v});let A={oldEvent:g,event:E,relatedEvents:Vo(v,u,f),revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:y})}};u.emitter.trigger("eventResize",Object.assign(Object.assign({},A),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||_t(0),endDelta:this.validMutation.endDelta||_t(0),jsEvent:o.origEvent,view:u.viewApi})),u.emitter.trigger("eventChange",A)}else u.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,r=this.dragging=new Fh(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new Ap(this.dragging,LE(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return qn(e.subjectEl,".fc-event")}}function l8(n,e,t,r){let s=n.context.dateEnv,o=n.dateSpan.range.start,u=e.dateSpan.range.start,h=tu(o,u,s,n.largeUnit);if(t){if(s.add(r.start,h)<r.end)return{startDelta:h}}else if(s.add(r.end,h)>r.start)return{endDelta:h};return null}class u8{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let s=this.context.options.unselectCancel,o=wN(r.origEvent);this.matchesCancel=!!qn(o,s),this.matchesEvent=!!qn(o,qh.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:s}=this,{documentPointer:o}=this,u=s.getCurrentData();if(!o.wasTouchScroll){if(u.dateSelection&&!this.isRecentPointerDateSelect){let h=s.options.unselectAuto;h&&(!h||!this.matchesCancel)&&s.calendarApi.unselect(r)}u.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new PO(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const c8={fixedMirrorParent:Z},h8={dateClick:Z,eventDragStart:Z,eventDragStop:Z,eventDrop:Z,eventResizeStart:Z,eventResizeStop:Z,eventResize:Z,drop:Z,eventReceive:Z,eventLeave:Z};jE.dataAttrPrefix="";var f8=qa({name:"@fullcalendar/interaction",componentInteractions:[t8,n8,qh,o8],calendarInteractions:[u8],elementDraggingImpl:Fh,optionRefiners:c8,listenerRefiners:h8});function d8(){const[n,e]=q.useState(),t=Su();return ce.jsx("div",{className:" bg-white  ",children:ce.jsx(SO,{plugins:[qq,f8],initialView:"dayGridMonth",height:"auto",dateClick:r=>{e(r.dateStr),console.log(n),n!=null&&t(`/Projeto-AppAgenda/${n}`)}})})}function g8(){const n=Su(),[e,t]=q.useState({width:window.innerWidth,height:window.innerHeight}),[r,s]=q.useState([]),o=new Date().toISOString().split("T")[0];q.useEffect(()=>{const h=bv(Ia,f=>{if(!f)return;const g=new Date().toISOString().split("T")[0],y=Fv(ko,"Usuario",f.uid,"eventos",g,"lista"),v=rj(y,v1("createdAt","asc")),E=A1(v,A=>{const I=A.docs.map(N=>({id:N.id,...N.data()}));s(I)});return()=>E()});return()=>h()},[]),q.useEffect(()=>{const h=bv(Ia,g=>{if(!g){n("/Projeto-AppAgenda/Cadastro");return}return()=>h()});function f(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[e]);async function u(h){const f=Ia.currentUser,g=new Date().toISOString().split("T")[0];if(!f)return;const y=zh(ko,"Usuario",f.uid,"eventos",g,"lista",h);b1(y)}return ce.jsxs("main",{className:"",children:[ce.jsx(z1,{}),e.width<=650&&ce.jsxs("div",{className:"flex flex-col items-center p-4",children:[ce.jsx(d8,{}),r.length>0?ce.jsxs("h1",{className:"text-xl font-bold my-4",children:["ANOTAES DE HOJE: ",o]}):ce.jsx(ce.Fragment,{children:ce.jsx("h2",{className:"text-xl font-bold my-4",children:"Voc No tem anotaes no dia de hoje! :("})}),ce.jsx("div",{className:"flex flex-col w-full",children:r.map(h=>ce.jsxs(ce.Fragment,{children:[ce.jsxs("div",{className:"flex gap-2",children:[ce.jsx("h2",{className:"font-medium text-lg",children:h.titulo}),ce.jsx("button",{className:"bg-red-600 text-white p-1 rounded",onClick:()=>{u(h.id)},children:"Excluir"})]}),ce.jsx("p",{children:h.descricao})," ",ce.jsx("br",{})]}))})]})]})}function p8(){return ce.jsxs(ce.Fragment,{children:[ce.jsx(g8,{}),ce.jsx(pk,{})]})}function m8(){const{day:n}=Yx(),[e,t]=q.useState({width:window.innerWidth,height:window.innerHeight}),[r,s]=q.useState([]),[o,u]=q.useState(""),[h,f]=q.useState("");q.useEffect(()=>{const v=NI(),E=bv(v,A=>{if(!A||!n)return;const I=Fv(ko,"Usuario",A.uid,"eventos",n,"lista"),N=c6(I,v1("createdAt","asc")),O=A1(N,z=>{const j=z.docs.map(te=>({id:te.id,...te.data()}));console.log("EVENTOS:",j),s(j)});return()=>O()});return()=>E()},[n]);async function g(v){v.preventDefault();const E=Ia.currentUser;!E||!n||(await m6(Fv(ko,"Usuario",E.uid,"eventos",n,"lista"),{titulo:o,descricao:h,createdAt:o6()}).then(()=>{u(""),f("")}),console.log("DAY:",n))}q.useEffect(()=>{function v(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[e]);async function y(v){const E=Ia.currentUser;if(!E||!n)return;const A=zh(ko,"Usuario",E.uid,"eventos",n,"lista",v);b1(A).then(()=>{console.log("DELETOU")})}return ce.jsxs(ce.Fragment,{children:[ce.jsx(z1,{}),ce.jsxs("form",{onSubmit:g,className:"flex flex-col w-8/12 mt-2",children:[ce.jsx("input",{type:"text",placeholder:"Titulo",required:!0,value:o,onChange:v=>u(v.target.value),className:"my-2 border-b border-black/50 bg-transparent outline-none focus:bg-green-100/50"}),ce.jsx("input",{type:"text",placeholder:"Decrio",required:!0,className:"mb-2 border-b border-black/50 bg-transparent outline-none focus:bg-green-100/50",value:h,onChange:v=>f(v.target.value)}),ce.jsx("button",{type:"submit",onClick:()=>{console.log(r)},className:"cursor-pointer bg-green-500 rounded mt-2 text-white",children:"Adicionar"})]}),r.map(v=>ce.jsxs("div",{className:"mt-10",children:[v.titulo," ",ce.jsx("button",{className:"bg-red-600 text-white p-1 rounded",onClick:()=>{y(v.id)},children:"Excluir"}),ce.jsx("br",{}),v.descricao,ce.jsx("br",{})," ",ce.jsx("br",{})]}))]})}const y8=Bk([{path:"/Projeto-AppAgenda",element:ce.jsx(p8,{})},{path:"/Projeto-AppAgenda/Cadastro",element:ce.jsx(v6,{})},{path:"/Projeto-AppAgenda/Login",element:ce.jsx(_6,{})},{path:"/Projeto-AppAgenda/:day",element:ce.jsx(m8,{})},{path:"*",element:ce.jsx("h1",{children:"404 - Pgina no encontrada"})}]);wP.createRoot(document.getElementById("root")).render(ce.jsx(Yr.StrictMode,{children:ce.jsx(Zk,{router:y8})}));
